<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>
TIBCO EBX® Documentation - 6.0.1</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type"></meta><meta content="Copyright TIBCO Software Inc. 2001-2021. All rights reserved." name="copyright"></meta><meta content="index_releasenotes" name="doc_id"></meta><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_common.css"></link><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_docPage.css"></link><link rel="stylesheet" type="text/css" href="../resources/syntaxHighlighter/styles/shCoreEclipse.css"></link><link rel="icon" type="image/x-icon" href="../resources/icons/brand.ico"></link></head>
<body class="ebx_simplePage">
<div id="ebx_centerer">
<div id="ebx_main">
<div id="printHeader">
<div class="productName">
TIBCO EBX®</div>
<div class="chapterName">
TIBCO EBX® Documentation</div>
</div>
<div id="ebx_breadcrumbTop">
<a id="ebx_navigationModeButton" class="ebx_clickableIconLink" href="../index.html?page=releasenotes/6.0.html" title="Display this page with header and navigation panes" target="_top">Navigation mode</a><span class="ebx_breadcrumbLabel"><a href="./index.html">Release Notes</a></span></div>
<h1>
6.0.1</h1>
<div id="toc">
<ul class="toc1">
<li class="toc1"><a href="#id1">6.0 service packs</a><ul class="toc2">
<li class="toc2"><a href="#id1s1">6.0.1</a></li></ul>
</li><li class="toc1"><a href="#Overview">Overview of 6.0</a><ul class="toc2">
<li class="toc2"><a href="#id2s1">New architecture</a></li><li class="toc2"><a href="#id2s2">User interface</a></li></ul>
</li><li class="toc1"><a href="#id3">User experience</a><ul class="toc2">
<li class="toc2"><a href="#quickSearch">Quick Search</a></li><li class="toc2"><a href="#advancedSearch">Advanced Search</a></li><li class="toc2"><a href="#findInHierarchy">Find in hierarchy</a></li><li class="toc2"><a href="#sortByRelevancy">Sort by relevancy</a></li><li class="toc2"><a href="#id3s5">Text sort</a></li><li class="toc2"><a href="#id3s6">Request cancellation</a></li><li class="toc2"><a href="#id3s7">Breadcrumb</a></li><li class="toc2"><a href="#id3s8">New toolbar for view menu</a></li><li class="toc2"><a href="#id3s9">Built-in service &#39;Edit link record&#39;</a></li><li class="toc2"><a href="#id3s10">Dataspace management new features</a></li><li class="toc2"><a href="#id3s11">Message box</a></li></ul>
</li><li class="toc1"><a href="#id4">User interface customization</a><ul class="toc2">
<li class="toc2"><a href="#id4s1">Custom layout editor</a></li><li class="toc2"><a href="#id4s2">Workflow Launcher</a></li><li class="toc2"><a href="#id4s3">Sort on hierarchical views</a></li><li class="toc2"><a href="#id4s4">Ergonomics and layout new parameters</a></li><li class="toc2"><a href="#id4s5">Association tables</a></li><li class="toc2"><a href="#id4s6">Form node label</a></li><li class="toc2"><a href="#id4s7">Built-in service &#39;Profile settings&#39;</a></li><li class="toc2"><a href="#id4s8">New Java API related to perspectives</a></li><li class="toc2"><a href="#id4s9">New method in ToolbarButton API</a></li></ul>
</li><li class="toc1"><a href="#Scripting">New scripted features in Data Modeling</a><ul class="toc2">
<li class="toc2"><a href="#id5s1">Scripted computed fields (limited to the current record)</a></li><li class="toc2"><a href="#permissionsScripting">Scripted permission rules</a></li></ul>
</li><li class="toc1"><a href="#Datamodel">Data modeling</a><ul class="toc2">
<li class="toc2"><a href="#Datamodel_indexing">Indexing and search strategy</a></li><li class="toc2"><a href="#Datamodel_linkedFields">Linked fields</a></li><li class="toc2"><a href="#id6s3">Uniqueness constraints on aggregated lists</a></li><li class="toc2"><a href="#id6s4">Associations by foreign key</a></li><li class="toc2"><a href="#id6s5">Data model introspection Java API</a></li></ul>
</li><li class="toc1"><a href="#Dataworkflow">Workflow</a><ul class="toc2">
<li class="toc2"><a href="#workflowEditor">Workflow editor</a></li><li class="toc2"><a href="#workflowSubworkflowStrategy">Sub-workflow progress strategy</a></li><li class="toc2"><a href="#diagramInExecutionSection">Workflow diagram available in the Data Workflows section</a></li><li class="toc2"><a href="#workflowCopyValidationReport">Ability to deactivate the validation report copy for the create snapshot script task.</a></li><li class="toc2"><a href="#workflowLauncherPublication">Publication service updated according to the new Workflow launcher feature</a></li><li class="toc2"><a href="#workflowJavaAPI">Workflow new Java API</a></li></ul>
</li><li class="toc1"><a href="#permissions">Permissions</a><ul class="toc2">
<li class="toc2"><a href="#permissionsScriptingProxy">Scripted permission rules</a></li><li class="toc2"><a href="#permissionsCache">Permissions cache extension</a></li></ul>
</li><li class="toc1"><a href="#DataValidation">Data validation</a><ul class="toc2">
<li class="toc2"><a href="#id9s1">Persistent validation reports</a></li><li class="toc2"><a href="#id9s2">Declaring modifications on programmatic constraints</a></li><li class="toc2"><a href="#id9s3">Validation message threshold</a></li><li class="toc2"><a href="#id9s4">Validating new records and updated values</a></li><li class="toc2"><a href="#id9s5">Retrieving the constraint related to a validation message</a></li><li class="toc2"><a href="#id9s6">Retrieving the blocking policy related to a validation message</a></li><li class="toc2"><a href="#id9s7">Closing a ValidationReportItemIterator</a></li><li class="toc2"><a href="#id9s8">Changes regarding the refresh policy</a></li><li class="toc2"><a href="#id9s9">Limit validation messages in logs</a></li></ul>
</li><li class="toc1"><a href="#dataServices">Data services</a><ul class="toc2">
<li class="toc2"><a href="#id10s1">REST Toolkit APIs</a></li><li class="toc2"><a href="#id10s2">Built-in RESTful services</a></li></ul>
</li><li class="toc1"><a href="#id11">Application server deployment</a><ul class="toc2">
<li class="toc2"><a href="#id11s1">Data compression library</a></li><li class="toc2"><a href="#id11s2">Speed of server startup</a></li><li class="toc2"><a href="#id11s3">XML Catalog API</a></li></ul>
</li><li class="toc1"><a href="#CoreAPI">Core Java API</a><ul class="toc2">
<li class="toc2"><a href="#sqlAPI">SQL queries</a></li><li class="toc2"><a href="#datasetTriggers">Triggers on datasets</a></li></ul>
</li><li class="toc1"><a href="#limitations">Limitations for this release</a><ul class="toc2">
<li class="toc2"><a href="#queryLimitations">Query limitations</a></li><li class="toc2"><a href="#valueLabelingLimitations">Value-labeling limitations</a></li><li class="toc2"><a href="#hierarchyLimitations">Hierarchical views limitations</a></li><li class="toc2"><a href="#dataValidationLimitations">Data validation limitations</a></li><li class="toc2"><a href="#linkedFieldsLimitations">Linked fields limitations</a></li></ul>
</li><li class="toc1"><a href="#versionUpgrade">Version upgrade</a><ul class="toc2">
<li class="toc2"><a href="#hardware">Hardware requirements</a></li><li class="toc2"><a href="#migrationGuide">Migrating an existing EBX&reg; 5 environment</a></li><li class="toc2"><a href="#supportedEnvironmentsChanges">Changes to supported environments</a></li><li class="toc2"><a href="#id14s4">New transaction management</a></li><li class="toc2"><a href="#customJavaPerformanceNotice">Changes to custom Java code performance </a></li><li class="toc2"><a href="#removedFeatures">Removed features</a></li><li class="toc2"><a href="#BackwardCompatibility">Backward compatibilities</a></li><li class="toc2"><a href="#id14s8">TIBCO Software Inc. Support</a></li></ul>
</li><li class="toc1"><a href="#bugfix601">6.0.1 Bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug601-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug601-Datamodeling">Data modeling</a></li><li class="toc2"><a href="#bug601-Dataservices">Data services</a></li><li class="toc2"><a href="#bug601-Datavalidation">Data validation</a></li><li class="toc2"><a href="#bug601-Dataviews">Data views</a></li><li class="toc2"><a href="#bug601-Dataviewshierarchies">Data views - hierarchies</a></li><li class="toc2"><a href="#bug601-Dataworkflows">Data workflows</a></li><li class="toc2"><a href="#bug601-DataspacesHistory">Dataspaces &amp; History</a></li><li class="toc2"><a href="#bug601-DistributedDataDelivery">Distributed Data Delivery (D3)</a></li><li class="toc2"><a href="#bug601-Infrastructure">Infrastructure</a></li><li class="toc2"><a href="#bug601-Queries">Queries</a></li><li class="toc2"><a href="#bug601-RESTToolkit">REST Toolkit</a></li><li class="toc2"><a href="#bug601-Userinterface">User interface</a></li><li class="toc2"><a href="#bug601-UsersPermissions">Users &amp; Permissions</a></li></ul>
</li><li class="toc1"><a href="#bugfix600">6.0.0 Bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug600-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug600-Datamodeling">Data modeling</a></li><li class="toc2"><a href="#bug600-Dataservices">Data services</a></li><li class="toc2"><a href="#bug600-Datavalidation">Data validation</a></li><li class="toc2"><a href="#bug600-Dataviews">Data views</a></li><li class="toc2"><a href="#bug600-Dataviewshierarchies">Data views - hierarchies</a></li><li class="toc2"><a href="#bug600-Dataworkflows">Data workflows</a></li><li class="toc2"><a href="#bug600-DataspacesHistory">Dataspaces &amp; History</a></li><li class="toc2"><a href="#bug600-DistributedDataDelivery">Distributed Data Delivery (D3)</a></li><li class="toc2"><a href="#bug600-Documentation">Documentation</a></li><li class="toc2"><a href="#bug600-ImportExport">Import / Export</a></li><li class="toc2"><a href="#bug600-JavaEEintegration">Java EE integration</a></li><li class="toc2"><a href="#bug600-Messagesi18n">Messages &amp; i18n</a></li><li class="toc2"><a href="#bug600-Miscellaneous">Miscellaneous</a></li><li class="toc2"><a href="#bug600-RESTToolkit">REST Toolkit</a></li><li class="toc2"><a href="#bug600-Userinterface">User interface</a></li><li class="toc2"><a href="#bug600-UsersPermissions">Users &amp; Permissions</a></li></ul>
</li></ul>
</div>
<h2 id="id1">
6.0 service packs</h2>
<h3 id="id1s1">
6.0.1</h3>
<p><em><strong>6.0.1</strong> has been released on June 25, 2021. Overview of this service pack: </em></p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Performance</p></td><td class="ebx_definitionListDefinition"><p>Many features benefit from a better performance. In particular: </p><ul>
<li><p>View access (CP-21576)</p></li><li><p>Selection in a view</p></li><li><p>Filtering of lists and fields in groups</p></li><li><p>Search on a table validation state, whose validation report contains many items</p></li><li><p>Queries involving computed fields (the computation during queries is deferred until the value is needed; if a computed field is indeed not needed for the execution of the query, its value will not be computed)</p></li><li><p>Validation of a table reference that has no table reference filter defined</p></li></ul>
</td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Disk latency</p></td><td class="ebx_definitionListDefinition"><p>The documentation has been completed to indicate a low disk latency as a requirement for a better overall performance. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Breadcrumb in history view</p></td><td class="ebx_definitionListDefinition"><p>In the breadcrumb, steps related to the history are now clearly identified. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Workflow editor</p></td><td class="ebx_definitionListDefinition"><ul>
<li><p>The button for step creation also appears on &#39;mouse over&#39;, to make this feature more intuitive. </p></li><li><p>The DEL shortcut is now functional and allows deleting a step.</p></li></ul>
</td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Workflow API</p></td><td class="ebx_definitionListDefinition"><ul>
<li><p>The work item key is now directly accessible from the Session interaction API. See <a target="_blank" href="../Java_API/com/orchestranetworks/interactions/SessionInteraction.html#getWorkItemKey--"><code>SessionInteraction.getWorkItemKey</code></a> for more information. </p></li><li><p>A method is added to <code>CreationWorkItemSpec</code>, to create a work item allocated to a specified user, with the possibility to reallocate it to a collection of profiles. See <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/CreationWorkItemSpec.html#forAllocationWithPossibleReallocation-com.orchestranetworks.service.UserReference-java.util.Collection-"><code>CreationWorkItemSpec.forAllocationWithPossibleReallocation</code></a> for more information. </p></li></ul>
</td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Toolbar API</p></td><td class="ebx_definitionListDefinition"><p>A new method in the &#39;Toolbar&#39; API allows defining whether the current button should be highlighted by default. See <a target="_blank" href="../Java_API/com/orchestranetworks/ui/toolbar/ToolbarButton.html#setHighlighted-boolean-"><code>ToolbarButton.setHighlighted</code></a> for more information. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Pattern</p></td><td class="ebx_definitionListDefinition"><p>The validation of patterns on string is now greedy, and no longer requires extra parentheses with the <code>|</code> operator. For example, the pattern <code>[0-9A-Z]{8}|[0-9A-Z]{11}</code> will validate strings of 8 upper characters, without requiring extra parentheses around the pattern. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>D3 broadcast</p></td><td class="ebx_definitionListDefinition"><p> The D3 broadcast <a href="../engine/d3_broadcast.html#broadcast_destination">Destination</a> section has been added to the documentation. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Browser support</p></td><td class="ebx_definitionListDefinition"><p>Microsoft Internet Explorer 10 is no longer supported. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Bug fixes</p></td><td class="ebx_definitionListDefinition"><p>See <a href="#bugfix601">6.0.1 Bug fixes</a> section. </p></td></tr>
</table>
<p><em> Note: <strong>6.0.0</strong> has been released on March 17, 2021. </em></p><h2 id="Overview">
Overview of 6.0</h2>
<h3 id="id2s1">
New architecture</h3>
<p>This release introduces a new architecture for the core engine, with numerous modifications affecting the way data is stored and queried. Our custom in-memory indexes have been replaced by persistent ones, based on Apache Lucene. The data representation and caches have been redesigned from scratch. The in-house query execution framework has been modernized by introducing Apache Calcite, which features a powerful query optimizer. This new architecture provides the following improvements. </p><ul>
<li><p>Supports larger volumes. </p></li><li><p>Improves search capabilities through text/fuzzy search. </p></li><li><p>Allows full-fledged SQL queries.</p></li><li><p>Improves availability by reducing the startup time of the application server. </p></li></ul>
<p>The new architecture also improves transaction management: more concurrency and a better isolation of data. This release bears some limitations, described in the section <a href="#limitations">Limitations for this release</a>.</p><h3 id="id2s2">
User interface</h3>
<ul>
<li><p><strong>Search and sort improvements</strong>: The new Quick Search component and the Advanced Search pane provide a better, more robust search experience. &#39;Find in hierarchy&#39; has been moved from the filter pane. Sort by relevancy is available when a quick search has been done, and you can also now sort on hierarchical views. Text sort now better follows language alphabetical order. </p></li><li><p><strong>More customizability</strong>: You can now use the web user interface to create customized forms with a graphical editor. You can now launch a workflow from any data context.</p></li><li><p><strong>Workflow editor</strong>: You can now completely edit a workflow model from the workflow diagram editor.</p></li><li><p><strong>Browsing support</strong>: The Microsoft Edge versions based on Chromium are now supported.</p></li></ul>
<div class="ebx_attention">
<h5>
Attention</h5>
<p><p><strong>Before proceeding to the upgrade of an existing EBX&reg; 5 environment, make sure that you have carefully read the <a href="#versionUpgrade">Version upgrade</a> section and the <a href="./6.0_migrationFrom5.x.html">EBX&reg; 5.9 to EBX&reg; 6 Migration Guide </a> chapter.</strong></p></p></div>
<h2 id="id3">
User experience</h2>
<h3 id="quickSearch">
Quick Search</h3>
<p>A new Quick Search component is available in the tabular and hierarchical views, at the center of the toolbar. Quick Search replaces the &#39;Text search&#39; pane that was formerly available in the filters pane, to offer a more user-friendly and more efficient search. Quick Search relies on a configurable search strategy, defined in the Search extension of the Data Model Assistant. Quick Search also offers Lucene query operators, such as wildcards, fuzzy search, or logical operators (NOT,...). </p><div class="ebx_note">
<h5>
Note</h5>
<p>The behavior of this component differs from that of the &#39;Text search&#39; in previous versions: &#39;Text search&#39; formerly retrieved results that merely <strong>contained</strong> the input criterion. The new component retrieves results where at least one of the input keywords is displayed <strong>as a whole term</strong>. You can modify this behavior on a field basis by electing a different search strategy.</p></div>
<p><img alt="/6.0.0-QuickSearch.png" src="../resources/images/releasenotes/6.0.0-QuickSearch.png"></img></p><p>See <a href="../user_data/userdata_viewing.html#quicksearch">Quick Search</a> for more information. </p><h3 id="advancedSearch">
Advanced Search</h3>
<p>A new Advanced Search pane is available at the top of the workspace area, for tabular and hierarchical views. This pane is hidden by default. It can be expanded and collapsed with a new dedicated button, which is located to the right of the Quick Search. The Advanced Search pane replaces the &#39;Search&#39; pane that was formerly available in the filters pane, offering a more user-friendly and efficient search. </p><p><img alt="/6.0.0.AdvancedSearch_Access.png" src="../resources/images/releasenotes/6.0.0.AdvancedSearch_Access.png"></img></p><p><img alt="/6.0.0.AdvancedSearch_Open.png" src="../resources/images/releasenotes/6.0.0.AdvancedSearch_Open.png"></img></p><h3 id="findInHierarchy">
Find in hierarchy</h3>
<p>On the hierarchy view, the &#39;Find in hierarchy&#39; feature has been moved from the filter pane on the right to the bottom bar of the workspace area. This bar is hidden by default. You can expand or collapse the view with a new dedicated button at the bottom left of the workspace area. </p><p><img alt="/6.0.0.FindInHierarchy.png" src="../resources/images/releasenotes/6.0.0.FindInHierarchy.png"></img></p><p><img alt="/6.0.0.FindInHierarchy_Open.png" src="../resources/images/releasenotes/6.0.0.FindInHierarchy_Open.png"></img></p><h3 id="sortByRelevancy">
Sort by relevancy</h3>
<p>When a text search is applied on a tabular view, by default, this view is sorted by score, with the most relevant records displayed first. Sort by relevancy is available for the results of a quick search, potentially in combination with more predicates (from advanced search). You can disable this type of sort and restore the previous sort criteria before the search. </p><p><img alt="/6.0.0.SortByRelevancy.png" src="../resources/images/releasenotes/6.0.0.SortByRelevancy.png"></img></p><p></p><p><img alt="/6.0.0.SortByRelevancy_MenuOpen.png" src="../resources/images/releasenotes/6.0.0.SortByRelevancy_MenuOpen.png"></img></p><h3 id="id3s5">
Text sort</h3>
<p>When you sort on a string column with a Name or Text search strategy, the sort now better follows the usual language alphabetical order. For instance, the letter &#39;&eacute;&#39; is after &#39;e&#39; and before &#39;f&#39;.</p><h3 id="id3s6">
Request cancellation</h3>
<p>When loading a page in a tabular view takes longer than expected, a &#39;Cancel&#39; button is displayed. </p><p><img alt="/6.0.0.RequestWaiting.png" src="../resources/images/releasenotes/6.0.0.RequestWaiting.png"></img></p><p> Clicking this button cancels the request and prompts you to define more selective filters or more simple sort criteria. </p><p><img alt="/6.0.0.RequestCancellation.png" src="../resources/images/releasenotes/6.0.0.RequestCancellation.png"></img></p><h3 id="id3s7">
Breadcrumb</h3>
<p>The breadcrumb has been improved to better support many levels, and to facilitate the navigation in these levels.</p><p><img alt="/6.0.0-Breadcrumb.png" src="../resources/images/releasenotes/6.0.0-Breadcrumb.png"></img></p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Maximum three elements in a breadcrumb</p></td><td class="ebx_definitionListDefinition"><p>The number of displayed elements is reduced to three to provide faster access to the breadcrumb items.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Menu button</p></td><td class="ebx_definitionListDefinition"><p>All non-displayed items are available in a drop-down menu.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Close button</p></td><td class="ebx_definitionListDefinition"><p>A new &#39;Close&#39; button closes the last item of the breadcrumb (the current page).</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Relationship labels</p></td><td class="ebx_definitionListDefinition"><p>When the record is opened from a foreign key or an association table, the table label is replaced by the relationship label.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Display of optional information</p></td><td class="ebx_definitionListDefinition"><p>The display of a table or relationship label preceding the record label is now optional and can be configured directly on the node in the Data Model Assistant.</p></td></tr>
</table>
<h3 id="id3s8">
New toolbar for view menu</h3>
<p>The &#39;Edit&#39;, &#39;Duplicate&#39;, &#39;Delete&#39;, &#39;Define as favorite&#39; actions are now accessible on the first level of the view menu. The toolbar containing these actions is displayed on mouseover of any view menu item.</p><p><img alt="/6.0.0.ViewMenuToolbar.png" src="../resources/images/releasenotes/6.0.0.ViewMenuToolbar.png"></img></p><h3 id="id3s9">
Built-in service &#39;Edit link record&#39;</h3>
<p>The built-in user service &quot;Edit link record&quot; was available only from the record form. You can now open the link record directly from the hierarchy view. In the hierarchy tree, this service is now available directly on the concerned hierarchy node. </p><p><img alt="/6.0.0.EditLinkRecord.png" src="../resources/images/releasenotes/6.0.0.EditLinkRecord.png"></img></p><h3 id="id3s10">
Dataspace management new features</h3>
<p> Dataspace tree results are now paginated to handle larger volumes, and a search bar has been added to help you quickly filter dataspaces. The search query is performed on the key and the localized label, and as you finish typing, the search results are refined seamlessly. </p><p><img alt="/6.0.0.DataSpaceTree.png" src="../resources/images/releasenotes/6.0.0.DataSpaceTree.png"></img></p><p> In administration, the default view of the dataspaces table has been changed to a hierarchical view, which better matches the logical representation of dataspaces. </p><h3 id="id3s11">
Message box</h3>
<p>The message box is restored to that of versions prior to 5.9. It displays only messages related to the current page. Every time a new page is displayed or closed, the content of the message box is automatically updated. Hence, old and new messages do not build up in the message box, and the same message is displayed only once. </p><p><img alt="/6.0.0.MessageBox.png" src="../resources/images/releasenotes/6.0.0.MessageBox.png"></img></p><h2 id="id4">
User interface customization</h2>
<h3 id="id4s1">
Custom layout editor</h3>
<p>From the Web user interface, you can now create customized forms with a graphical editor. No Java programming is required. This feature is available as an extension in the Data Model Assistant. </p><p><img alt="/6.0.0.CustomLayoutEditor.png" src="../resources/images/releasenotes/6.0.0.CustomLayoutEditor.png"></img></p><p>See <a href="../models/custom_forms.html">Custom forms</a> for more information. </p><h3 id="id4s2">
Workflow Launcher</h3>
<p>To launch any workflow with any data contexts, you can use the new user service. Workflows are henceforth available directly on the toolbar of tables, records, or hierarchies. </p><p>To display a workflow on the toolbar, first create and configure a workflow launcher from the &quot;Workflow launchers&quot; section. This section is available in the &quot;Administration/workflow management&quot; area. </p><p>This new feature offers several advantages, including improving the user experience by saving the user from shifting attention between the data view and the workflow view. It also supports launching the same workflow from any data context. </p><p><img alt="/6.0.0.WorkflowLauncher.png" src="../resources/images/releasenotes/6.0.0.WorkflowLauncher.png"></img></p><p>See <a href="../engine/admin_workflow_launcher_frontend.html">UI – Workflow launcher</a> for more information. </p><h3 id="id4s3">
Sort on hierarchical views</h3>
<p>You can now sort every level of a hierarchy view. In the configuration of the hierarchy view, the previous &#39;Ordering field&#39; option has been replaced by the new &#39;Sort strategy&#39; setting. This setting allows choosing between the strategies &#39;Default&#39;, &#39;Sort by columns&#39;, or &#39;Sort by ordering field&#39;. </p><p><img alt="/6.0.0.SortOnHierarchyViews.png" src="../resources/images/releasenotes/6.0.0.SortOnHierarchyViews.png"></img></p><p>See <a href="../user_data/userdata_viewing.html">Viewing data</a> for more information. </p><h3 id="id4s4">
Ergonomics and layout new parameters</h3>
<p>In &quot;Administration &gt; [any perspective] &gt; Ergonomics and layout&quot;, three new parameters have been added. </p><p><img alt="/6.0.0.ErgonomicsAndLayout.png" src="../resources/images/releasenotes/6.0.0.ErgonomicsAndLayout.png"></img></p><p>See <a href="../engine/admin_frontend.html#ergoBehavior">Ergonomics and layout</a> for more information. </p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Maximum length of text areas</p></td><td class="ebx_definitionListDefinition"><p>The maximum number of characters allowed for text area fields in forms. You can disable this parameter by entering a negative number.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>HTML editors spellchecking</p></td><td class="ebx_definitionListDefinition"><p>Spellchecking is provided by the browser spellchecker. After spellchecking is activated, the browser user interface dictionary is used by default. This setting is customizable if many dictionaries are installed. If HTML input is read-only, spellcheck is disabled.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Default display density</p></td><td class="ebx_definitionListDefinition"><p>You can set the default density for all users. The default display density is &#39;Compact&#39;.</p></td></tr>
</table>
<h3 id="id4s5">
Association tables</h3>
<p> The Data Model Assistant now contains options to hide toolbars of association tables. On association nodes, the options are located within the setting group &quot;Rendering in forms&quot;. This new feature is also available programmatically from the Java class <a target="_blank" href="../Java_API/com/orchestranetworks/ui/form/widget/UITable.html"> UITable</a>.</p><p><img alt="/6.0.0.AssociationTables.png" src="../resources/images/releasenotes/6.0.0.AssociationTables.png"></img></p><h3 id="id4s6">
Form node label</h3>
<p>To simulate whether a form node is mandatory, you can now add or remove a &#39;mandatory&#39; indicator (*) next to the label of the form node. Use the <a target="_blank" href="../Java_API/com/orchestranetworks/ui/JavaScriptCatalog.html#ebx_form_setMandatoryIndicator-java.lang.String-boolean-"><code>JavaScriptCatalog.ebx_form_setMandatoryIndicator</code></a> in JavaScript or <a target="_blank" href="../Java_API/com/orchestranetworks/ui/form/UIFormWriter.html#addJS_setNodeMandatoryIndicator-boolean-com.orchestranetworks.schema.Path-"><code>UIFormWriter.addJS_setNodeMandatoryIndicator</code></a> in Java. </p><p><img alt="/6.0.0.FormNodeLabel.png" src="../resources/images/releasenotes/6.0.0.FormNodeLabel.png"></img></p><h3 id="id4s7">
Built-in service &#39;Profile settings&#39;</h3>
<p>To modify your profile, you can use the built-in service &#39;Profile settings&#39;. This built-in service is available with the <a href="../engine/directory.html#DirectoryDefault">default directory</a>. It is deactivated when EBX&reg; is configured to use a <a href="../engine/directory.html#DirectorySpecific">custom directory</a>. If a custom directory extends the default one, the user service can be reactivated by setting <code>ebx.myProfile.enabled</code> to <code>true</code> in the EBX&reg; <a href="../installation/properties.html">main configuration file</a>. The built-in service &#39;Profile settings&#39; key is <a target="_blank" href="../Java_API/com/orchestranetworks/service/ServiceKey.html#MY_PROFILE"><code>ServiceKey.MY_PROFILE</code></a>. </p><p><img alt="/6.0.0.ProfileSettings_Access.png" src="../resources/images/releasenotes/6.0.0.ProfileSettings_Access.png"></img></p><p><img alt="/6.0.0.ProfileSettings.png" src="../resources/images/releasenotes/6.0.0.ProfileSettings.png"></img></p><h3 id="id4s8">
New Java API related to perspectives</h3>
<p> The new package <a target="_blank" href="../Java_API/com/orchestranetworks/ui/perspective/Perspective.html"><code>Perspective</code></a> provides classes for retrieving all relevant information about the preferences and menu for the perspectives. </p><p> To get the current perspective from a context, use the new method <code>getCurrentPerspective</code>. This method has been added to the following classes :</p><ul>
<li><p>UIFormContext. See <a target="_blank" href="../Java_API/com/orchestranetworks/ui/form/UIFormContext.html#getCurrentPerspective--"><code>UIFormContext.getCurrentPerspective</code></a></p></li><li><p>UILabelRendererContext. See <a target="_blank" href="../Java_API/com/orchestranetworks/ui/UILabelRendererContext.html#getCurrentPerspective--"><code>UILabelRendererContext.getCurrentPerspective</code></a></p></li><li><p>UserServiceRequest. See <a target="_blank" href="../Java_API/com/orchestranetworks/userservice/UserServiceRequest.html#getCurrentPerspective--"><code>UserServiceRequest.getCurrentPerspective</code></a></p></li><li><p>WidgetDisplayContext. See <a target="_blank" href="../Java_API/com/orchestranetworks/ui/form/widget/WidgetDisplayContext.html#getCurrentPerspective--"><code>WidgetDisplayContext.getCurrentPerspective</code></a></p></li></ul>
<h3 id="id4s9">
New method in ToolbarButton API</h3>
<p> The new method <a target="_blank" href="../Java_API/com/orchestranetworks/ui/toolbar/ToolbarButton.html#setHighlighted-boolean-"><code>ToolbarButton.setHighlighted</code></a> has been added to the <code>ToolbarButton</code> API. It allows defining whether the current button should be highlighted by default. </p><h2 id="Scripting">
New scripted features in Data Modeling</h2>
<h3 id="id5s1">
Scripted computed fields (limited to the current record)</h3>
<p>To specify fields that are computed at runtime, you can use the new scripting language. In this release, the computation can depend only on the data of the current record.</p><p>Compared to a &quot;value function&quot; written in Java, the advantages include the following: </p><ul>
<li><p>Scripting is less error-prone, due to tighter integration with EBX&reg;.</p></li><li><p>Indexing of the computed value allows efficient search and sort on the field.</p></li><li><p>Does not require advanced programming skills.</p></li><li><p>Does not require redeploying EBX&reg;.</p></li></ul>
<p>A rule editor, with syntax highlighting and contextual completion, is available in the Data Model Assistant.</p><p>See <a href="../dsl/function_field_reference.html">Function field</a> for more information.</p><p><img alt="/6.0.0.ScriptedComputedValues.png" src="../resources/images/releasenotes/6.0.0.ScriptedComputedValues.png"></img></p><h3 id="permissionsScripting">
Scripted permission rules</h3>
<p>To specify record-level access rules on a given table, use the new scripting language. Any permission rule must return the access (&quot;read-write&quot;, &quot;read-only&quot;, or &quot;hidden&quot;) for the current context: the current record, the current user session (including user roles), and so on.</p><p>Compared to &quot;access rules&quot; written in Java, an advantage is that scripting significantly improves performance, especially for large volumes of data, by leveraging the new EBX&reg; SQL engine.</p><p>A rule editor, with syntax highlighting and contextual completion, is available as an extension in the Data Model Assistant.</p><p>See <a href="../dsl/record_permission_reference.html">Record permission</a> for more information.</p><p><img alt="/6.0.0.ScriptedPermissionRules.png" src="../resources/images/releasenotes/6.0.0.ScriptedPermissionRules.png"></img></p><h2 id="Datamodel">
Data modeling</h2>
<h3 id="Datamodel_indexing">
Indexing and search strategy</h3>
<p>When you edit a field in the Data Model Assistant, you can now define its indexing. This new option is available under the tab &#39;Extensions&#39;, &#39;Search&#39; section. In particular for string fields, this new option supports defining how the Quick Search is performed.</p><p><img alt="/6.0.0.SearchStrategy.png" src="../resources/images/releasenotes/6.0.0.SearchStrategy.png"></img></p><p>Also, to implement advanced and efficient search strategies, use a new service to define custom indexing. This new service is available in the left navigation pane, under &#39;Extensions &gt; Search&#39;.</p><p>See <a href="../references/indexing.html">Search</a> for more information. </p><h3 id="Datamodel_linkedFields">
Linked fields</h3>
<p>You can now define a new kind of field that refers to another field in the target table of a relationship. Use this new feature to simulate a multi-table view by aggregating the fields of a main table with some fields of another table. </p><p>See <a href="../models/tables.html#linkedFields">Linked fields</a> for more information. </p><p><img alt="/6.0.0.LinkedFields.png" src="../resources/images/releasenotes/6.0.0.LinkedFields.png"></img></p><h3 id="id6s3">
Uniqueness constraints on aggregated lists</h3>
<p>You can now specify that a value must be unique in the scope of a simple list (fields that define <code>maxOccurs</code> &gt; 1)). </p><p> See <a href="../models/constraints.html#xsdUnique">Uniqueness constraint</a> for more information. </p><p><img alt="/6.0.0.UniquenessConstraints_Access.png" src="../resources/images/releasenotes/6.0.0.UniquenessConstraints_Access.png"></img></p><p><img alt="/6.0.0.UniquenessConstraints.png" src="../resources/images/releasenotes/6.0.0.UniquenessConstraints.png"></img></p><h3 id="id6s4">
Associations by foreign key</h3>
<p>You can now define associations &#39;by foreign key&#39;, based on an existing foreign key field that is multi-valued (defines <code>maxOccurs</code> &gt; 1).</p><p><img alt="/6.0.0.AssociationsByForeignKey.png" src="../resources/images/releasenotes/6.0.0.AssociationsByForeignKey.png"></img></p><h3 id="id6s5">
Data model introspection Java API</h3>
<table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Facet on mandatory field</p></td><td class="ebx_definitionListDefinition"><p>A new interface to retrieve the cardinality constraint specifying that a field is mandatory (<code>minOccurs=&quot;1&quot;</code> and <code>maxOccurs=&quot;1&quot;</code>). </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/schema/info/SchemaFacetOnMandatoryField.html"><code>SchemaFacetOnMandatoryField</code></a> for more information.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Retrieving the node associated to a facet</p></td><td class="ebx_definitionListDefinition"><p>A new method to retrieve the node that is associated with a facet. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/schema/info/SchemaFacet.html#getSchemaNode--"><code>SchemaFacet.getSchemaNode</code></a> for more information. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Facet validation message</p></td><td class="ebx_definitionListDefinition"><p>A new interface to retrieve the validation message defined by a facet. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/schema/info/SchemaFacet.html#getFacetValidationMessage--"><code>SchemaFacet.getFacetValidationMessage</code></a> and <a target="_blank" href="../Java_API/com/orchestranetworks/schema/info/SchemaFacetValidationMessage.html"><code>SchemaFacetValidationMessage</code></a> for more information. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>XPath filter on foreign key</p></td><td class="ebx_definitionListDefinition"><p>A new method to retrieve the XPath filter defined on a foreign key constraint. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/schema/info/SchemaFacetTableRef.html#getXPathFilter--"><code>SchemaFacetTableRef.getXPathFilter</code></a> for more information.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Default view properties</p></td><td class="ebx_definitionListDefinition"><p>A new method to determine if a node is hidden in all views of a table. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/schema/info/SchemaNodeDefaultView.html#isHiddenInAllViews--"><code>SchemaNodeDefaultView.isHiddenInAllViews</code></a> for more information. </p></td></tr>
</table>
<h2 id="Dataworkflow">
Workflow</h2>
<h3 id="workflowEditor">
Workflow editor</h3>
<p>The workflow modeling has been enhanced with a full graphical editor. </p><p>This editor is based on the graphical view already available in the previous version. This diagram has been enriched to support all of the creation, modification, and deletion operations. This editor provides more readability--in particular, in the case of redirects to existing steps. </p><p><img alt="/6.0.0.Workflow_TaskTools.png" src="../resources/images/releasenotes/6.0.0.Workflow_TaskTools.png"></img></p><p>All task actions are available from the diagram.</p><p>The [+] button, which inserts a task, is displayed on each selected link.</p><p><img alt="/6.0.0.Workflow_InsertTask.png" src="../resources/images/releasenotes/6.0.0.Workflow_InsertTask.png"></img></p><p>In addition to being more readable, the new editor offers additional features:</p><ul>
<li><p>Diagram export to a PDF document: this feature is useful for printing a workflow model. </p></li></ul>
<p><img alt="/6.0.0.Workflow_PDFExport.png" src="../resources/images/releasenotes/6.0.0.Workflow_PDFExport.png"></img></p><ul>
<li><p>Overview panel: this panel can be collapsed, expanded, and dragged, providing a high level view.</p><p><img alt="/6.0.0.Workflow_Overview.png" src="../resources/images/releasenotes/6.0.0.Workflow_Overview.png"></img></p></li><li><p>The data context wizard is also provided for custom library items (scripts, user tasks, and conditions).</p></li><li><p>The declaration of a static sub-workflow has been improved in the user interface: both input and output parameters now have either a select list or data context wizard to help.</p></li><li><p>Explicit actions to zoom in and out have been added in the toolbar of the diagram.</p><p><img alt="/6.0.0.Workflow_Zoom.png" src="../resources/images/releasenotes/6.0.0.Workflow_Zoom.png"></img></p></li></ul>
<p>By default, the old hierarchical view is no longer offered. You can reactivate it in read-only mode by using a dedicated property. See <a href="#backwardWorkflowHierarchicalView">Backward compatibility</a> for more information.</p><p>For more information about the workflow editor, see <a href="../user_workflowmodel/userworkflowmodel_createimplement.html#workflowdiagram">Editing the workflow diagram</a>.</p><h3 id="workflowSubworkflowStrategy">
Sub-workflow progress strategy</h3>
<p> The progress strategy is useful for performing several tasks consecutively, without returning to the inbox. This feature is now available for the sub-workflows. </p><p> A new concept has been added to implement this feature for sub-workflows: if there are several sub-workflows, you must define which one is the &quot;foreground sub-workflow&quot;. Only in this foreground sub-workflow can you exploit the progress strategy. </p><p>The user interface now includes a field for static sub-workflow to define the foreground sub-workflow.</p><p>The method <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/SubWorkflowsCreationContext.html#setForegroundSubWorkflow-com.orchestranetworks.workflow.ProcessLauncher-"><code>SubWorkflowsCreationContext.setForegroundSubWorkflow</code></a> has been added to set which sub-workflow should be considered in the foreground, for dynamic sub-workflow. And the method <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/ProcessLauncher.html#isForegroundSubworkflow--"><code>ProcessLauncher.isForegroundSubworkflow</code></a> has been added to know if a launcher is associated to a sub-workflow in the foreground. </p><p>For more information, see <a href="../user_workflowmodel/userworkflowmodel_createimplement.html#subworkflows">Sub-workflow invocations</a>.</p><h3 id="diagramInExecutionSection">
Workflow diagram available in the Data Workflows section</h3>
<p>In addition to the progress view, the workflow model diagram is now available in the Data Workflows section (inbox, Monitoring-Work items, Monitoring-Active workflows, and Completed workflows). </p><p>The progress view provides a view of the workflow execution history, whereas the diagram offers a more functional view of what the workflow does as a whole. </p><h3 id="workflowCopyValidationReport">
Ability to deactivate the validation report copy for the create snapshot script task.</h3>
<p>You can now deactivate the validation report copy while creating a snapshot via built-in script task. An additional property is available in the script task definition. </p><h3 id="workflowLauncherPublication">
Publication service updated according to the new Workflow launcher feature</h3>
<p>The publication service has been updated. At the last step, when the selected workflow models have been published, a new tab is available to list the potentially affected workflow launchers. </p><h3 id="workflowJavaAPI">
Workflow new Java API</h3>
<table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Workflow input parameter</p></td><td class="ebx_definitionListDefinition"><p>A new feature to test whether a variable name is defined as an input parameter of the data context.</p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/ProcessLauncher.html#isDefinedAsInputParameter-java.lang.String-"><code>ProcessLauncher.isDefinedAsInputParameter</code></a>.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Hidden step in progress view</p></td><td class="ebx_definitionListDefinition"><p>A new method determines if a step is defined as hidden in the progress view.</p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/ProcessInstanceStep.html#isHiddenInProgressView--"><code>ProcessInstanceStep.isHiddenInProgressView</code></a>.</p></td></tr>
</table>
<h2 id="permissions">
Permissions</h2>
<h3 id="permissionsScriptingProxy">
Scripted permission rules</h3>
<p>See <a href="#permissionsScripting">Scripted permission rules</a> section above.</p><h3 id="permissionsCache">
Permissions cache extension</h3>
<p>To improve performance, permissions caching has been enhanced, and now also handles the following permission resolutions: </p><ul>
<li><p>Low-level actions on a table (for example, create, delete, overwrite, and occult).</p></li><li><p>All kinds of access rule results: <a target="_blank" href="../Java_API/com/orchestranetworks/service/AccessRule.html"><code>AccessRule</code></a>, <a target="_blank" href="../Java_API/com/orchestranetworks/service/AccessRuleForCreate.html"><code>AccessRuleForCreate</code></a>, and scripted record access rules.</p></li></ul>
<h2 id="DataValidation">
Data validation</h2>
<h3 id="id9s1">
Persistent validation reports</h3>
<p>Validation reports are now persisted in the EBX&reg; repository. That is, validation reports are no longer kept in memory, but are stored in technical datasets of dedicated dataspaces. Storing validation reports in an EBX&reg; repository addresses memory-related issues when datasets have a large amount of validation messages. Also, validation reports are no longer lost when the application server restarts. </p><h3 id="id9s2">
Declaring modifications on programmatic constraints</h3>
<p>You can now indicate that the implementation of a programmatic constraint has been changed, by associating a version number to the implementation of a JavaBean. This version number is used to indicate that existing persisted validation reports must be updated by revalidating the constraints that have been modified. As a consequence, you must define a version number of each of the constraints defined in a data model to keep existing persisted validation reports consistent when the implementation of these constraints is modified. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/schema/JavaBeanVersion.html"><code>JavaBeanVersion</code></a> for more information. </p><h3 id="id9s3">
Validation message threshold</h3>
<p>You can now specify a validation message threshold at the data model level. This new feature replaces the property <code>ebx.validation.constraints.messages.threshold</code> that is defined in the EBX&reg; main configuration file (<code>ebx.properties</code>). </p><p>See <a href="../models/constraints.html#validationMessageThreshold">Validation message threshold</a> for more information.</p><h3 id="id9s4">
Validating new records and updated values</h3>
<p>You can now validate a record that has not yet been created, and you can validate the updates performed on a record or on dataset nodes that have not yet been committed. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/service/ValueContextForUpdate.html#getValidationReport-com.orchestranetworks.service.ValueContextForUpdate.ValidationPolicy-"><code>ValueContextForUpdate.getValidationReport</code></a> for more information. </p><h3 id="id9s5">
Retrieving the constraint related to a validation message</h3>
<p>To retrieve the facet associated with a validation item, use the new method <a target="_blank" href="../Java_API/com/orchestranetworks/service/ValidationReportItem.html#getFacet--"><code>ValidationReportItem.getFacet</code></a>. That is, this new method supports retrieving the facet that has added a validation message. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/service/ValidationReportItem.html#getFacet--"><code>ValidationReportItem.getFacet</code></a> for more information. </p><h3 id="id9s6">
Retrieving the blocking policy related to a validation message</h3>
<p>To retrieve the blocking policy associated with a validation item, use the new method <a target="_blank" href="../Java_API/com/orchestranetworks/service/ValidationReportItem.html#getBlocksCommit--"><code>ValidationReportItem.getBlocksCommit</code></a>. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/service/ValidationReportItem.html#getBlocksCommit--"><code>ValidationReportItem.getBlocksCommit</code></a> for more information. </p><h3 id="id9s7">
Closing a ValidationReportItemIterator</h3>
<p>To release underlying resources, use the new method <a target="_blank" href="../Java_API/com/orchestranetworks/service/ValidationReportItemIterator.html#close--"><code>ValidationReportItemIterator.close</code></a>. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/service/ValidationReportItemIterator.html#close--"><code>ValidationReportItemIterator.close</code></a> for more information. </p><h3 id="id9s8">
Changes regarding the refresh policy</h3>
<p>Requesting a validation report with the refresh policy <a target="_blank" href="../Java_API/com/orchestranetworks/service/ValidationSpec.RefreshPolicy.html#AS_IS"><code>ValidationSpec.RefreshPolicy.AS_IS</code></a> returns only the persisted validation report. The validation report is empty if the dataset, the table, or the record has not already been validated. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/service/ValidationSpec.RefreshPolicy.html"><code>ValidationSpec.RefreshPolicy</code></a> for more information. </p><h3 id="id9s9">
Limit validation messages in logs</h3>
<p>To specify the maximum number of validation items to display in the logs, use the new property <code>ebx.validation.report.maxItemDisplayedInLogs</code>, from the EBX&reg; main configuration file (<code>ebx.properties</code>). By default this property is set to 100. See <a href="#backwardValidationReportsLogs">Backward compatibility</a> for more information. </p><h2 id="dataServices">
Data services</h2>
<h3 id="id10s1">
REST Toolkit APIs</h3>
<h4>
Procedure</h4>
<p>A new interface and built-in query parameter have been added to ease <a target="_blank" href="../Java_API/com/orchestranetworks/service/Procedure.html"><code>Procedure</code></a> execution through automatic pre-configuration.</p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/rest/util/ProcedureUtility.html"><code>ProcedureUtility</code></a> and <a target="_blank" href="../Java_API/com/orchestranetworks/rest/util/BuiltinQueryParam.html#COMMIT_THRESHOLD"><code>BuiltinQueryParam.COMMIT_THRESHOLD</code></a> for more information. </p><h4>
URI builders for built-in</h4>
<p>URI builders have been reworked to do the following:</p><ul>
<li><p>Add new methods for query parameters management.</p></li><li><p>Enhance modular, generic, and intuitive developments.</p></li><li><p>Comply with the addition of new REST categories.</p></li><li><p>Support the new beta feature on dataspace or snapshot operations.</p><p>See <a href="../data_services/dataservices_rest_v1.html#dataspaceOperation">Beta feature: Dataspace operations</a> for more information. </p></li></ul>
<p>See <a target="_blank" href="../Java_API/com/orchestranetworks/rest/util/URIBuilderForBuiltin.html"><code>URIBuilderForBuiltin</code></a> and <a href="../rest_toolkit/rest_toolkit_implement.html#uriBuilders">URI builders</a> for more information. </p><h4 id="RESTToolkitSerialization">
Serialization</h4>
<p>Built-in serializers and deserializers are available to handle table records.</p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Built-in deserializers</p></td><td class="ebx_definitionListDefinition"><p> To automatically deserialize a table record, use a DTO&#39;s attribute of <code><a target="_blank" href="../Java_API/com/orchestranetworks/rest/serialization/ContentHolder.html"><code>ContentHolder</code></a></code> type and annotated with <code><a target="_blank" href="../Java_API/com/orchestranetworks/rest/annotation/Table.html"><code>Table</code></a></code>. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Built-in serializers</p></td><td class="ebx_definitionListDefinition"><p> To automatically serialize a table record, use a DTO&#39;s attribute of <code><a target="_blank" href="../Java_API/com/orchestranetworks/rest/serialization/ContentHolder.html"><code>ContentHolder</code></a></code> type and optionally annotated with <code><a target="_blank" href="../Java_API/com/orchestranetworks/rest/annotation/ExtendedOutput.html"><code>ExtendedOutput</code></a></code>. </p><p> A table record serialized through this mechanism gets the same JSON content structure as the ones from the Built-in RESTful services. However, a new compact format has been added to ease interaction for simple use cases. </p><p> The absence of the <code><a target="_blank" href="../Java_API/com/orchestranetworks/rest/annotation/ExtendedOutput.html"><code>ExtendedOutput</code></a></code> annotation on the <code><a target="_blank" href="../Java_API/com/orchestranetworks/rest/serialization/ContentHolder.html"><code>ContentHolder</code></a></code> attribute implies the use of the compact format of the JSON content structure. For the opposite way, the presence of the <code><a target="_blank" href="../Java_API/com/orchestranetworks/rest/annotation/ExtendedOutput.html"><code>ExtendedOutput</code></a></code> annotation implies the use of the extended format of the JSON content structure. </p><p> The <code><a target="_blank" href="../Java_API/com/orchestranetworks/rest/annotation/ExtendedOutput.html"><code>ExtendedOutput</code></a></code> annotation and <code><a target="_blank" href="../Java_API/com/orchestranetworks/rest/serialization/Include.html"><code>Include</code></a></code> enumeration determine the content of the generated JSON structure of the table record. </p></td></tr>
</table>
<p>See <a href="../rest_toolkit/rest_toolkit_implement.html#tableRecordSerialization">Serialization of a table record</a> for more information. </p><h3 id="id10s2">
Built-in RESTful services</h3>
<p>The built-in RESTful services have been improved on the following topics:</p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Data views operation</p></td><td class="ebx_definitionListDefinition"><p> A new operation from the &#39;data&#39; category is available to look up the published views of a table.</p><p>See <a href="../data_services/dataservices_rest_v1.html#lookupViews">Look up table views operation</a> for more information.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Data operations</p></td><td class="ebx_definitionListDefinition"><p> Two new prepare operations with selector values are available to create and initialize a transient record for creation or duplication. </p><p>Several new properties have been added to fields&#39; metadata, namely: <a href="../data_services/json_extended.html#metaDataAutoIncrement"><code>autoIncrement</code></a>, <a href="../data_services/json_extended.html#metaDataAssociation"><code>association</code></a>, <a href="../data_services/json_extended.html#metaDataCheckNullInput"><code>checkNullInput</code></a>, <a href="../data_services/json_extended.html#metaDataConstraints"><code>constraints</code></a>, <a href="../data_services/json_extended.html#metaDataLinkedField"><code>linkedField</code></a>, <a href="../data_services/json_extended.html#metaDataReadOnly"><code>readOnly</code></a>, and <a href="../data_services/json_extended.html#metaDataEnumerationDependencies"><code>enumerationDependencies</code></a>. </p><p>On select operations, the sort features have been improved, allowing the results to be ordered: by relevancy with the new <a href="../data_services/dataservices_rest_v1.html#sortByRelevancy">sortByRelevancy</a> parameter, by overriding the default priority of sort groups with the new <a href="../data_services/dataservices_rest_v1.html#sortPriority">sortPriority</a> parameter. </p><p> See <a href="../data_services/dataservices_rest_v1.html#prepareOperation">Prepare operations</a>, <a href="../data_services/dataservices_rest_v1.html#includeMeta"><code>includeMeta</code></a>, and <a href="#Datamodel_linkedFields">Linked fields</a> parameter for more information. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Form data operations</p></td><td class="ebx_definitionListDefinition"><p>A new &#39;form-data&#39; category is available. It is intended to be used to insert or update data on user form. This category validates the incoming data before performing the requested action and returns a report. </p><p> See <a href="../data_services/dataservices_rest_v1.html#formDataOperation">Form data operations</a> for more information. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Compact format serialization</p></td><td class="ebx_definitionListDefinition"><p>New categories with a &#39;compact&#39; suffix are available for data and form data operations. They are very similar to the root ones but they are intended to be used to compact the JSON body content structure to ease interaction for simple use cases. All formats are based on the new REST Toolkit&#39;s Built-in serializers. </p><p> See <a href="../data_services/dataservices_rest_v1.html#operationCategory">Operation category</a> and <a href="#RESTToolkitSerialization">REST Toolkit serialization</a> for more information. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>OpenAPI operations</p></td><td class="ebx_definitionListDefinition"><p>A new &#39;open-api&#39; category is available. It is intended to generate OpenAPI documents for table and schema nodes of the REST built-in &#39;data&#39; category operations. </p><p> See <a href="../data_services/dataservices_rest_v1.html#openApiOperation">OpenAPI operations</a> for more information. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Beta feature: Dataspace or snapshot operations</p></td><td class="ebx_definitionListDefinition"><p>Several new operations from the &#39;data&#39; category are available, as beta feature, to manage dataspace or snapshots.</p><p>See <a href="../data_services/dataservices_rest_v1.html#dataspaceOperation">Beta feature: Dataspace operations</a> for more information.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Token operation</p></td><td class="ebx_definitionListDefinition"><p>The built-in REST token authentication create operation has been improved: It can now be performed against the HTTP request. See <a href="../data_services/dataservices_rest_v1.html#authOperation">Token authentication operations</a> for more information. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Common parameters</p></td><td class="ebx_definitionListDefinition"><p>A new &#39;ebx-channel&#39; query parameter is introduced to apply visibility configuration, defined in the data model, according to a table, a field, or a search. The content also corresponds to the current view (tree view, tabular, custom, form, and so on). </p><p>A new &#39;ebx-indent&#39; query parameter is introduced to indent the response body and be more readable for a human. The &#39;indent&#39; query parameter has been deprecated. </p><p> See <a href="../data_services/restapi_introduction.html#sessionChannel">Session channel</a>, <a href="../data_services/dataservices_rest_v1.html#ebxChannel">ebx-channel</a> and <a href="../data_services/dataservices_rest_v1.html#ebxIndent">ebx-indent</a> for more information. </p></td></tr>
</table>
<h2 id="id11">
Application server deployment</h2>
<h3 id="id11s1">
Data compression library</h3>
<p> The LZ4 compression algorithm is now used internally by the EBX&reg; engine. You must deploy the dedicated library. Also, the way you deploy this dedicated library has a global impact on performance. See <a href="../installation/deploy_on_jee.html#ebx_lz4">Data compression library</a> for more information. </p><h3 id="id11s2">
Speed of server startup</h3>
<p>To speed up the startup of the web applications server, configure the <a href="../installation/deploy_on_jee.html#jarsScanner">JAR files scanner</a>. </p><h3 id="id11s3">
XML Catalog API</h3>
<p> The upgrade of the Xalan and Xerces packaged libraries introduces new dependencies toward classes provided by the Java runtime environment 9. You can add these classes without resorting to the Java runtime environment 11 LTS by installing the new bundled jar archive called <code>xml-apis-1.4.01.jar</code>. If a Java runtime environment 11 LTS, or above, or a WebLogic 14c application server is used to run the application, then no additional installation steps are required. See <a href="../installation/deploy_on_jee.html#xmlCatalogAPI">XML Catalog API</a> and <a href="../installation/deploy_on_jee.html#examples">Installation notes</a> for more information. </p><h2 id="CoreAPI">
Core Java API</h2>
<h3 id="sqlAPI">
SQL queries</h3>
<p>New APIs have been added that support executing full-fledged SQL queries, and joins over tables located in different dataspaces and datasets. </p><p>The main entry point is the <a target="_blank" href="../Java_API/com/orchestranetworks/query/Query.html"><code>Query</code></a> interface. For more information on SQL queries, see the <a href="../sql/sql_introduction.html">respective</a> chapters in the Developer&#39;s guide. </p><h3 id="datasetTriggers">
Triggers on datasets</h3>
<p>Triggers defined at the dataset level have been enhanced to perform operations: </p><ul>
<li><p>After duplicating a dataset.</p></li><li><p>Before updating a field outside a table.</p></li><li><p>After updating a field outside a table.</p></li></ul>
<p> See <a target="_blank" href="../Java_API/com/orchestranetworks/schema/trigger/InstanceTrigger.html"><code>InstanceTrigger</code></a> for more information. </p><h2 id="limitations">
Limitations for this release</h2>
<h3 id="queryLimitations">
Query limitations</h3>
<p>The performance of these features is not yet optimized:</p><ul>
<li><p>Navigation on paginated views (next/previous page) with sort on foreign key fields having a custom display pattern, if this pattern contains fields outside the primary key of the referenced table.</p></li></ul>
<p>The following cases do not rely on Lucene indices. This has two consequences: first, performance is not optimized; second, Quick search behaves like a &#39;contains&#39;, rather than a full-text search:</p><ul>
<li><p>computed fields with non-local dependency;</p></li><li><p>inherited fields;</p></li><li><p>all fields in an inherited dataset;</p></li><li><p>all fields in table history views.</p></li></ul>
<p>More specific cases not benefiting from index optimization are described in the <a href="../references/performance.html#queryPerformance">following section</a>. </p><div class="ebx_seealso">
<h5>
See also</h5>
<ul>
<li><a href="#customJavaPerformanceNotice">Changes to custom Java code performance </a></li></ul>
</div>
<h3 id="valueLabelingLimitations">
Value-labeling limitations</h3>
<p>Search and sort using the value-labeling feature have a few limitations described in section <a href="../references/indexing.html#valueLabeling">Value-labeling</a>.</p><h3 id="hierarchyLimitations">
Hierarchical views limitations</h3>
<ul>
<li><p>The container node used for grouping orphan nodes appears to be openable, even when the container node is empty. Detecting whether the container node is empty is currently disabled because it is not optimized. </p></li><li><p>Hierarchy dimension based on dependency link field which is a list or under a list is not allowed.</p></li><li><p>While building a hierarchy dimension, the same table (or same table path) cannot be used in more than one hierarchy dimension level.</p></li><li><p>While building a hierarchy dimension, the same table cannot be used both as a target table and a link table.</p></li><li><p>Selection in hierarchy is not cumulative: changing a user filter during a selection session may lead to unwanted results.</p></li><li><p>CSV export is not implemented.</p></li><li><p>Specific parameter: the property &#39;Remove recursive root leaves&#39; and &#39;Display non-matching children&#39; is not implemented.</p></li></ul>
<h3 id="dataValidationLimitations">
Data validation limitations</h3>
<ul>
<li><p> It is not possible to validate a dataset or a table within a Procedure. </p></li></ul>
<h3 id="linkedFieldsLimitations">
Linked fields limitations</h3>
<ul>
<li><p> Targeting a node which is an enumeration is not fully supported yet. Currently, only the raw value will be available for display and search, instead of the enumeration label. Until this limitation is removed, the workaround is to declare the same enumeration in the target node and in the linked field itself. </p></li></ul>
<h2 id="versionUpgrade">
Version upgrade</h2>
<p><em>In addition to the information provided in this release note, the chapter <a href="./6.0-newJavaAPI.html">6.0 Java API changes</a> provides an exhaustive list of the new Java APIs published since the release of the 5.9 version. </em></p><h3 id="hardware">
Hardware requirements</h3>
<p>Although EBX&reg; 6 supports addressing vastly larger volumes of data, it does so without requiring additional memory. However, additional disk space is needed to store the Lucene indexes. </p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Memory requirements</p></td><td class="ebx_definitionListDefinition"><p> The overall amount of memory can remain the same as for the previous version, but it should be dispatched more evenly between the application server and the operating system. See the <a href="../references/performance.html#tuningHardware"> performance section</a>. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Disk space requirements</p></td><td class="ebx_definitionListDefinition"><p> This new version offloads the indexes from memory to store them in a persistent way. Additional disk space is needed. See the <a href="../references/performance.html#tuningHardware"> performance section</a>. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Disk latency requirements</p></td><td class="ebx_definitionListDefinition"><p> In order to maintain good overall performance, it is particularly important that the disk <a href="../installation/properties.html#rootDirectory"> storing the Lucene indexes</a> has low latency. </p></td></tr>
</table>
<h3 id="migrationGuide">
Migrating an existing EBX&reg; 5 environment</h3>
<p>To get a running EBX&reg; 6 from an existing EBX&reg; 5 environment, follow the <a href="./6.0_migrationFrom5.x.html">dedicated migration guide</a>.</p><h3 id="supportedEnvironmentsChanges">
Changes to supported environments</h3>
<p>The chapter <a href="../installation/supported_env.html">Supported environments</a> has been updated to reflect the necessary upgrades detailed below. </p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Browser support</p></td><td class="ebx_definitionListDefinition"><p>The Microsoft Edge versions based on Chromium are now supported.</p><p>For Mozilla Firefox, the support of ESR 60 has shifted to ESR 68.</p><p>For Microsoft Edge, the support of 42 has shifted to 44.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Oracle Database support</p></td><td class="ebx_definitionListDefinition"><p>Minimum supported version of Oracle is now 12c.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>PostgreSQL support</p></td><td class="ebx_definitionListDefinition"><p>Minimum supported version of PostgreSQL is now 9.6.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Microsoft SQL Server support</p></td><td class="ebx_definitionListDefinition"><p>Minimum supported version of SQL Server is now 2012 SP4.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Java web application server support</p></td><td class="ebx_definitionListDefinition"><p>The Java web application server must support the JSON Processing 1.1 (<a href="https://www.jcp.org/en/jsr/detail?id=374">JSR 374</a>) or allow the use of that embedded in the <code>ebx.jar</code> library.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>WebSphere Application Server support</p></td><td class="ebx_definitionListDefinition"><p>WebSphere Application Servers which use a Java SDK below version 8.0.4.10 are incompatible and consequently not supported. It is highly recommended to use the latest Java SDK available and compatible with the application server. See <a href="../installation/supported_env.html#applicationServers">Supported application servers</a> for more information. </p></td></tr>
</table>
<h3 id="id14s4">
New transaction management</h3>
<p>The improved implementation of transactions improves concurrency and data isolation. </p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Concurrency</p></td><td class="ebx_definitionListDefinition"><p>A running <code>Procedure</code> no longer excludes multiple concurrent <code>ReadOnlyProcedure</code>s. For more information see <a href="../references/mapping_to_java.html#concurrency">Concurrency</a>. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Snapshot isolation</p></td><td class="ebx_definitionListDefinition"><p>While the isolation level was READ_UNCOMMITTED by default, accessed data are now &quot;frozen&quot; on a committed transaction. For more information, see <a href="../references/mapping_to_java.html#queriesIsolation">Queries snapshot isolation</a>.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Adaptations are now immutable</p></td><td class="ebx_definitionListDefinition"><p>Instances of the Java interface <code>Adaptation</code> are now immutable and reflect the persisted state of the record when it was retrieved. They are never affected by subsequent updates on the record (and in case of dataset inheritance, they are never affected by an update on their parent, recursively). For more information see <a href="../references/mapping_to_java.html#adaptationIsolation">Adaptation objects</a>. </p><p> As a consequence, the method <a target="_blank" href="../Java_API/com/orchestranetworks/service/ProcedureContext.html#doModifyContent-com.onwbp.adaptation.Adaptation-com.orchestranetworks.instance.ValueContext-"><code>ProcedureContext.doModifyContent</code></a> never modifies the <code>Adaptation</code> object passed as an argument. If access to the modified record or dataset is needed, then you must use the <code>Adaptation</code> object returned by the method. </p><p> Note: In previous versions, the documentation of this method already stated this rule. However, neglecting to do so only had consequences in rare cases. In this version, the immutability is <strong>always</strong> preserved.</p></td></tr>
</table>
<h3 id="customJavaPerformanceNotice">
Changes to custom Java code performance </h3>
<p>The new scalable architecture affects the performance of existing custom Java code. Some scenarios, which, in EBX&reg; 5, were favorable, might not work as well on this version, and might require customer action. This is particularly true for middle-sized repositories where all the data could be cached into memory and the garbage collector could work smoothly. </p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Repeated lookup by primary key</p></td><td class="ebx_definitionListDefinition"><p> Consider a small table whose data could be fully contained in the cache within our custom EBX&reg; in-memory indexes: it was then cheap to access its records repeatedly by means of random table lookups (although this is generally a discouraged access pattern for databases and information retrieval). In this new version, these accesses must be rewritten, taking advantage of the new SQL features. For example, for Java code performing a &#39;nested loops&#39; join (iterating on a <a target="_blank" href="../Java_API/com/onwbp/adaptation/RequestResult.html"><code>RequestResult</code></a> from table A, and then looking up its <code>osd:tableRef</code> in table B): this is now better handled by using a <a target="_blank" href="../Java_API/com/orchestranetworks/query/Query.html"><code>Query</code></a> using a SQL join. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Repeatedly creating similar requests</p></td><td class="ebx_definitionListDefinition"><p> EBX&reg; now embeds the Apache Calcite framework, in particular for optimizing the submitted instances of <a target="_blank" href="../Java_API/com/orchestranetworks/query/Query.html"><code>Query</code></a> and <a target="_blank" href="../Java_API/com/onwbp/adaptation/Request.html"><code>Request</code></a>. However, optimizing a query has a cost in itself. Although this overhead is generally low (and well paid back) compared to that of executing the query, it might add up in some cases, particularly in the case where a loop generated numerous queries differing by only one parameter. In that case, use parameterized requests (see <a target="_blank" href="../Java_API/com/onwbp/adaptation/Request.html#setXPathParameter-java.lang.String-java.lang.Object-"><code>Request.setXPathParameter</code></a>) or parameterized queries (see <a target="_blank" href="../Java_API/com/orchestranetworks/query/Query.html#setParameter-int-java.lang.Object-"><code>Query.setParameter</code></a>). </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p> Programmatic access rules </p></td><td class="ebx_definitionListDefinition"><p>Programmatic access rules concern the implementations of the Java interface <code>AccessRule</code>. On query execution, setting such a rule on a table implies executing the method <code>getPermission</code> for each record. Such an execution defeats the purpose of optimizing against an index.</p><p>Where possible, replace these programmatic access rules with the <a href="#permissionsScripting">new scripted record permission rules</a>. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p> Programmatic labels </p></td><td class="ebx_definitionListDefinition"><p>Programmatic labels concern the implementations of the Java interfaces <code>TableRefDisplay</code>, <code>UILabelRenderer</code> and <code>ConstraintEnumeration</code>. On query execution, setting such a rule on a foreign key field implies executing the method <code>displayOccurrence</code> for each record. Such an execution defeats the purpose of optimizing against an index. Where possible, use a pattern string. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p> Programmatic filters </p></td><td class="ebx_definitionListDefinition"><p>Programmatic filters concern the implementations of the Java interface <code>AdaptationFilter</code>. On query execution, using this filter implies executing the method <code>accept</code> for each record. Such an execution defeats the purpose of optimizing against an index. Where possible, replace programmatic filters with the <a href="#sqlAPI">new SQL queries</a>. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Constraints with unknown dependencies</p></td><td class="ebx_definitionListDefinition"><p>Avoid constraints with unknown dependencies on large datasets, because they are checked on each validation request. See <a href="../references/performance.html#validation">Validation performance</a> for more information. </p></td></tr>
</table>
<h3 id="removedFeatures">
Removed features</h3>
<p>Some features are no longer necessary in the new architecture. </p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Dataspace loading strategy</p></td><td class="ebx_definitionListDefinition"><p>Formerly, you could define a custom loading strategy for a dataspace, namely: a &#39;forced loading&#39; strategy for loading the tables and indexes as early as possible in the background at startup; and a &#39;forced loading and prevalidation&#39; strategy for also pre-computing the validation reports. This new version suppresses the need to load the entire table and compute its indexes when accessing it for the first time. It also offers persistent validation reports. Consequently, all dataspaces are loaded on-demand. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Indexing</p></td><td class="ebx_definitionListDefinition"><p>Formerly, you could define indexes on tables, aiming at speeding up requests. This new version makes obsolete the in-memory indexes previously used, as well as the need to define a custom indexing. All fields are indexed persistently. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>License keys</p></td><td class="ebx_definitionListDefinition"><p>EBX&reg; 6.0 and its addons no longer require license keys. You can remove the <code>ebx.license</code> key from the <code>ebx.properties</code> main configuration file.</p></td></tr>
</table>
<h3 id="BackwardCompatibility">
Backward compatibilities</h3>
<h4>
Relational mode is no longer supported</h4>
<p> The new architecture for persistence and the new query engine has made relational mode redundant and cumbersome to support. It is no longer supported. The primary justifications of relational mode were:</p><ul>
<li><p>Performance on large volumes: this is now provided by a more efficient persistence format, and by the Lucene search library.</p></li><li><p>Using SQL from inside EBX&reg;: this is now provided through the <a target="_blank" href="../Java_API/com/orchestranetworks/query/Query.html"><code>Query</code></a> API. </p></li><li><p>Offering data connectivity with third-party systems. We propose the following to replace access to a relational table: for read-only access, you can activate the <a href="../references/replication.html">replication</a> feature in the data model. For read-write access, which was allowed in restricted conditions, you can use other integration features (such as Java API, data service, and Data Exchange). </p></li></ul>
<p> When you upgrade to version 6, the data existing in relational tables is automatically transferred into newly-created semantic tables, and then the relational tables are deleted from the database. </p><p> This conversion also means: </p><ul>
<li><p>Limitations due to the relational model no longer apply. For example, you can create snapshots and child dataspaces.</p></li><li><p>The table can now be replicated.</p></li><li><p>Previous structural constraints are no longer structural if the data model enables neither history nor replication.</p></li><li><p>Blocking foreign key constraints are no longer blocking.</p></li></ul>
<h4>
XPath and Java Request API</h4>
<p> Due to the overhaul of the indexing and querying engine, some XPath functions are no longer supported and the sort is impacted. </p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Numeric fields</p></td><td class="ebx_definitionListDefinition"><p> Invoking the XPath functions <code>contains</code>, <code>starts-with</code>, <code>ends-with</code>, and <code>matches</code> on a numeric field is no longer supported. For example, <code>contains(nCol, 123)</code> now generates an error. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>matches</p></td><td class="ebx_definitionListDefinition"><p> Previously, functions of the type <code>matches</code> ignored a parsing error silently when malformed, and never matched a record; the error is now generated explicitly. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Sorting on text</p></td><td class="ebx_definitionListDefinition"><p>It is not possible to sort according to a text field. This concerns <code>osd:text</code> fields by default, and fields having an explicit &#39;text&#39; search strategy. You can use the &#39;name&#39; strategy in cases where sorting is required. </p><p>When sort is done on a field of type <code>xs:string</code>, it now better follows the usual language alphabetical order. For example, the letter &#39;&eacute;&#39; is after &#39;e&#39; and before &#39;f&#39;. </p></td></tr>
</table>
<p> The Java interface <code>RequestResult</code> has two changes. </p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Method <code>getAdaptation(int)</code></p></td><td class="ebx_definitionListDefinition"><p> The method <code>RequestResult#getAdaptation(int anIndex)</code>, which had long been deprecated, is removed from the public API. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Closing request results</p></td><td class="ebx_definitionListDefinition"><p> In previous versions, the documentation of <code>RequestResult</code> stated that it was mandatory to invoke its <code>close</code> method after invoking <code>RequestResult.nextAdaptation()</code>. However, neglecting to do so had no consequence for tables in semantic mode. In this version, the request result does open system resources that must be released after the request completes. Consequently, it is now crucial to abide by the recommended protocol (see below).</p><p>Also note that the method has been slightly modified, and creating the request result (<code>RequestResult.execute</code>) now also opens some resources. <code>RequestResult</code> has been modified to implement the <code>AutoCloseable</code> interface. This change supports tracking incorrect uses in your development environment. The coding pattern should now be: <code>try (RequestResult result = request.execute();) {...} </code>. </p></td></tr>
</table>
<h4>
Other backward compatibilities</h4>
<table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p> XML audit trail becomes deprecated </p></td><td class="ebx_definitionListDefinition"><p> The <a href="../engine/audit_trail.html">XML audit trail </a> functionality becomes deprecated, and will be suppressed in an upcoming version; it is now disabled by default. The verbose XML format is a hindrance when used with the large volumes which this version addresses: it requires large disk space, and negatively impacts the performance of bulk updates. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p> HTTP Security Headers </p></td><td class="ebx_definitionListDefinition"><p> Using a web server in front of EBX&reg; is recommended to handle HTTP security headers. Therefore, by default, EBX&reg; no longer positions any HTTP security header: the property <code>ebx.security.headers.activated</code> is now <code>false</code> by default. If it were unset in 5.9, and if HTTP security headers are not handled by a Web Server, then to keep the former behavior of 5.9, it must be set to <code>true</code>. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Incremental validation behavior</p></td><td class="ebx_definitionListDefinition"><p> Incremental validation is no longer performed while executing a procedure and when performing updates in the user interface. That is, it is now required to explicitly revalidate a dataset or a table to validate the updates that have been performed since the last validation. For this reason, the method <a target="_blank" href="../Java_API/com/orchestranetworks/service/ProcedureContext.html#disableDatasetValidation-com.onwbp.adaptation.Adaptation-"><code>ProcedureContext.disableDatasetValidation</code></a> is now deprecated. </p><p> Because validation reports are now persisted in the EBX&reg; repository, the property <code>ebx.validation.report.keepInMemory</code> defined in the EBX&reg; main configuration file is deprecated and is no longer used. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Validation report API</p></td><td class="ebx_definitionListDefinition"><p> It is now required to close the <a target="_blank" href="../Java_API/com/orchestranetworks/service/ValidationReportItemIterator.html"><code>ValidationReportItemIterator</code></a> used to iterate over a validation report, in order to release the underlying resources. As a consequence, the method <a target="_blank" href="../Java_API/com/orchestranetworks/service/ValidationReportItemIterator.html#close--"><code>ValidationReportItemIterator.close</code></a> has been added to the API. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Validation message threshold</p></td><td class="ebx_definitionListDefinition"><p> The property <code>ebx.validation.constraints.messages.threshold</code>, which is defined in the EBX&reg; main configuration file (<code>ebx.properties</code>), is deprecated and is now ignored. The validation message threshold can now be specified at the data model level, and it is set by default to <code>1000</code>. </p><p> The validation message threshold limits the number of validation messages allowed per constraint. Therefore, the method <a target="_blank" href="../Java_API/com/orchestranetworks/service/ValidationReport.html#hasTooManyItemsOfSeverity-com.onwbp.base.text.Severity-"><code>ValidationReport.hasTooManyItemsOfSeverity</code></a> is deprecated and always returns false. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm" id="backwardValidationReportsLogs"><p>Data validation</p></td><td class="ebx_definitionListDefinition"><p>As a consequence of the bug fix <a href="#bug_CP-19407">CP-19407</a>, the number of validation items displayed in the logs is now limited by default to 100. </p><p>For more information, see <a href="../installation/properties.html#validationReportLogMaxItem">Validation report logs</a>.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Improved permission checks when executing queries</p></td><td class="ebx_definitionListDefinition"><p> When a <code>Session</code> is specified, all fields used in the query are checked, and a <code>QueryPermissionException</code> is thrown when a user has no access to one or several fields. Currently, this behavior does not take into account record-dependent access rules set on fields. See <a href="../references/permissions.html#permissionQuery">Limitations of the permission checks in Query API</a> for more details. </p><p> As a consequence, using the permissions only to hide in the UI non-sensitive information is highly discouraged, especially if this information is likely to be used for filtering, joining, or sorting in a request. See <a href="../references/permissions.html#UiHiding">Using permission for hiding information in the UI</a> for more details. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Legacy user service API is now deprecated</p></td><td class="ebx_definitionListDefinition"><p> The legacy user service API (<code>ServiceContext</code>) is now deprecated. Please use <a target="_blank" href="../Java_API/com/orchestranetworks/userservice/UserService.html">UserService</a> API. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>JavaScript API</p></td><td class="ebx_definitionListDefinition"><p> The method <a target="_blank" href="../Java_API/com/orchestranetworks/ui/JavaScriptCatalog.html#ebx_getContainerWindow-java.lang.Object-">ebx_getContainerWindow</a> threw an error when EBX&reg; was embedded in a frame on a different domain. Now, it returns the root EBX&reg; frame. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm" id="deprecate_root_tabbed_pane"><p> Java interface <code>UserServiceRootTabbedPane</code></p></td><td class="ebx_definitionListDefinition"><p> The Java interface <a target="_blank" href="../Java_API/com/orchestranetworks/userservice/UserServiceRootTabbedPane.html"><code>UserServiceRootTabbedPane</code></a> has been replaced by <a target="_blank" href="../Java_API/com/orchestranetworks/userservice/UserServiceTabbedPane.html"><code>UserServiceTabbedPane</code></a>: a bug prevented setting two tabbed panes above a user service. </p><p><a target="_blank" href="../Java_API/com/orchestranetworks/userservice/UserServiceDisplayConfigurator.html"><code>UserServiceDisplayConfigurator</code></a> now returns a <a target="_blank" href="../Java_API/com/orchestranetworks/userservice/UserServiceTabbedPane.html"><code>UserServiceTabbedPane</code></a>. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Workflow - Permissions evaluation for workflow launching has been improved</p></td><td class="ebx_definitionListDefinition"><p>Formerly, permissions for launching a workflow were evaluated when the workflow was launched by the user interface, in Data workflows section, and by data services. Permissions were not evaluated when launching by web component and API. Now, permissions are checked for the following cases:</p><ul>
<li><p>When launched through the UI (including web components).</p></li><li><p>When launched through the SOAP data services.</p></li></ul>
</td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm" id="backwardWorkflowHierarchicalView"><p> Workflow - Hierarchical view of a workflow model </p></td><td class="ebx_definitionListDefinition"><p> By default, the hierarchical view is now hidden. However, you can reactivate it in read-only mode by setting the property <code>ebx.manager.workflow.hierarchyPlanView.hidden</code> to <code>false</code>. See <a href="../installation/properties.html#ebx.workflow.hierarchyPlanView.hidden"> TIBCO EBX&reg; main configuration file</a> for more information. </p><p> If the hierarchical view is enabled, then it is available in the workflow diagram, from the View menu (Plan View &gt; hierarchy). </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p> Workflow - User task with multiple work items </p></td><td class="ebx_definitionListDefinition"><p> By default, the service for creating a user task with multiple work items is now hidden. However, you can reactivate it by setting the property <code>ebx.manager.workflow.legacy.userTaskMode</code> to <code>true</code>. Consider using the recommended sub-workflow feature instead. See <a href="../installation/properties.html#ebx.workflow.userTask.legacyMode.activation"> TIBCO EBX&reg; main configuration file</a> for more information. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p> The display mode &#39;link&#39; is no longer supported for group nodes. </p></td><td class="ebx_definitionListDefinition"><p> For compatibility reasons, groups that were configured as &#39;link&#39; are now considered &#39;collapsed&#39;. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Data services unlimited selection</p></td><td class="ebx_definitionListDefinition"><p>The select operations no longer accept an unlimited page size. The pagination mechanism is always enabled, and the maximum page size corresponds to the value of <a href="../installation/properties.html#dataServices">ebx.dataservices.pagination.maxSize.default</a> property. You can update this property value by modifying the <code>ebx.properties</code> file. The REST built-in select operation returns a limited result when <code>pageSize=unbounded</code> parameter is used. The SOAP select operation returns a limited result when <code>&lt;pageSize&gt;0&lt;/pageSize&gt;</code>, or when no pagination XML element is used.</p><p>See <a href="../data_services/dataservices_rest_v1.html#selectOperation">REST built-in select operation</a> and <a href="../data_services/dataservices_execution.html#select">SOAP select request on table</a> for more information.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Foreign key label and sortable search strategy</p></td><td class="ebx_definitionListDefinition"><p>The custom display for presenting a foreign key must now be sortable: thus, the fields that are part of the custom display must have only sortable search strategies. This also means that previous models that define foreign key display using non sortable fields such as <code>osd:text</code> fields will be in error. Note that this applies to both <code>defaultLabel</code> and <code>pattern</code> elements. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>REST built-in select operation with body</p></td><td class="ebx_definitionListDefinition"><p>To invoke a select operation from HTTP POST with a body, you must use <code>:select</code> URL extended action; otherwise, the insert operation is used.</p><p>See <a href="../data_services/dataservices_rest_v1.html#selectOperation">Select operation</a> for more information.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>REST built-in Exception handling</p></td><td class="ebx_definitionListDefinition"><p>The key <code>severity</code> is replaced by the key <code>level</code> in the JSON exception response, and the value becomes human readable.</p><p>See <a href="../data_services/restapi_introduction.html#exceptions">Exception handling</a> for more information.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>REST Toolkit URI default JSON serialization</p></td><td class="ebx_definitionListDefinition"><p>The previous URI default JSON serialization suffered from asymmetrical representation. URI are no longer serialized as JSON objects but as <code>String</code> values. This change restores a uniform behavior when URI are:</p><ul>
<li><p>Used as Java method returned value.</p></li><li><p>Held in collections.</p></li><li><p>Stored in DTO objects.</p></li></ul>
</td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>REST Toolkit URI builders for built-in</p></td><td class="ebx_definitionListDefinition"><p>The URI builders API for built-in have been reworked, leading to multiple methods deletion. The builders&#39; API are more in line with the Java <code>builder</code> design pattern, providing enhanced modularity, genericity, and intuitive developments. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/rest/util/URIBuilderForBuiltin.html"><code>URIBuilderForBuiltin</code></a> and <a href="../rest_toolkit/rest_toolkit_implement.html#uriBuilders">URI builders</a> for more information. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Default directory</p></td><td class="ebx_definitionListDefinition"><p>The &quot;Job Title&quot; field is no longer automatically formatted to the proper case. </p></td></tr>
</table>
<h3 id="id14s8">
TIBCO Software Inc. Support</h3>
<p> The EBX&reg; Support can now be reached from the <a href="https://support.tibco.com">https://support.tibco.com </a> website (an account is mandatory in order to access, follow the &#39;Register&#39; process). Visit the <strong>About Support </strong> section of this page for more details. </p><h2 id="bugfix601">
6.0.1 Bug fixes</h2>
<h3 id="bug601-Coreengine">
Core engine</h3>
<ul>
<li><p id="bug_CP-17081"><strong>CP-17081</strong> Snapshot and its parent have different content when recreating a dataset. </p><p>In some cases, a created snapshot might be empty. This happens if the following steps are executed:</p><p>- first procedure: create a dataset and a row in the dataset</p><p>- second procedure: delete the dataset, create a dataset with the same name and schema, and call getTable(...)</p></li><li><p id="bug_CP-17707"><strong>CP-17707</strong> A VALUE_FUNCTION_ACCESSOR exception occurs when searching with @default search template. </p></li><li><p id="bug_CP-18346"><strong>CP-18346</strong> QuickSearch API does not highlight decimal field. </p></li><li><p id="bug_CP-18378"><strong>CP-18378</strong><code>NullPointerException</code> when paginating after sort by FK (and referenced record does not exist). </p><p>On tabular view, when sorting by a FK column, if the FK record does not exist, the sort &quot;does nothing&quot;.</p><p>When moving to next page, we get a <code>NullPointerException</code>.</p></li><li><p id="bug_CP-18402"><strong>CP-18402</strong> Filter &#39;osd:label&#39; is ignored on fields of type &#39;Locale&#39;. </p></li><li><p id="bug_CP-18903"><strong>CP-18903</strong> An error occurs when applying quick search on some tables of under the &#39;Administration&#39; area. </p></li><li><p id="bug_CP-20051"><strong>CP-20051</strong> When duplicating a dataset, the newly input label is not saved. </p><p>When duplicating a dataset, the input label is not saved.</p><p>Then, the duplicated dataset can display either the technical name or the label of the origin dataset.</p></li><li><p id="bug_CP-20133"><strong>CP-20133</strong><code>NullPointerException</code> when importing an archive file. </p></li><li><p id="bug_CP-20398"><strong>CP-20398</strong> Comparing records on the &#39;History&#39; table causes a blank page. </p><p>When users compare 2 records on the &#39;History&#39; table in a dataset, a blank page is displayed.</p></li><li><p id="bug_CP-20772"><strong>CP-20772</strong> [Relation Matching] ClusterProducer returns no relation data causing wrong decision tree results. </p></li><li><p id="bug_CP-20783"><strong>CP-20783</strong> Quick search does not operate on the label of a &#39;Boolean&#39; field. </p><p>When users input a value for a &#39;Boolean&#39; field on a table, then apply quick search, an incorrect result is returned.</p></li><li><p id="bug_CP-20813"><strong>CP-20813</strong> An error occurs when searching a long piece of text on the Quick search bar. </p><p>A <code>TooManyClauses</code> error may occur, for an input with a large number of words (tokens) and/or a table with many columns.</p></li><li><p id="bug_CP-20851"><strong>CP-20851</strong> Modification of facet name should impact the persisted meta model </p><p>For a mapped field, when the name of a facet is changed (for example, from <code>xs:length</code> to <code>xs:maxLength</code>), the description of the facet is not updated in the FCT database table. As a consequence, all following data model compilations detect a change and uselessly issue a DDL.</p></li><li><p id="bug_CP-20882"><strong>CP-20882</strong> Inter-database migration fails if the source is SQL Server </p><p>If the source is SQL Server, the inter-database migration fails while migrating sequences.</p></li><li><p id="bug_CP-20894"><strong>CP-20894</strong> NullPointerException when importing an archive, if the module or schema is unavailable. </p></li><li><p id="bug_CP-20923"><strong>CP-20923</strong> Duplicate key exception when importing archive. </p></li><li><p id="bug_CP-20930"><strong>CP-20930</strong> NullPointerException when invoking <code>TableViewFactory.findCustomViewFromPublicationName</code>. </p></li><li><p id="bug_CP-21058"><strong>CP-21058</strong> In case of a cycle in field inheritance, the result page cannot be displayed. </p><p>When users create an inheritance cycle on an inherited field of a record, this causes the whole view page to be in error (not allowing to correct the cycle).</p><p>The record should be displayed, with an error message in place of the value of the inherited field.</p></li><li><p id="bug_CP-21075"><strong>CP-21075</strong> NullPointerException when importing archive in D3. </p></li><li><p id="bug_CP-21106"><strong>CP-21106</strong> The number of historized tables with a similar name in a repository is limited to 256. </p></li><li><p id="bug_CP-21120"><strong>CP-21120</strong> An exception is thrown when a foreign key defines a display pattern that includes a non-sortable node. </p></li><li><p id="bug_CP-21187"><strong>CP-21187</strong> LxtCompositeSearchStrategy is missing a method to retrieve all strategies assigned to a node (with duplicates). </p><p>In the case a node has been assigned duplicate strategies in different search templates, <code>TNode.getSearchStrategies().getSearchTemplateKeys()</code> does not contain all the templates where the duplicate strategies have been set. </p></li><li><p id="bug_CP-21269"><strong>CP-21269</strong> Fields under a list are not searchable. </p></li><li><p id="bug_CP-21273"><strong>CP-21273</strong> Index rebuild ends with InvalidProtocolBufferException. </p><p>An InvalidProtocolBufferException is thrown during index rebuild (possibly also while performing a comparison) if the table includes a ValueFunction or any field access that requires a lookup on another table.</p></li><li><p id="bug_CP-21279"><strong>CP-21279</strong> Starting on v6 fails after an inter-database migration. </p><p>Startup fails with a &quot;<code>This repository has last been run on an older version</code>&quot; error after an inter-database migration.</p></li><li><p id="bug_CP-21292"><strong>CP-21292</strong> Cannot migrate more than 2559745 records from a relational table to EBX&reg;6. </p></li><li><p id="bug_CP-21293"><strong>CP-21293</strong> Quick search does not work on linked fields. </p></li><li><p id="bug_CP-21375"><strong>CP-21375</strong> VlnValueStates in dataset headers cannot be migrated. </p><p>Migrating a dataset with a VlnValueState as the value for creator/last user causes a <code>ClassCastException</code></p></li><li><p id="bug_CP-21389"><strong>CP-21389</strong> Inconsistent default values in workflow administration. </p></li><li><p id="bug_CP-21421"><strong>CP-21421</strong> Improve logging and exception management in serialization layers </p></li><li><p id="bug_CP-21440"><strong>CP-21440</strong> Performance issue with &#39;Mass delete&#39; on a very large selection. </p><p>The &#39;Mass delete&#39; process takes very long if millions of records are selected.</p></li><li><p id="bug_CP-21478"><strong>CP-21478</strong> ClassCastException while replicating table with a foreign key to a table with composite primary key. </p></li><li><p id="bug_CP-21482"><strong>CP-21482</strong> Migration to v6 forces a full refresh of the replica tables. </p></li><li><p id="bug_CP-21520"><strong>CP-21520</strong> Avoid SORT/GROUP BY in query plan when clustering without relationship </p></li><li><p id="bug_CP-21530"><strong>CP-21530</strong> Wrong limit value when clustering </p><p>When using <code>RelBuilder#limit,</code> Calcite automatically increases the limit by one. If <code>Integer.MAX_VALUE</code> is used as the limit value, Calcite computes <code>Integer.MAX_VALUE+1</code> which overflows to <code>Integer.MIN_VALUE</code>.</p></li><li><p id="bug_CP-21531"><strong>CP-21531</strong> Improve management of large clusters </p><p>Some datasets may contain records with a huge number of duplicates. This leads to a huge cluster of similar records, then to a lot of record pairs to be compared by the decision tree. Most of the time is then spent applying the decision tree on record pairs. </p><p>* In this case, the top-scored tuples in the cluster are the duplicates, and have the same score as the center. To fix this, deactivating the computation of all record pairs for these records would greatly reduce the number of record pairs sent to the decision tree, but still generate enough comparisons to generate a group with all these duplicates. </p><p>* The time to iterate the tuples in a cluster is longer than usual, it delays the exclusion of records. To fix this, the exclusion can be done before this iteration. </p><p><strong>Note: also added a log to identify when a huge cluster is encountered. It still slows down the process a bit, and there is probably some action to handle those records directly in the data, outside of the matching process.</strong></p></li><li><p id="bug_CP-21576"><strong>CP-21576</strong> Performance issue when checking whether a dataset has severe errors. </p></li><li><p id="bug_CP-21596"><strong>CP-21596</strong> Wrong serialization descriptor for non-stored field with transitive tableRef. </p><p>If a field defines both:</p><p>* a valueFunction/computationRule (i.e. is not a value-stored field)</p><p>* a transitive tableRef</p><p>a <code>ClassCastException</code> occurs during serialization.</p></li><li><p id="bug_CP-21655"><strong>CP-21655</strong> Increase the limit when fetching similar records in the matching process. </p><p>When matching a single record, the number of candidates was limited to 100. This limit should be increased to 2000. </p></li></ul>
<h3 id="bug601-Datamodeling">
Data modeling</h3>
<ul>
<li><p id="bug_CP-1118"><strong>CP-1118 [35313]</strong> Schema compilation on &#39;Refresh all updated schemas&#39; does not report errors in the UI. </p><p>If a schema compilation ends in error on action &#39;Refresh all updated schemas&#39;, the error is not reported in the UI. Only an informative message is displayed, letting the user think that all went fine.</p></li><li><p id="bug_CP-20958"><strong>CP-20958</strong> A JavaScript error prevents from publishing the data model when an extension has messages. </p></li><li><p id="bug_CP-20989"><strong>CP-20989</strong> A cryptic error message is shown when publishing a data model which contains a search strategy with an unsupported language key. </p><p>The displayed error contains an HTML element.</p></li><li><p id="bug_CP-21119"><strong>CP-21119</strong> The list of the impacted datasets is incorrect after changing the PK of one of the tables in the datamodel. </p></li><li><p id="bug_CP-21148"><strong>CP-21148</strong> An unfriendly error message in the &#39;Custom search strategies&#39; creation form. </p><p>On the &#39;Custom search strategies&#39; creation form, when users do not define the value for the &#39;Name&#39; field which is set as a mandatory field, and save record, an unfriendly error message gets displayed on &#39;Built-in strategy&#39; field.</p></li><li><p id="bug_CP-21255"><strong>CP-21255</strong> SqlChecker error with data models if they have circular dependencies, including one data model in error </p></li><li><p id="bug_CP-21316"><strong>CP-21316</strong> Validating the &#39;Strategy&#39; association table should throw an error if a strategy is associated with a linked field. </p><p>Since a linked field is a virtual node and uses the strategy associated with the target node, it should not be possible to associate a search strategy with it.</p></li><li><p id="bug_CP-21327"><strong>CP-21327</strong> Display a wait page during the creation of the data model. </p></li></ul>
<h3 id="bug601-Dataservices">
Data services</h3>
<ul>
<li><p id="bug_CP-20629"><strong>CP-20629</strong> The documentation for <code>RESTEncodingHelper</code> API is not clear. </p></li><li><p id="bug_CP-20911"><strong>CP-20911</strong> NPE occurs when a REST built-in service selects a history table with a foreign key field to a non-historized table. </p><p>A <code>NullPointerException</code> occurs when the REST built-in service is used to select the content of a history table containing a foreign key field to a non-historized table.</p></li><li><p id="bug_CP-21044"><strong>CP-21044</strong> The query parameter &#39;ebx-indent&#39; has no effect on REST built-in operations. </p><p>When the &#39;ebx-indent&#39; query parameter is set to <code>false</code>, the JSON content is always indented. All the built-in REST operations are concerned.</p></li><li><p id="bug_CP-21103"><strong>CP-21103</strong> REST URL in operation response must better manage &#39;disableRedirectionToLastBroadcast&#39; parameter. </p><p>When the request is applied on D3 dataspace.</p><p>1. If &#39;disableRedirectionToLastBroadcast&#39; parameter is used in request, the URL in JSON response must propagate it.</p><p>2. If D3 redirection to a snapshot is activated, the URL in JSON response must keep the original dataspace parameter.</p></li><li><p id="bug_CP-21324"><strong>CP-21324</strong> Correct level and location of the built-in logs for REST data services. </p><p>REST dataservices builtin logs are not in same level as 5.9.x <code>WARN</code> in <code>INFO</code> and <code>INFO</code> in <code>DEBUG</code> level. Those logs are present in <code>restServices</code> instead of <code>dataServices</code> category.</p></li><li><p id="bug_CP-21510"><strong>CP-21510</strong> Error while fetching history with built-in REST service with a tableRef to a different dataset/dataspace. </p><p>The error &quot;Specified context must be in the same data model as the field node holding this foreign key constraint&quot; occurs while querying history, with a REST select operation for a table that contains a foreign key a to table belonging to a distinct dataset/dataspace..</p></li></ul>
<h3 id="bug601-Datavalidation">
Data validation</h3>
<ul>
<li><p id="bug_CP-20752"><strong>CP-20752</strong> Slow response for validation search, on a table with numerous errors. </p></li><li><p id="bug_CP-20910"><strong>CP-20910</strong> IllegalArgumentException when modifying a record after applying a validation search to the table. </p></li><li><p id="bug_CP-21035"><strong>CP-21035</strong> Parameter names not supported by a search strategy do not raise an error in the validation report. </p><p>When using a parameter name not supported by a search strategy, the UI rejects the parameter; but when compiling the model, there is no error.</p></li><li><p id="bug_CP-21067"><strong>CP-21067</strong> The number of validation messages on the navigation pane is inconsistent. </p><p>When users access tables in the dataset, the number of validation messages on the navigation pane changes continuously.</p></li><li><p id="bug_CP-21068"><strong>CP-21068</strong> The validation reports are not duplicated when creating a new child dataset. </p><p>When users create a child dataset from its parent, the validation reports are not displayed on that child.</p></li><li><p id="bug_CP-21227"><strong>CP-21227</strong> IllegalStateException occurs after modifying the primary key of a table referenced by other tables. </p></li><li><p id="bug_CP-21240"><strong>CP-21240</strong> CalciteContextException: Column &#39;...&#39; not found in table &#39;...&#39; during a validation. </p></li></ul>
<h3 id="bug601-Dataviews">
Data views</h3>
<ul>
<li><p id="bug_CP-2663"><strong>CP-2663 [25608]</strong> Performance issue on hierarchy when users select all records in view, based on simple join/ ternary simple join model. </p><p>On a join table with 50.000 records, it takes a long time to display a hierarchy view based on simple join/ ternary simple join model, if users select all records in the view.</p></li><li><p id="bug_CP-18249"><strong>CP-18249</strong> Errors occur when setting a filter on the &#39;Locale/URI&#39; field on a custom tabular view. </p><p>When users set a filter {matches/matches (case sensitive)/contains whole word/contains whole word (case sensitive)} on the &#39;Local/URI&#39; field of a custom tabular view then apply it, an error occurs on the table.</p><p>When users set other filter criteria on the &#39;Local/URI&#39; field of a custom tabular view then apply it, no records are returned.</p></li><li><p id="bug_CP-19358"><strong>CP-19358</strong> An incorrect result is returned when searching with the &#39;matches&#39; operator. </p><p>When users add a criterion using the <code>&#39;matches&#39;</code> operator, and pattern</p><p><code>[a-z]*[\d]*</code></p><p>or</p><p><code>[a-z]*[\D]*</code></p><p>the system returns an incorrect result.</p></li><li><p id="bug_CP-20414"><strong>CP-20414</strong> Differing results are returned when applying a filter on a hierarchy view and a tabular view. </p><p>When users apply a quick search on a hierarchy view and on a tabular view (same data, same table) with the same criteria, the results are not the same.</p></li><li><p id="bug_CP-20706"><strong>CP-20706</strong> Exporting data from an association with custom view should not export all fields from association table </p><p>Considering an association link (definition: By foreign key) with a custom view: while exporting data from the associated table, all table columns are getting exported with the default column position. Usually, the export contains only the columns of the current view.</p></li><li><p id="bug_CP-20821"><strong>CP-20821</strong> Performance issue when filtering on multi-valued field. </p><p>When users apply an advanced search on a field under a group re-using complex type, the search takes a long time.</p></li></ul>
<h3 id="bug601-Dataviewshierarchies">
Data views - hierarchies</h3>
<ul>
<li><p id="bug_CP-3851"><strong>CP-3851 [22500]</strong> The loading page notification persists when selecting all records in hierarchy view of a large table. </p></li><li><p id="bug_CP-17239"><strong>CP-17239</strong> The loading screen persists when applying a &#39;Search&#39; filter, then applying &#39;Find in hierarchy&#39;. </p></li><li><p id="bug_CP-17452"><strong>CP-17452</strong> A blank workspace is shown when selecting records on a hierarchy view that has large data. </p><p>When users select records by using &#39;All&#39; from &#39;Select and display&#39; &gt; &#39;Select records&#39;, the loading screen persists for quite a while, then a blank workspace displays.</p></li><li><p id="bug_CP-18339"><strong>CP-18339</strong> IllegalArgumentException when searching on ragged hierarchy. </p></li><li><p id="bug_CP-18570"><strong>CP-18570</strong> IllegalArgumentException while displaying hierarchy with composite links. </p></li><li><p id="bug_CP-19145"><strong>CP-19145</strong> A fatal error occurs when clicking &#39;Select all children&#39; in the hierarchy view. </p><p>When users add a new primary key to the model, then click  &#39;Select all children&#39; in the hierarchy view, a fatal error occurs.</p></li><li><p id="bug_CP-19164"><strong>CP-19164</strong> An incorrect result is displayed when applying a filtered hierarchy view on a target table which is also a join table. </p></li><li><p id="bug_CP-19975"><strong>CP-19975</strong> When deleting a record and applying the &#39;Select records&#39; service, the records in the hierarchy view disappear. </p><p>If, after deleting a record in the hierarchy view, users click on the &#39;All&#39; or &#39;None&#39; selection, the records on the table disappear.</p><p>This bug also occurs when deleting a record and applying a value on the &#39;Find in hierarchy&#39;.</p></li><li><p id="bug_CP-20095"><strong>CP-20095</strong> [All browsers] The filter icon is not displayed on the filtered node after applying an advanced search on the filtered hierarchy view. </p><p>When users apply an advanced search on the filtered hierarchy view, the filter icon is not displayed in the filtered node, and a blank search pane is displayed.</p></li><li><p id="bug_CP-20225"><strong>CP-20225</strong> The number of selected records is not updated when a record is deleted on the hierarchy view. </p></li><li><p id="bug_CP-20410"><strong>CP-20410</strong> A blank workspace is displayed when applying the text search, then selecting all records on a hierarchy view that has large data. </p></li><li><p id="bug_CP-20418"><strong>CP-20418</strong> An error message is displayed when creating a hierarchy view that contains an HTML field on its label. </p></li><li><p id="bug_CP-20677"><strong>CP-20677</strong> An incorrect result is displayed when applying quick search on a &#39;Date&#39; field in hierarchy view of a child dataset. </p></li><li><p id="bug_CP-20678"><strong>CP-20678</strong> Hierarchy search in error on a recursive link with a contextual date field link. </p><p>When users create and apply a hierarchy view, then expand an unset node, an error message is displayed.</p></li><li><p id="bug_CP-20679"><strong>CP-20679</strong> A fatal error occurs when choosing a filtered record, then selecting all records in the hierarchy view of a child dataset. </p><p>In the hierarchy view of a child dataset, when users apply quick search, tick on the filtered record, then select all records, a fatal error occurs.</p></li><li><p id="bug_CP-20681"><strong>CP-20681</strong> A fatal error occurs when selecting &#39;None&#39; on hierarchy view of child dataset. </p><p>In the hierarchy view of a child dataset, when users apply quick search, then choose all records, and finally choose &#39;None&#39; selection,&nbsp;a fatal error occurs.</p></li><li><p id="bug_CP-20693"><strong>CP-20693</strong> A white page is displayed when selecting all records in the hierarchy view of a child dataset. </p></li><li><p id="bug_CP-20700"><strong>CP-20700</strong> Hierarchy: The elements returned by &#39;Find&#39; are not filtered by the search. </p></li><li><p id="bug_CP-20839"><strong>CP-20839</strong> An error occurs when applying a hierarchy view on the &quot;Activations&quot; table. </p><p>On the &quot;Activations&quot; table of the &quot;Workflow launchers&quot; under the &quot;Administrations&quot;,  an error occurs when applying a hierarchy view with dimension &quot;Tables/Activations&quot;. </p></li><li><p id="bug_CP-21022"><strong>CP-21022</strong> An error occurs when applying search/ quick search on a hierarchy view based on a Boolean field. </p></li><li><p id="bug_CP-21132"><strong>CP-21132</strong> No children found if the next target level is recursive. </p></li><li><p id="bug_CP-21220"><strong>CP-21220</strong> An error message is displayed when creating a hierarchy view on a table whose label involves a field with certain search strategies. </p><p>Error when users create a hierarchy view on a table, if it has a foreign key to a table whose label refers to a field with search strategy= Text/Excluded from search.</p></li><li><p id="bug_CP-21233"><strong>CP-21233</strong> Hierarchy Pagination on source fails on a binary-link dependency ordered by link. </p><p>Hierarchy Pagination on source fails when searching on a binary-link dependency ordered by link.</p><p> - &#39;next page&#39; does nothing</p><p> - &#39;previous page&#39; (after a last page) fails.</p></li><li><p id="bug_CP-21246"><strong>CP-21246</strong> An exception occurs when creating a record under an orphan parent in the hierarchy view. </p><p>An exception occurs when creating a record under an orphan parent in the hierarchy view</p></li><li><p id="bug_CP-21290"><strong>CP-21290</strong> &#39;Find&#39; fails on hierarchy with ternary recursive dependency. </p><p>&#39;Find&#39; on hierarchy with a dimension such as &#39;active -&gt; employee -&gt; employee&#39; fails with a <code>ConversionException</code></p></li><li><p id="bug_CP-21381"><strong>CP-21381</strong> A member of a recursive hierarchy tree cannot also be the child of parent level. </p><p>For a dimension as s -&gt; t -&gt; t, a member t of the recursive tree cannot be child of a s member, except if it is a root of the t tree.</p></li><li><p id="bug_CP-21395"><strong>CP-21395</strong> Hierarchy error when its dimension is based on a chain of composite foreign key dependencies. </p></li><li><p id="bug_CP-21508"><strong>CP-21508</strong> Hierarchy on mapped tables displays the wrong results. </p><p>In dataset Administration -&gt; History and Logs, define a hierarchy on the table  &#39;Repository connection log&#39; with the dimension Mode -&gt; Repository. </p><p>If we open any Mode member, all the records are displayed.</p></li></ul>
<h3 id="bug601-Dataworkflows">
Data workflows</h3>
<ul>
<li><p id="bug_CP-2239"><strong>CP-2239 [31108]</strong> The data context variable standing for output parameter of validation service is not displayed. </p><p>After defining a data context variable for &#39;Output parameters&#39; of the service &#39;[built-in] Validate a dataspace, a snapshot or a dataset&#39;: this variable is not displayed.</p></li><li><p id="bug_CP-17206"><strong>CP-17206</strong> The PDF export pop-up of &#39;Workflow diagram&#39; is poorly displayed. </p><p>In &#39;Workflow diagram&#39;, the Export settings (PDF) form moves up when users open the &#39;Format&#39; drop-down list, and the pane that contains the diagram comes without a right border.</p></li><li><p id="bug_CP-19440"><strong>CP-19440</strong> When opening a sub-workflow, its parent workflow item is not displayed in breadcrumb. </p></li><li><p id="bug_CP-19752"><strong>CP-19752</strong> When using the &#39;Duplicate&#39; service in a workflow user task, primary key fields that are also foreign keys are not editable. </p></li><li><p id="bug_CP-19882"><strong>CP-19882</strong> The workflow model does not comply with the modeling default values. </p><p>When users set the default values of the &#39;Activate quick launch&#39; and &#39;Automatically open the first step&#39; as &#39;Yes&#39;, then create a workflow model: the default values of these fields in this model are &#39;No&#39;.</p></li><li><p id="bug_CP-20221"><strong>CP-20221</strong> Improve speed performance of workflow write actions. </p></li><li><p id="bug_CP-20747"><strong>CP-20747</strong> &#39;Find in hierarchy&#39; bar should not be displayed on the workflow model. </p><p>When users access the hierarchy view on the workflow model, then apply the &#39;Find in hierarchy&#39;, no matching record is highlighted and the &#39;Find in hierarchy&#39; pane is closed.</p></li><li><p id="bug_CP-20767"><strong>CP-20767</strong> Unwanted redirection to the inbox, when closing a snapshot through the &#39;Publication history&#39; service. </p></li><li><p id="bug_CP-21143"><strong>CP-21143</strong> A wrong message is displayed when running the &#39;Clean interaction table&#39; service on the &#39;Interaction&#39; table of the &#39;Interaction&#39; dataset under Administration. </p></li><li><p id="bug_CP-21218"><strong>CP-21218</strong> The priority is not updated on &#39;Data workflow&#39; when users set the default priority on &#39;Administration&#39;. </p></li><li><p id="bug_CP-21338"><strong>CP-21338</strong> Default value for workflow activation should be &#39;true &#39;. </p><p>The default value should be &#39;true&#39;, since workflow is most commonly used.</p></li><li><p id="bug_CP-21390"><strong>CP-21390</strong> Spelling error in a message for workflows </p><p>The following French message for workflows contains some spelling errors :</p><p><code>Impossible d&#39;ouvrir le bon de travail &agrave; cause d&#39;une erreur inatendue. Veuillez contater votre administrateur.</code></p><p>It should be instead :</p><p><code>Impossible d&#39;ouvrir le bon de travail &agrave; cause d&#39;une erreur inattendue. Veuillez contacter votre administrateur.</code></p></li></ul>
<h3 id="bug601-DataspacesHistory">
Dataspaces &amp; History</h3>
<ul>
<li><p id="bug_CP-19944"><strong>CP-19944</strong><code>NullPointerException</code> when importing an archive to a data space. </p></li><li><p id="bug_CP-19987"><strong>CP-19987</strong> The first page of the dataspace pagination is displayed after clicking on the breadcrumb of a dataspace. </p><p>When users click on the breadcrumb of a dataspace, they are re-directed to the first page of the pagination. </p></li><li><p id="bug_CP-20788"><strong>CP-20788</strong> The &quot;Workflow launcher&quot; service behaves abnormally on the History table. </p><p>When users click on the &quot;Workflow launcher&quot; service under the &quot;Actions&quot; menu on the History table,  the History table is closed and the data table is displayed.</p></li><li><p id="bug_CP-20796"><strong>CP-20796</strong> The &quot;Sort by relevancy&quot; service should not be offered on the History table. </p></li><li><p id="bug_CP-21017"><strong>CP-21017</strong> Error when several threads concurrently access the history of a table. </p></li></ul>
<h3 id="bug601-DistributedDataDelivery">
Distributed Data Delivery (D3)</h3>
<ul>
<li><p id="bug_CP-21433"><strong>CP-21433</strong> Resetting all schemas can deadlock with D3 event notifications. </p></li></ul>
<h3 id="bug601-Infrastructure">
Infrastructure</h3>
<ul>
<li><p id="bug_CP-21380"><strong>CP-21380</strong> Clarify the installation notes for LZ4. </p><p>The application servers&#39; installation note are not clear enough for customers wishing to install the LZ4 library natively.</p></li></ul>
<h3 id="bug601-Queries">
Queries</h3>
<ul>
<li><p id="bug_CP-21005"><strong>CP-21005</strong> ClassCastException when querying OResource fields: String cannot be cast to OResource. </p></li><li><p id="bug_CP-21169"><strong>CP-21169</strong> SQL query with AVG function fails with CannotPlanException. </p></li><li><p id="bug_CP-21178"><strong>CP-21178</strong> Inconsistent entries for default value of Query Cache entryExpirationInMinutes. </p></li><li><p id="bug_CP-21277"><strong>CP-21277</strong> Calcite metadata rowCount returns incorrect value for LuceneToEnumerableCount. </p></li><li><p id="bug_CP-21337"><strong>CP-21337</strong> No results returned for quick search on a &#39;Resource&#39; field. </p></li><li><p id="bug_CP-21340"><strong>CP-21340</strong> Sorting by a &#39;Resource&#39; field causes exception when paginating. </p></li><li><p id="bug_CP-21367"><strong>CP-21367</strong> Quick search does not operate on the label of a &#39;Locale&#39; field. </p><p>Quick search does not operate on the label of a &#39;Locale&#39; field.</p></li><li><p id="bug_CP-21529"><strong>CP-21529</strong> LEFT/RIGHT JOIN with OFFSET returns wrong results. </p><p>The problem can be reproduced with e.g.</p><p><code>SELECT n.n_nationkey, n.n_name, r.r_name</code></p><p><code>FROM nation n LEFT JOIN region r</code></p><p><code>ON n.n_regionkey.r_regionkey = r.r_regionkey</code></p><p><code>ORDER BY n.n_name OFFSET 1</code></p><p>This query returns an incorrect result, since the OFFSET is applied more than once, probably due to a bug in Calcite&#39;s <code>SortJoinTransposeRule</code> (see <a href="https://issues.apache.org/jira/browse/CALCITE-4617">CALCITE-4617</a>)</p></li><li><p id="bug_CP-21676"><strong>CP-21676</strong> Wrong translation for <code>osd:label</code> filter on locale field. </p></li><li><p id="bug_CP-21708"><strong>CP-21708</strong> Repeated access to Lucene indexes slows down the diff between the semantic table and the replica. </p><p>If a full diff with the replica has to be computed (for example: when activating replication), the repeated access to the persistent Lucene indexes takes very long, for tables with millions of records.</p></li></ul>
<h3 id="bug601-RESTToolkit">
REST Toolkit</h3>
<ul>
<li><p id="bug_CP-19778"><strong>CP-19778</strong> Exception when requesting REST with a custom servlet path. </p><p>If a custom servlet path configuration is set: when sending a REST request generated from the <code>UIResourceLocator#getURLForRest</code> API, a ServletException occurs on the server side.</p><p>On the browser, the response is 200 OK, but it contains the HTML error content, not the expected JSON content.</p></li><li><p id="bug_CP-21034"><strong>CP-21034</strong> The UI should not depend on the activation of the built-in REST service, defined from the global permissions dataset. </p></li><li><p id="bug_CP-21188"><strong>CP-21188</strong> RequestUriFilter does not properly handle base URI definition according to built-in data services lineage and modules public path prefix property. </p><p>When the <code>_ebx.module.publicPath.prefix_</code> property and the built-in data services lineage are defined, their URI path value are concatenated resulting in wrong URI builds.</p><p>If no built-in data services lineage and no modules public path prefix are defined, then default values must be applied.</p><p>* server URI path: /</p><p>* built-in data services URI path: /ebx-dataservices</p><p>* base URI path:&nbsp;the one from the HTTP request</p><p>* request URI path: the one from the HTTP request</p><p>If no  built-in data services lineage is defined but there is a modules public path prefix, then it must be considered:</p><p>* server URI path: modules public path prefix</p><p>* built-in data services URI path: modules public path prefix + /ebx-dataservices</p><p>* base URI path: modules public path prefix + partial base URI path which begin with the servlet name segment</p><p>* request URI path:  modules public path prefix + partial request URI path which begin with the servlet name segment</p><p>If there is a built-in data services lineage, then it must be considered:</p><p>* server URI path: built-in data services lineage URI path minus the servlet name segment </p><p>* built-in data services URI path: built-in data services lineage URI path</p><p>* base URI path: server URI path + partial base URI path which begin with the servlet name segment</p><p>* request URI path: server URI path + partial request URI path which begin with the servlet name segment</p></li></ul>
<h3 id="bug601-Userinterface">
User interface</h3>
<ul>
<li><p id="bug_CP-825"><strong>CP-825 [37252]</strong> When setting the &#39;Node category&#39; field to &#39;Hidden&#39; for a table, under the &#39;Action&#39; menu of an associated data set, &#39;Categories&#39; is not shown. </p></li><li><p id="bug_CP-18601"><strong>CP-18601</strong> The horizontal scroll bar is not displayed, in a form opened from a work item. </p></li><li><p id="bug_CP-19041"><strong>CP-19041</strong> The &#39;collapsed&#39; state in custom perspective does not remain. </p><p>After clicking on the &#39;Collapse&#39; button of a custom perspective, then opening the &#39;Select perspective&#39; menu, the navigation pane of custom perspective is changed to &#39;Expand&#39; state.</p></li><li><p id="bug_CP-19134"><strong>CP-19134</strong> An incorrect behavior occurs when a non-admin user changes the owner on the information page of a dataspace. </p><p>When a non-admin user changes the owner on the information page of a dataspace and saves it, no error message is displayed. When clicking on the &#39;Close&#39; button, the error message is displayed with duplicated content.</p></li><li><p id="bug_CP-19789"><strong>CP-19789</strong> [All browsers] The service icons overlap the label view when accessing as a non-admin user. </p><p>A view created by an admin user is shared with all profiles. When accessing this view as a non-admin user, all service icons overlap the label view.</p></li><li><p id="bug_CP-19829"><strong>CP-19829</strong> The default value of the &#39;Progress strategy&#39; field on the creation form is not synchronized after updating the configuration in the &#39;Modeling default values&#39; table. </p><p>When &#39;[not defined]&#39;/&#39;Display the work items table&#39;/&#39;Automatically open the next step&#39; is set to be the default value for the following fields:</p><p>* Progress strategy for a user task</p><p>* Progress strategy for a subworkflow invocation</p><p>* Progress strategy for a script task</p><p>* Progress strategy for a condition</p><p>Then, on the creation form of a user task/sub-workflow invocation/script task/condition, the value of the &#39;Progress strategy&#39; field is [not defined].</p></li><li><p id="bug_CP-19868"><strong>CP-19868</strong> The focus on custom perspective item does not take the full width. </p></li><li><p id="bug_CP-19870"><strong>CP-19870</strong> In custom perspective, the selected item loses its selected style after a few milliseconds. </p></li><li><p id="bug_CP-19968"><strong>CP-19968</strong> The dataspace tree does not expand to the search result. </p><p>When users search on a dataspace tree, if the search result is a child dataset of level 2, the dataspace tree does not expand to that result.</p></li><li><p id="bug_CP-20007"><strong>CP-20007</strong> [All browsers] A JavaScript error occurs after accessing a snapshot. </p></li><li><p id="bug_CP-20232"><strong>CP-20232</strong> Exception thrown on advanced search for a &#39;Resource&#39; field. </p><p>If users create a criterion for the resource field on the advanced search pane, then apply it, an error occurs.</p></li><li><p id="bug_CP-20264"><strong>CP-20264</strong> [Edge44] Some paging buttons are not displayed and highlighted when accessing a table. </p><p>On the Edge browser, when users access a table that has over 10 records, some paging buttons: &#39;next&gt;|&#39;, &#39;last&gt;|&#39; are not displayed and highlighted. When users hover over it, they are displayed and highlighted.</p></li><li><p id="bug_CP-20316"><strong>CP-20316</strong> An error message is shown when applying the quick search on the &#39;Active workflows&#39; table. </p><p>When users apply the advanced search on the &#39;Priority&#39; field, an error message is shown.</p></li><li><p id="bug_CP-20394"><strong>CP-20394</strong> [All browsers] The View menu is not fully displayed when creating a view with a long name in the &#39;Administration&#39; area. </p><p>When creating a view with a long name in the &#39;Administration&#39; area, the view menu is not fully displayed.</p><p>The issue also happens on the &#39;Data workflows&#39; area.</p></li><li><p id="bug_CP-20427"><strong>CP-20427</strong> An item is missing on the breadcrumb of a dataspace. </p><p>When opening a permission record or a history record in a data space, the breadcrumb is not displayed fully.</p></li><li><p id="bug_CP-20516"><strong>CP-20516</strong> [Chrome/Edge]The label of the tables under the &#39;Extensions&#39; is blurred when zooming out the page 80%. </p><p>When zooming out the page 80% and accessing any table under &#39;Extensions&#39;, the first letter of the label is blurred.</p></li><li><p id="bug_CP-20646"><strong>CP-20646</strong> Sub tabbed pane should fill parent width. </p><p>A tabbed pane under another tabbed pane has a special display. It should have the same width than the parent tab.</p></li><li><p id="bug_CP-20785"><strong>CP-20785</strong> Some matching records are not highlighted when repeatedly clicking on the &#39;Next&#39; button in the &#39;Find in hierarchy&#39; pane. </p></li><li><p id="bug_CP-20811"><strong>CP-20811</strong> The matching records are not highlighted when executing the &#39;Find in hierarchy&#39; on the integer field. </p></li><li><p id="bug_CP-20859"><strong>CP-20859</strong> In the &#39;Record permission script&#39; extension, an alert is displayed when user clicks the &#39;Revert&#39; button when script has been modified. </p><p>A warning displays that &quot;modifications may be lost&quot;.</p></li><li><p id="bug_CP-20868"><strong>CP-20868</strong> When navigating to a new dataspace, the previously selected dataset node should remain selected. </p><p>When user changes the dataspace, the UI tries to keep the same dataset selected, if it exists.</p><p>The same process should apply to the node selected in the dataset.</p></li><li><p id="bug_CP-20899"><strong>CP-20899</strong> Custom strategy label overwrites reserved name. </p><p>A user imports an XML file in the strategy table of the search extension. If this file contains a record for which the name of the strategy is a reserved name, the record will be displayed in error in the table.</p><p>But in the extension search, the name of the associated built-in strategy will be overwritten by the label of the custom strategy in error.</p></li><li><p id="bug_CP-20904"><strong>CP-20904</strong> The authorization header is not correctly escaped </p><p>The authorization header contains unexpected characters, which may prevent the user from logging.</p></li><li><p id="bug_CP-20931"><strong>CP-20931</strong> Extensions are displayed in RW policy when they should be displayed in RO. </p><p>When setting the value access policy of a model in &quot;Read-Only&quot;, the extensions under the &#39;Extension&#39; tab are still displayed as though they could be overwritten. It is not the case - the user cannot save the modifications brought to the extension- but the display should not allow any modifications.</p><p>When accessing extensions through the navigation pane, the same issue occurs. If we are not in the case of a table, we have still the option to modify and try to save the extension. </p></li><li><p id="bug_CP-20948"><strong>CP-20948</strong> The documentation pane of the default strategy is truncated in the case of a foreign key. </p><p>In the case of a foreign key, the default strategy documentation pane is not fully displayed. </p><p>The only solution is to increase the height of the extension frame to fit the whole description.</p></li><li><p id="bug_CP-20951"><strong>CP-20951</strong> [All browsers] A blank extension content is displayed when clicking on the &#39;Save custom layout&#39; button in the &#39;Set custom form&#39; area under the &#39;Extensions&#39; tab of a table. </p></li><li><p id="bug_CP-20952"><strong>CP-20952</strong> The record is still highlighted when modifying/removing a search on the hierarchy view. </p><p>If users apply a search combined with finding in hierarchy: the record remains highlighted when users modify or remove that search.</p></li><li><p id="bug_CP-21031"><strong>CP-21031</strong> The &#39;fullscreen&#39; state of the Data Model Extension should be persisted. </p></li><li><p id="bug_CP-21033"><strong>CP-21033</strong> When duplicating a dataset, and inputting an existing name for it, the error message is not user-friendly. </p></li><li><p id="bug_CP-21045"><strong>CP-21045</strong> ConcurrentModificationException thrown when adding a criterion. </p><p>A ConcurrentModificationException may be thrown when adding a criterion in the advanced filters pane.</p></li><li><p id="bug_CP-21046"><strong>CP-21046</strong> When closing a user service form, the user is not redirected to the right view. </p><p>When closing a user service form with the default &#39;Close&#39; button, the user is not redirected to the right view.</p><p>This occurs when the record was opened from a work item that selects a custom hierarchical table view.</p><p>In that case, the user is redirected to the default view instead of the custom one.</p></li><li><p id="bug_CP-21064"><strong>CP-21064</strong> In custom forms, the &#39;Save&#39;, &#39;Save and close&#39; and &#39;Revert&#39; button should be hidden. </p><p>When displaying a record with a custom layout: if this record is inherited or in read-only mode, then these buttons should not be displayed.</p></li><li><p id="bug_CP-21070"><strong>CP-21070</strong> Error on a hierarchy view based on osd:select dependency. </p><p>When users create and apply a hierarchy view, then apply quick search/advance search on the &quot;Publication&quot; table on &quot;Data Modeling&quot; dataset under &quot;Administrations&quot;, an error occurs.</p></li><li><p id="bug_CP-21087"><strong>CP-21087</strong> When overwriting a record, the user is redirected to the model-driven form. </p><p>When overwriting or inheriting a record from a custom form, the user is redirected to the model-driven form instead of the custom form.</p></li><li><p id="bug_CP-21105"><strong>CP-21105</strong> Encoding mismatch when enabling file upload for the form with UserServiceDisplayConfigurator. </p></li><li><p id="bug_CP-21122"><strong>CP-21122</strong> The &#39;Clear field&#39; buttons are not displayed on Date/Time/DateTime fields in the advanced search pane. </p></li><li><p id="bug_CP-21123"><strong>CP-21123</strong> A non-admin user cannot access a child dataset. </p><p>A non-admin user cannot access a child dataset when that user does not have permission in the parent dataset.</p></li><li><p id="bug_CP-21144"><strong>CP-21144</strong> A blank workspace is displayed when combining a quick search with an advanced search, and overwriting a record on a child dataset. </p><p>On a table of a child dataset, when users combine a quick search with an advanced search then overwrite a record, a blank workspace is shown.</p><p>When users apply a quick search with an advanced search and go to next page/ last page then delete a record, an error message is displayed.</p></li><li><p id="bug_CP-21197"><strong>CP-21197</strong> A fatal error occurs when creating a multi-valued field with data type: &#39;Password&#39;. </p><p>When users create a multi-valued field with the data type as &#39;Password&#39;, a fatal error occurs. A JavaScript error also appears in the console.</p></li><li><p id="bug_CP-21225"><strong>CP-21225</strong><code>NullPointerException</code> when loading a filter containing a criterion on validation. </p><p>When loading a filter having a criterion on &quot;Message&quot; or &quot;Severity&quot;, an <code>NullPointerException</code> is thrown.</p></li><li><p id="bug_CP-21242"><strong>CP-21242</strong> The quick search feature causes BootstrapMethodError. </p></li><li><p id="bug_CP-21313"><strong>CP-21313</strong> In custom forms, groups are not expanded by default. </p><p>In custom forms, when adding a &#39;var&#39; block referencing a group inside a &#39;Form&#39;, the group is always collapsed.</p></li><li><p id="bug_CP-21341"><strong>CP-21341</strong> Error messages are not visible when using a workflow launcher. </p><p>When using a workflow launcher, the messages indicating that the workflow could not be launched should be errors, and should pop up automatically.</p></li><li><p id="bug_CP-21431"><strong>CP-21431</strong> A white page is displayed when closing a record after applying advanced search on enumeration Locale/URI field. </p><p>When users apply an advanced search on an enumeration Locale/URI field, then open the filtered record and close it, a white page is displayed.</p></li><li><p id="bug_CP-21507"><strong>CP-21507</strong> Avatar in header should be wider. </p><p>Avatar size is too small; user initials are too close from  avatar border.</p></li><li><p id="bug_CP-21542"><strong>CP-21542</strong> Some JS buffer errors occur in the log files. </p><p>Some JS buffer errors occur in the log files :</p><p><code>2021-05-28 14:53:21,738 CEST ERROR log.kernel 1149 [http-bio-8080-exec-2] 127.0.0.1 7D481DD26E68CCAF7ACE6E4DBFADE533:0 ebx-manager P .sessionIn.user_service wbp:_Manager.html 0xaruccs61ek6zyc6u22d81n3b9jiiv5 on_select_datas UIBuilder&#39;s JSBuffer is not empty. Some JavaScript code has been lost.</code></p><p>No noted functional error</p></li><li><p id="bug_CP-21652"><strong>CP-21652</strong> PerspectiveHandler#getCurrentPerspective(boolean) may return null in some unintended cases. </p><p>The documentation of <code>PerspectiveHandler#getCurrentPerspective(boolean)</code> states:</p><p>{quote}Returns the perspective applied in the current session, or recursively in parent if lookupInParentSession is true.</p><p>- If the current session is the root session, always returns a perspective.</p><p>- If the current session is a sub session and lookupInParentSession is true, always returns a perspective.</p><p>- If the current session is a sub-session and lookupInParentSession is false, may return null.{quote}</p><p>But in some circumstances:</p><p>* it can return <code>null</code> for a root session,</p><p>* it can return <code>null</code> for a sub-session even if <code>lookupInParentSession</code> is set to <code>true</code>.</p></li><li><p id="bug_CP-21658"><strong>CP-21658</strong> Wrong prototype for UIHttpManagerComponent#initFromHttpRequest(). </p><p>A second parameter has been added to <code>UIHttpManagerComponent#initFromHttpRequest()</code>. It should be removed.</p></li></ul>
<h3 id="bug601-UsersPermissions">
Users &amp; Permissions</h3>
<ul>
<li><p id="bug_CP-21243"><strong>CP-21243</strong> Access rules on occurrence returning &#39;Hidden&#39; with a message are not filtering the queries accordingly. </p><p>When an access rule on record returns &#39;Hidden&#39; access permission with an additional UserMessage, the record is yet returned from <code>RequestResult</code>.</p></li></ul>
<h2 id="bugfix600">
6.0.0 Bug fixes</h2>
<h3 id="bug600-Coreengine">
Core engine</h3>
<ul>
<li><p id="bug_CP-742"><strong>CP-742 [36071]</strong> @36071 Exceptions can occur while requesting data while customer modules are not fully compiled or have been unregistered. </p><p>Exceptions can occur while requesting data while customer modules are not fully compiled or have been unregistered.</p></li><li><p id="bug_CP-1961"><strong>CP-1961 [31455]</strong> The default log file for a given category should not be created when the logs are redirected elsewhere. </p></li><li><p id="bug_CP-16455"><strong>CP-16455 [37260]</strong> Unclear error message when an <code>OperationException</code> is thrown during the &quot;apply last modifications&quot; action. </p></li><li><p id="bug_CP-16534"><strong>CP-16534</strong> The API for <code>RepositoryAnonymizer.RecordContext</code> is incorrect. </p><p>The method <code>RepositoryAnonymizer.RecordContext.setValue(SchemaNode aNode, Path aPath)</code></p><p>has the wrong parameter types, and should be changed to: <code>setValue(Object aValue, SchemaNode aNode)</code>.</p></li><li><p id="bug_CP-17052"><strong>CP-17052</strong> An error occurs when building an XPath filter that uses a validation predicate. </p><p>An error occurs with a <code>NullPointerException</code> when building an XPath filter that uses a validation predicate.</p></li><li><p id="bug_CP-17156"><strong>CP-17156</strong> An error occurs when publishing a data model declaring a replication with a name longer than 32 characters. </p><p>An error occurs when publishing a data model with a replication that has a key length greater than 32 characters. The max key length should be 64 characters.</p></li><li><p id="bug_CP-17527"><strong>CP-17527</strong> A deadlock may occur on startup on a JBoss EAP server. </p><p>When using a JBoss EAP server, a deadlock may occur on startup.</p></li><li><p id="bug_CP-18296"><strong>CP-18296</strong> An exception occurs while renaming a mapped column under a group through the API. </p></li><li><p id="bug_CP-18609"><strong>CP-18609</strong> If the JavaMail jar is missing, an error message should explicitly state it. </p><p>When deployed on Tomcat, if the JavaMail jar is not installed, startup fails without relevant information.</p></li><li><p id="bug_CP-18677"><strong>CP-18677</strong> Upgrade script to 5.7 assumes that the table name starts with the repository prefix. </p><p>If a repository has run on EBX&reg; 5.0 to 5.2, and used history or relational tables, these have been created without a repository prefix. However, installation script TSA.6 - issued for upgrading a repository to 5.7 - assumes that the name of any relational table starts with the repository prefix. The upgrade to 5.7 fails with this message:[SqlChecker] Table EBX_MY_TABLE does not exist.</p></li><li><p id="bug_CP-18782"><strong>CP-18782</strong> Mapped mode fails with the H2 1.4.200 database when a field name is a reserved word. </p><p>Mapped mode fails with the H2 1.4.200 database when a field name is a reserved word.</p></li><li><p id="bug_CP-18946"><strong>CP-18946</strong> An error occurs when requesting the history of a table in all dataspaces. </p></li><li><p id="bug_CP-20392"><strong>CP-20392</strong> ObjectAlreadyExistsException when registering a scheduler cron task, if it already exists. </p><p>An exception is thrown when a module registers several times a scheduler cron task with  the same identification. A warn log should only be added.</p></li><li><p id="bug_CP-20546"><strong>CP-20546</strong> An error can be silently dropped when executing an SQL request. </p></li><li><p id="bug_CP-20828"><strong>CP-20828</strong> A blank workspace is displayed when the &#39;Seniority (days)&#39; field contains special characters. </p><p>In the &#39;Administration&#39; area, when users create the &#39;Seniority (days)&#39; field with special characters then re-access the &#39;Task scheduler&#39; dataset, a blank page is displayed and an exception is thrown in the log file.</p></li></ul>
<h3 id="bug600-Datamodeling">
Data modeling</h3>
<ul>
<li><p id="bug_CP-2425"><strong>CP-2425 [28754]</strong> The method <code>SchemaDocumentationContext.getSession</code> can return <code>null</code> erroneously. </p></li><li><p id="bug_CP-16910"><strong>CP-16910</strong> The list of data model versions is empty if it has not been previously published. </p><p>The section that displays the versions of a data model is empty if the data model has not been previously published.</p></li><li><p id="bug_CP-17491"><strong>CP-17491</strong> Error at the data model compilation when inheriting a field from another data model. </p><p>An error occurs at the data model compilation when a field of the data model inherits from a field in another data model through 2 foreign keys.</p></li><li><p id="bug_CP-17583"><strong>CP-17583</strong><code>ClassCastException</code> referencing field from an included schema in a computation rule. </p><p><code>ClassCastException</code> referencing field from DaqaMetadata in a computation rule.</p></li><li><p id="bug_CP-17595"><strong>CP-17595</strong> Constraint on the &quot;source location&quot; field in the DMA should return a warning instead of an error. </p><p>Constraint on the &quot;source location&quot; field in the DMA should return a warning instead of an error. </p></li><li><p id="bug_CP-17835"><strong>CP-17835</strong> The &quot;Trim white spaces&quot; property is not inherited from a simple data type. </p><p>When the &quot;Trim white spaces&quot; property is set to false on a simple data type, and a field reuses this type, this property is not inherited, even though it looks like it is in the DMA. Also, the property is still not considered when overloading the value.</p></li><li><p id="bug_CP-18527"><strong>CP-18527</strong> Records can still be duplicated when this action is forbidden on the data model. </p><p>Users set &#39;Duplicate record&#39; on the table of a data model to &#39;Forbidden&#39; but in associated datasets, records can still be duplicated.</p></li><li><p id="bug_CP-20274"><strong>CP-20274</strong> The XSD generated by the Data Model Assistant is not formatted. </p><p>The datamodel XSD file no longer has any tabs/spaces to make the XML human-readable.</p></li></ul>
<h3 id="bug600-Dataservices">
Data services</h3>
<ul>
<li><p id="bug_CP-552"><strong>CP-552 [36564]</strong> Error when using built-in REST service with filter by record label </p><p>A NullPointerException occurs when using the built-in REST service to get table data with filter by predicates on a record label (osd:contains-record-label).</p></li><li><p id="bug_CP-1120"><strong>CP-1120 [36858]</strong> REST &#39;get history&#39; returns an unexpected error when the table has locale &#39;zh-cn&#39; </p><p>When a record has the locale zh-cn, the REST call to get the history of a table returns an unexpected error. </p></li><li><p id="bug_CP-16393"><strong>CP-16393</strong> Lineage base URL makes EBX&reg; inaccessible. </p><p>Lineage base URL makes EBX&reg; inaccessible. </p></li><li><p id="bug_CP-16482"><strong>CP-16482</strong> Comparing with filter <code>isResolvedMode</code> returns a different result than from the Web. </p><p>In unresolved mode, the comparison result of two records by a workflow using a built-in service is different from the one using the public API <code>DifferenceHelper.compareOccurrences(Adaptation, Adaptation, boolean)</code>.</p></li><li><p id="bug_CP-16638"><strong>CP-16638</strong> When setting a toolbar with <code>isForTable=false</code> in a <code>UserServiceDisplayConfigurator</code>, table-level services are offered instead of record-level services. </p><p>When setting a toolbar with <code>isForTable=false</code> in a <code>UserServiceDisplayConfigurator</code>, table-level services are offered instead of record-level services. </p></li><li><p id="bug_CP-17197"><strong>CP-17197</strong> REST Toolkit: <code>UnsupportedOperationException</code> error thrown when combining standard authentication, POST verb and application/x-www-form-urlencoded content-type </p><p>An <code>UnsupportedOperationException</code> error is thrown during the standard authentication process.</p><p>The exception is caused by a replacement of the provided password by an obfuscated one and it must be done for security reason.</p></li><li><p id="bug_CP-17227"><strong>CP-17227</strong> HTTP Request Authentication scheme is performed even if a built-in authentication is tried </p><p>During the authentication activation / deactivation feature development, a condition has been removed and must be added anew. If a built-in authentication scheme can be applied to the given request, then the HTTP Request Authentication scheme and the following anonymous authentication schemes must not be tried.</p></li><li><p id="bug_CP-17747"><strong>CP-17747</strong> Incomprehensible error message while inserting data using REST data services. </p><p>Such a message is returned as soon as there is a node under the table path in the base URI, which is related neither to the record primary key, nor to the technical primary key.</p></li><li><p id="bug_CP-17881"><strong>CP-17881</strong> Provide more detail when authentication is denied because of multiple methods in a REST request. </p><p>When a REST request is received with multiple authentication methods configured, only the message &quot;Authentication failed&quot; is returned. No information regarding the cause is provided, even in the log files at debug level.</p><p>A reason for the failed authentication should be given.</p></li><li><p id="bug_CP-18562"><strong>CP-18562</strong> Property &#39;ebx.http.authorization.header.policy&#39; should not impact basic authentication </p><p>Currently, setting <code>ebx.http.authorization.header.policy</code> from file <code>ebx.properties</code> impacts all authentication modes.</p><p>Standard &quot;Basic&quot; authentication mode then becomes incompatible with most REST clients.</p><p>This setting should only concern the &#39;Token Authentication Scheme&#39;.</p></li><li><p id="bug_CP-18589"><strong>CP-18589</strong> The &#39;REST forward authentication&#39; should not be limited to use the built-in operations. </p><p>The introduction chapter of the REST dataservices mention a limitation regarding REST forward authentication. The limitation restricted to the built-in services is incorrect, it should be removed.</p></li><li><p id="bug_CP-18590"><strong>CP-18590</strong> The &#39;ebx.dataservices.rest.auth.tryBasicAuthentication&#39; property does not deactivate the Basic authentication method. </p><p>When the &#39;ebx.dataservices.rest.auth.tryBasicAuthentication&#39; property is set to &#39;false&#39;, the &#39;Basic&#39; method is not deactivated; the documentation of this property should be improved.</p></li><li><p id="bug_CP-18785"><strong>CP-18785</strong> REST built-in select operation with &#39;includeSortCriteria=true&#39; parameter aborts. </p><p>The REST select operation aborts if the following conditions are all true:</p><p>&#39;includeSortCriteria=true,&#39; the &#39;sort&#39; parameter is defined, and the pagination mecanism is activated.</p></li><li><p id="bug_CP-19491"><strong>CP-19491</strong> Incorrect permission evaluation with REST built-in service, when updating a record from &#39;overwrite&#39; to &#39;inherit&#39;. </p><p>When changing the inheritance mode of an &#39;overwriting&#39; record back to &#39;inherit&#39;, the permission to evaluate should be &#39;Delete a record&#39; instead of &#39;Overwrite inherited record&#39;.</p></li><li><p id="bug_CP-19503"><strong>CP-19503</strong> Label and details URL for foreign key field are unavailable on REST history content. </p><p>When a user requests the history content through the REST built-in service, the label and URL of details for foreign key fields are unavailable. However, this information is displayed in the user interface.</p></li><li><p id="bug_CP-19690"><strong>CP-19690</strong> Error when REST request contains an XPath predicate in the URI </p><p>When users request a GET method containing an XPath predicate, an error occurs.</p></li></ul>
<h3 id="bug600-Datavalidation">
Data validation</h3>
<ul>
<li><p id="bug_CP-1195"><strong>CP-1195 [36513]</strong> Duplicated mandatory error message on a foreign key field. </p><p>Duplicated mandatory error message on a foreign key field when a specific constraint is declared on this field.</p></li><li><p id="bug_CP-18637"><strong>CP-18637</strong> Mandatory message constraint not displayed for list types. </p><p>Multi-valued fields never display their mandatory message constraint.</p></li><li><p id="bug_CP-19257"><strong>CP-19257</strong> A foreign key with a blocking constraint prevents from merging dataspace. </p><p>A foreign key that references another dataset of the same dataspace prevents from merging, if the &#39;blocksCommit&#39; policy of the constraint is set to &#39;onInsertUpdateOrDelete&#39;.</p></li><li><p id="bug_CP-19407"><strong>CP-19407</strong> OutOfMemoryError while getting the validation report. </p><p>An OutOfMemoryError occurs when a dataset has too many messages, due to printing the validation report into the logs.</p></li><li><p id="bug_CP-19434"><strong>CP-19434</strong> Blocking foreign key constraint during merge. </p><p>If the <code>blocksCommit</code> property <code>onInsertUpdateOrDelete</code> is set on a foreign key field, then the merge operations may be blocked, even if there are no errors on that foreign key.</p></li><li><p id="bug_CP-19561"><strong>CP-19561</strong> Validation error appears in the record form, even for hidden fields </p><p>Even when a field is hidden programmatically, the validation error displays in the record view</p></li></ul>
<h3 id="bug600-Dataviews">
Data views</h3>
<ul>
<li><p id="bug_CP-610"><strong>CP-610 [36975]</strong> Impossible to compare 2 records if the table contains a data complex type with the &quot;Access properties&quot; as &quot;Not a dataset node&quot;. </p><p>When comparing 2 records, if the table contains a data complex type which sets the &quot;Access properties&quot; to &quot;Not a dataset node&quot;, then it does not work.</p><p>The compare service should work normally. The data complex type that does not have the permission should be hidden from the compare screen.</p></li><li><p id="bug_CP-945"><strong>CP-945 [37039]</strong> The &#39;Find in Hierarchy&#39; service does not work when the table has more than one primary key field. </p><p>When searching with the &#39;Find in Hierarchy&#39; mode activated, the matched record is not highlighted if the table has more than one primary key field.</p></li><li><p id="bug_CP-1569"><strong>CP-1569 [33794]</strong> Running the &#39;Move up&#39; service from a leaf node of a child data set raises an error, and the leaf node is not moved. </p><p>The two following error messages are shown when users run the &#39;Move up&#39; service: &quot;The requested operation has failed. Reason: Cannot create the new record since its primary key is already used.&quot; and &quot;Move up&quot;.</p></li><li><p id="bug_CP-1710"><strong>CP-1710 [32335]</strong> When a user who has no rights to share views duplicates a view, it is shared with the same profiles as the original view. </p><p>When a user who has no rights to share views duplicates a view, the view is shared with the same profiles as the original view. These users should not be able to share any view, even by duplicating a shared view.</p></li><li><p id="bug_CP-1950"><strong>CP-1950 [29725]</strong> An error occurs when calling the REST data service with the <code>osd:contains-record-label</code> function. </p><p>An error occurs when calling the REST data service select operation with the <code>osd:contains-record-label</code> function.</p></li><li><p id="bug_CP-3653"><strong>CP-3653 [22652]</strong> On the hierarchy view, [unset] node only displays the number of records without displaying any record after searching. </p><p>On the hierarchy view, after searching with large volumes of data (~500000 records), the [unset] node displays the page numbers but does not display any record.</p></li><li><p id="bug_CP-3857"><strong>CP-3857 [22123]</strong> Inconsistent behavior between creating and attaching a record under an unset node of a hierarchy. </p><p>In a hierarchy view based on recursive ternary simple join tables, when the user creates a new node from an unset node, an error displays. When the user attaches a node to an unset node, no error displays.</p></li><li><p id="bug_CP-4244"><strong>CP-4244 [21609]</strong> Some leaf nodes are not selected when running the service &quot;All&quot; in a simple join hierarchy view. </p><p>In a simple join hierarchy view, when running the service &#39;All&#39; under the &#39;Select and display&#39; menu, some leaf nodes in the last page are not selected.</p></li><li><p id="bug_CP-4359"><strong>CP-4359 [23080]</strong> Hierarchy nodes which are not orphan nodes are displayed under an unset node. </p><p>In a recursive ternary hierarchy, a hierarchy node which is not an orphan node is displayed under an unset node.</p></li><li><p id="bug_CP-4943"><strong>CP-4943 [17398]</strong> Incorrect behavior displaying the page when creating new records after making a global selection. </p><p>This issue occurs when the user stays on the last page to create a record on a hierarchy view. If the user makes a global selection and then creates a new record, the page containing newly created records is not displayed.</p></li><li><p id="bug_CP-5483"><strong>CP-5483 [17372]</strong> Unexpected error is displayed when checking the constraint of a field under a complex list. </p><p>This issue occurs on a field under a complex list which defines a constraint. After the user creates a record with the specified value for this field, an unexpected error displays.</p></li><li><p id="bug_CP-16514"><strong>CP-16514</strong> A <code>java.lang.StackOverflowError</code> occurs when creating a pruned hierarchy over a link table. </p><p>A <code>java.lang.StackOverflowError</code> occurs when creating a pruned hierarchy with a filter on the dependency link table.</p></li><li><p id="bug_CP-17537"><strong>CP-17537</strong> The message box is shown inappropriately when opening a deleted record. </p><p>When users open a deleted record, an error is shown. When opening the message box, an inappropriate message is displayed.</p></li><li><p id="bug_CP-17541"><strong>CP-17541</strong> The &#39;Display the message box&#39; button is not shown upon the first time accessing a fatal dataset after publishing. </p><p>When users access a fatal dataset for the first time after publishing, the &#39;Display the message box&#39; button is not displayed.</p></li><li><p id="bug_CP-17555"><strong>CP-17555</strong> [Chrome] The checkbox of any search on the &#39;Filter&#39; pane does not work properly. </p><p>When users click on the checkbox of any search on the &#39;Filter&#39; pane, the &#39;Validation search&#39; is expanded/ collapsed instead of  being applied.</p></li><li><p id="bug_CP-19687"><strong>CP-19687</strong> Filter on link table may disappear when creating a custom view. </p><p>When creating a custom view that specifies a filter on link table as a dimension criteria, the filter disappears after creating the view, saving then reopening. </p></li></ul>
<h3 id="bug600-Dataviewshierarchies">
Data views - hierarchies</h3>
<ul>
<li><p id="bug_CP-16757"><strong>CP-16757</strong> Performance issues while building a hierarchy tree. </p><p>New optimizations have been implemented in the hierarchy tree construction algorithm.</p></li><li><p id="bug_CP-17806"><strong>CP-17806</strong> The arrow button is available for an unset node after running the &quot;Attach to another parent&quot; service in the hierarchy view. </p><p>When using the &quot;Attach to another parent&quot; service of an unset node in the hierarchy view, arrows are available for unset nodes.</p></li></ul>
<h3 id="bug600-Dataworkflows">
Data workflows</h3>
<ul>
<li><p id="bug_CP-1000"><strong>CP-1000 [35068]</strong> A user is able to launch a workflow from a URL without the required permission. </p><p>A user is able to launch a workflow from a manually built URL without the required permission.</p></li><li><p id="bug_CP-16739"><strong>CP-16739</strong> The filter is kept when switching between the custom perspective action and the advanced perspective. </p><p>The filter is kept when going from an inbox as a custom perspective action to the inbox in the advanced perspective.</p></li><li><p id="bug_CP-17015"><strong>CP-17015</strong> The session interaction is not valued in the <code>AccessRule</code> execution. </p></li><li><p id="bug_CP-17216"><strong>CP-17216</strong> According to the documentation, the data context wizard should be available by default, but it is missing. </p><p>The context wizard is missing for scripts and user tasks.</p></li><li><p id="bug_CP-17223"><strong>CP-17223</strong> The space at the bottom of the work item card is too large. </p><p>In both densities, the space at the bottom of the work item is not compliant with the space on the left, right and top.</p></li><li><p id="bug_CP-17440"><strong>CP-17440</strong> The link between &#39;Initial transition&#39; and &#39;Final step&#39; is lost when deleting steps by pressing &#39;Delete&#39; on the keyboard. </p><p>On the workflow diagram of a workflow model, users select all steps between the &#39;Initial transition&#39; and the &#39;Final step&#39;, then press the &#39;Delete&#39; button on the keyboard, the link between &#39;Initial transition&#39; and &#39;Final step&#39; is deleted as well.</p></li><li><p id="bug_CP-17629"><strong>CP-17629</strong> The icon path for the workflow diagram should be relative. </p><p>The path for the icon is absolute and not relative. Thus, when testing in the cloud for example, the icon does not display correctly.</p></li><li><p id="bug_CP-19487"><strong>CP-19487</strong> Error when using service extensions in perspectives. </p><p>When accessing service extensions in perspectives, we get the below error: Perspective action is badly configured: action 203 in perspective validation-overview</p></li></ul>
<h3 id="bug600-DataspacesHistory">
Dataspaces &amp; History</h3>
<ul>
<li><p id="bug_CP-16773"><strong>CP-16773</strong> An error occurs when anonymizing list fields. </p><p>If you invoke RepositoryAnonymizer#anonymizeHistory with a consumer that modifies an aggregated list element, then the following exception occurs when constructing the DDL statements:</p><p>java.lang.ArrayIndexOutOfBoundsException: 37</p></li></ul>
<h3 id="bug600-DistributedDataDelivery">
Distributed Data Delivery (D3)</h3>
<ul>
<li><p id="bug_CP-19973"><strong>CP-19973</strong> A communication error in D3 federation broadcast is not detailed in console and log. </p><p>When a broadcast in federation mode is configured, if the communication with a replica node does not work, the stack information is not added to the D3 primary console and D3 log.</p></li></ul>
<h3 id="bug600-Documentation">
Documentation</h3>
<ul>
<li><p id="bug_CP-17099"><strong>CP-17099</strong> REST built-in authentication methods are missing in the documentation. </p><p>The REST built-in authentication methods for &#39;Anonymous&#39; and &#39;HTTP Request&#39; are missing in the documentation.</p></li><li><p id="bug_CP-17639"><strong>CP-17639</strong> The custom module log threshold documentation is incorrect. </p><p>The property <code>ebx.log4j.category.log.module.xxxxxx</code> defined in the main configuration file <code>ebx.properties</code> should be <code>ebx.log4j.category.log.wbp.xxxxxx</code>.</p></li><li><p id="bug_CP-19646"><strong>CP-19646</strong> Bronken links in pdf documentation if the anchor contains a point character. </p><p>When an anchor contains the point (&#39;.&#39;) character,&nbsp;the pdf link is incorrect. The product documentation contains 2 broken links.</p></li></ul>
<h3 id="bug600-ImportExport">
Import / Export</h3>
<ul>
<li><p id="bug_CP-20109"><strong>CP-20109</strong> XML Export is not formatted </p><p>The exported  XML misses tabs for formatting.</p></li></ul>
<h3 id="bug600-JavaEEintegration">
Java EE integration</h3>
<ul>
<li><p id="bug_CP-17392"><strong>CP-17392</strong> When deploying EBX&reg; over Weblogic, the Jersey library should be prevented from scanning REST Toolkit services. </p><p>When deploying EBX&reg; over Weblogic, the Jersey library should be prevented from scanning REST Toolkit services.</p><p>Consequently, the scanning operation has to be disabled.</p></li><li><p id="bug_CP-18044"><strong>CP-18044</strong> The shipped Apache Xerces library may lead to a StackOverflow error on custom code. </p><p>The shipped Apache Xerces library may lead to a StackOverflow error on custom code that validates an XML file. This issue must be fixed by upgrading the shipped Apache Xerces and Xalan libraries (plus any related libraries).</p></li><li><p id="bug_CP-18909"><strong>CP-18909</strong> Weblogic cannot start up since CXF has been upgraded to 3.2.12 </p><p>CXF has been upgraded to 3.2.12 for security reason. However, this version prevents Weblogic server from starting up. </p><p>Some CXF MessageBodyWriter cannot be registered into Weblogic&#39;s HK2 component.</p></li><li><p id="bug_CP-20339"><strong>CP-20339</strong> Fix the JMS section and improve JDBC section in the JBoss EAP 7.1.x installation note example. </p><p>In the JBoss EAP 7.1.x installation note example.</p><p>The JMS section is incorrect since the  <code>EBX_JMSConnectionFactory</code> is defined as a queue and should be specified in a <code>&lt;connection-factory&gt;</code> element.</p><p>The JDBC section has been improved to specify sample as for PostgreSQL.</p></li></ul>
<h3 id="bug600-Messagesi18n">
Messages &amp; i18n</h3>
<ul>
<li><p id="bug_CP-17533"><strong>CP-17533</strong> The <code>UserMessage</code> JavaDoc is not fully compliant with the <code>MessageFormat</code> pattern. </p><p>When using a <code>UserMessage</code> the pattern syntax is not fully compliant with <code>MessageFormat</code> as described in the documentation. For example, it is currently not possible to declare a format type and a style pattern to a format element.</p></li></ul>
<h3 id="bug600-Miscellaneous">
Miscellaneous</h3>
<ul>
<li><p id="bug_CP-18686"><strong>CP-18686</strong> Event broker aborts on firing dataspace creation event, if the creation has aborted. </p><p>When a dataspace aborts on creation and if a subscriber has subscribed to the dataspace creation event, an exception is thrown.</p></li></ul>
<h3 id="bug600-RESTToolkit">
REST Toolkit</h3>
<ul>
<li><p id="bug_CP-17057"><strong>CP-17057</strong> When a JSON body request is required but is not available, or the format is incorrect, a 500 HTTP status code is returned. </p><p>When no body request is sent by the client and a JSON body request is required, a 500 error is returned instead of a 400 bad request.</p><p>When a JSON body request with bad format is sent by client, a 500 error is returned instead of a 400 bad request.</p></li><li><p id="bug_CP-18370"><strong>CP-18370</strong> REST Toolkit returns HTTP error status 500 with a null body request. </p><p>The JSON parser aborts and returns a HTTP error status 500, when a request is sent, using POST method with a <code>Content-Type</code> set to <code>application/json</code> and a request body set to <code>null</code>.</p></li><li><p id="bug_CP-19259"><strong>CP-19259</strong> Asymmetrical representation of URI in Rest Toolkit JSON serialization. </p><p>When serializing a URI which is placed within an Object, a default Johnzon <code>Adapter</code> converts it into a String. However, the internal <code>URISerializer</code> takes the priority when the URI is placed within a list (at whichever level) or directly returned by the REST Java method. A URI type is then used.</p><p>*Workaround:* Use the <code>String</code> representation of the URI, instead of the URI itself. If the _absolute_ and _serverRelative_ attributes are needed, use a DTO holding the <code>String</code> representation of this data.</p></li><li><p id="bug_CP-20186"><strong>CP-20186</strong> Too many <code>SocketException</code>s due to browser connections management with Tomcat. </p><p>When the browser manages connections, it can close some of them. The server detects <code>SocketException</code> with &quot;broken pipe&quot;, &quot;socket write error&quot; message and logs in restService category of the EBX&reg; server. For Tomcat server, it catches and rethrows the exception with <code>org.apache.catalina.connector.ClientAbortException</code>.</p></li></ul>
<h3 id="bug600-Userinterface">
User interface</h3>
<ul>
<li><p id="bug_CP-533"><strong>CP-533 [35889]</strong> The sub-page&#39;s name (&quot;Information&quot; and &quot;Permission&quot;) of a dataset disappears from the navigation pane when opening it twice. </p><p>When users open a sub-page (Information/ Permission) twice on a dataset, the name of that page disappears from the navigation pane.</p></li><li><p id="bug_CP-925"><strong>CP-925 [36282]</strong> The number of messages in the message box accumulates when an error occurs. </p><p>The number of messages in the message box accumulates when users receive an error message in the Web component link generator.</p></li><li><p id="bug_CP-998"><strong>CP-998 [36221]</strong> [LAYOUT][IE] The second header of a modification workflow model step displays incorrectly in &#39;Compact&#39; mode. </p><p>Users open an existing workflow model step when the density is set to &#39;Compact&#39; mode, the second header displays incorrectly.</p></li><li><p id="bug_CP-1238"><strong>CP-1238 [36029]</strong> [Chrome] The workspace is corrupted when saving a record with cross-script labels. </p><p>When saving a record with cross-script labels, if this label field is also a unique field, the workspace is corrupted.</p></li><li><p id="bug_CP-1265"><strong>CP-1265 [36313]</strong> Accessing a dataset via a permalink in the node scope results in an erroneous empty page. </p><p>If there is a field at the root of the dataset, accessing it via a permalink in the node scope leads to an erroneous empty page.</p></li><li><p id="bug_CP-1467"><strong>CP-1467 [34590]</strong> [LAYOUT] The design for the &#39;Duplicate a dataset&#39;/&#39;Create a data set&#39; page is wrong. </p><p>On the &#39;Duplicate a dataset&#39;/&#39;Create a data set&#39; page, the design for fields is not the same as the what is stated in the guideline.</p></li><li><p id="bug_CP-3727"><strong>CP-3727 [22232]</strong> The favicon defined for a child perspective is ignored. </p></li><li><p id="bug_CP-5429"><strong>CP-5429 [17579]</strong> If a hierarchy view is applied in a filtered foreign key selector, records that do not match the filter can be selected. </p><p>If a foreign key has a filter, when the user opens its selector and applies a recursive hierarchy view, then it is possible to select all the nodes of the hierarchy, including those that do not match the filter.</p></li><li><p id="bug_CP-16339"><strong>CP-16339</strong> EBX&reg; does not work if we specify the following parameter in ebx.properties in order to deploy the static resources on another server:port than the server:port of servlet. </p><p>EBX&reg; does not work if we specify the following parameter in ebx.properties in order to deploy the static resources on another server:port than the server:port of the servlet:</p><p><code>ebx.externalResources.http.host=otherhost</code>.</p></li><li><p id="bug_CP-16342"><strong>CP-16342</strong> EBX&reg; does not work with the HTTP Servlet path parameter set in admin </p><p>When the HTTP Servlet path parameter is set in admin configuration, EBX&reg; doesn&#39;t work.</p></li><li><p id="bug_CP-16351"><strong>CP-16351</strong> An error occurs when performing actions on the grid edit for an association by an XPath predicate in a user service. </p><p>An error occurs with a <code>NullPointerException</code> when performing actions on grid edit for an association by an XPath predicate opened in a user service.</p><p>The error occurs when the user clicks on the &quot;Close&quot; or &quot;Save and Close&quot; buttons in the modal opened for grid edit.</p></li><li><p id="bug_CP-16379"><strong>CP-16379</strong> Backed-up user page does not display when implemented in a custom directory. </p><p>When a custom directory is implemented and a user has one or more backed-up users, the backed-up user selector page does not display after a successful login.</p></li><li><p id="bug_CP-16390"><strong>CP-16390</strong> Record navigation arrows are only displayed for the records on the first page. </p><p>Record navigation arrows are only displayed for the records on the first page. They should also be displayed for records on the other pages.</p></li><li><p id="bug_CP-16401"><strong>CP-16401</strong> The dataset selector does not open automatically. </p><p>When a dataspace is selected and more than one dataset can be selected, the dataset selector should open automatically.</p></li><li><p id="bug_CP-16447"><strong>CP-16447</strong> The <code>trackingInfo</code> value, when defined on a perspective action, is not available in the session. </p><p>The <code>trackingInfo</code> value, when defined on a perspective action, is not available in the session. The <code>getTrackingInfo()</code> method returns null. </p></li><li><p id="bug_CP-16471"><strong>CP-16471</strong> State of selected records on custom perspectives is kept when switching to the advanced perspective. </p><p>Access built-in services to select more than one record on a custom perspective, then switch to the advanced perspective, the state of selected records is kept.</p></li><li><p id="bug_CP-16524"><strong>CP-16524</strong> Blank space appears when using a web component inside a tabbed pane. </p><p>A custom form that uses a tabbed pane with a tab displaying a web component will have its layout broken.</p><p>It appears as though its display shifted to top, leaving a blank space at the bottom.</p></li><li><p id="bug_CP-16529"><strong>CP-16529</strong> A user service &#39;Close action&#39; does not work in a workflow user task. </p><p>The &#39;Close action&#39; of a user service does not work in a workflow user task: the result screen contains only the workflow &#39;Comment&#39; link and the &#39;Reject&#39; and &#39;Accept&#39; buttons.</p></li><li><p id="bug_CP-16581"><strong>CP-16581</strong> A concurrency conflict happens when a record is updated through a trigger in the parent session. </p><p>A concurrency conflict happens when a record is updated through a trigger in the parent session.</p><p>Such an issue happens if the update is done in a child dataspace and if the record in the parent session is sharing its revision with its parent dataspace.</p></li><li><p id="bug_CP-16587"><strong>CP-16587</strong> Too many calls to authentication methods since EBX&reg; 5.9.0. </p><p>Too many calls to authentication methods since EBX&reg; 5.9.0. Especially when authenticating through a custom directory using the method <code>authenticateFromHttpRequest</code>.</p></li><li><p id="bug_CP-16656"><strong>CP-16656</strong> When using the link <code>workflow.workItem.link.allocateAndStart</code> the user is not redirected to the work item when he does not have access to the advanced perspective. </p><p>When using the link <code>workflow.workItem.link.allocateAndStart</code> the user is not redirected to the work item when he does not have access to the advanced perspective. He is instead redirected to the start page of a custom perspective.</p></li><li><p id="bug_CP-16663"><strong>CP-16663</strong> The user is logged-out after completing a work item opened in a Web Component from a filtered inbox view. </p><p>The user is logged-out after completing a work item opened in a Web Component from a filtered inbox view. </p></li><li><p id="bug_CP-16681"><strong>CP-16681</strong> Impossible to compute the size in a tabular view in some cases. </p><p>When the size of a tabular view on a large table is already computed, if the size becomes unknown - e.g. because a search criterion has changed - then the &quot;Compute size&quot; menu item is not displayed.</p></li><li><p id="bug_CP-16694"><strong>CP-16694</strong> When using UserServiceNext in a UserServiceExtended&lt;DatasetEntitySelection&gt;, the user is not redirected. </p><p>When using <code>UserServiceNext</code> in a <code>UserServiceExtended&lt;DatasetEntitySelection&gt;</code>, the user is not redirected.</p></li><li><p id="bug_CP-16725"><strong>CP-16725</strong> Icons missing after upgrading </p><p>After upgrading to the new version, some icons do not display due to a caching issue.</p><p>Although it can be fixed by cleaning the browser cache, it is impractical.</p></li><li><p id="bug_CP-16733"><strong>CP-16733</strong> Faulty display when trying to display an association widget several times in a <code>UserService</code>. </p></li><li><p id="bug_CP-16855"><strong>CP-16855</strong> User Service, JS error occurs when there is a tabbed pane embedding other tabbed panes. </p><p>If a user service tries to specify a tabbed pane which embeds another tabbed pane, a JS error will occur on display.</p></li><li><p id="bug_CP-16921"><strong>CP-16921</strong> [All browsers] The &#39;Close&#39; button overlaps the &#39;Help&#39; button in a pop-up when in Compact mode. </p><p>In a random pop-up screen when publishing an erroneous model, the &#39;Close&#39; button overlaps the &#39;Help&#39; button.</p></li><li><p id="bug_CP-16925"><strong>CP-16925</strong> Unchecking a checkbox on a Boolean field sets the field value to null instead of false. </p><p>Unchecking a checkbox on a Boolean field sets the field value to null instead of false.</p></li><li><p id="bug_CP-16927"><strong>CP-16927</strong> [All browsers] The &#39;Close&#39; button overlaps with the &#39;Display the message box&#39; button in a pop-up when in Compact mode. </p><p>In a pop-up screen, when adding an invalid formula in the computation rule, the &#39;Close&#39; button overlaps with the &#39;Display the message box&#39; button.</p></li><li><p id="bug_CP-16932"><strong>CP-16932</strong> When duplicating a record through an association, its primary foreign keys that target other tables are in read-only. </p><p>When duplicating a record through an association, its primary foreign keys that target other tables are in read-only. They should be in read-write instead.</p></li><li><p id="bug_CP-16992"><strong>CP-16992</strong> Built-in service @hierarchyEditLinkRecord does not open the right record. </p><p>Built-in service @hierarchyEditLinkRecord always redirects the user to the record that has been opened first for a similar association element (last dimension of the association in the hierarchy tree). </p></li><li><p id="bug_CP-17000"><strong>CP-17000</strong> An error occurs when accessing history from an association. </p></li><li><p id="bug_CP-17033"><strong>CP-17033</strong> [IE][Edge] Unable to access a table content when the initial request contains a parameter whose value is very long. </p><p>The content of a table cannot be displayed if using the Microsoft Internet Explorer or Edge browsers when the initial request contains a HTTP parameter whose value is very long.</p><p>Nothing is displayed in the workspace pane.</p></li><li><p id="bug_CP-17059"><strong>CP-17059</strong> Under certain conditions a NPE can occur when selecting the dataspace tree. </p><p>When using the REST UI service on the dataspace version 1 for a tree operation, and under certain conditions, a NPE can occur when selecting the dataspace tree.</p></li><li><p id="bug_CP-17114"><strong>CP-17114</strong> [IE10] The background color of the &#39;Confirm password&#39; label displays incorrectly when creating a new user in the Users table under the Administration area. </p><p>On IE10, when creating a new user in the Users table of the Directory, under the Administration area, the background color of the &#39;Confirm password&#39; label is displayed incorrectly.</p></li><li><p id="bug_CP-17115"><strong>CP-17115</strong> Theme color for the selected item in the perspective navigation tree is not applied. </p><p>The theme color for the selected item in the perspective navigation tree is not applied.</p></li><li><p id="bug_CP-17256"><strong>CP-17256</strong> An error occurs when extracting the XPath expression of a perspective action. </p><p>An error occurs with a <code>NullPointerException</code> when extracting the XPath expression of a perspective action. It happens when the XPath parameter of the action is not specified.</p></li><li><p id="bug_CP-17270"><strong>CP-17270</strong> Workspaces in sub-sessions with a scope greater than the node replace the root workspace. </p><p>If a web component with a scope data, dataset or dataspace is displayed in a workspace, then only the workspace content of this web component is displayed.</p></li><li><p id="bug_CP-17313"><strong>CP-17313</strong> [IE10] Cannot edit the user password, the button does not react to clicks. </p><p>On IE10, when the password is not empty, the user cannot click on the &quot;Change password&quot; button, nothing happens - as if the button was disabled.</p></li><li><p id="bug_CP-17469"><strong>CP-17469</strong> EBX&reg; becomes inaccessible when a redirection restriction is specified in the exit policy. </p><p>The application becomes inaccessible when a redirection restriction is specified in the exit policy.</p><p>It occurs when the property <code>ebx.servlet.useLocalUrl</code> parameter of <code>ebx.properties</code> is set to &#39;true&#39;.</p></li><li><p id="bug_CP-17536"><strong>CP-17536</strong> An incorrect message is shown after running &quot;Refresh data model&quot; under &#39;Development tools&#39; in the &#39;Administration&#39; area. </p><p>When users run &#39;Refresh all data models&#39;/&#39;Refresh updated data models&#39;, an incorrect message is shown.</p></li><li><p id="bug_CP-17540"><strong>CP-17540</strong> The message under &#39;Display the message box&#39; is misplaced when an error occurs on the &#39;Web Component link generator&#39; preview. </p><p>When users open an erroneous preview in the &#39;Web component link generator&#39; screen, the message under &#39;Display message box&#39; is misplaced.</p></li><li><p id="bug_CP-17545"><strong>CP-17545</strong> Cross origin Javascript error. </p><p>When EBX&reg; GUI is displayed in an IFrame, when the Iframe container is not in the same domain than EBX&reg;, a cross origin Javascript error can occur.</p></li><li><p id="bug_CP-17561"><strong>CP-17561</strong> An error appears when saving a record on a user service launched from a record that belongs to another table. </p><p>An error appears when saving a record on a user service launched from a record that belongs to another table.</p><p>The &#39;An error occurred while displaying field. Please contact your administrator.&#39; message is displayed near a foreign key field when the user service page is closed.</p></li><li><p id="bug_CP-17622"><strong>CP-17622</strong> Embedded Web Components modify the parent EBX&reg; breadcrumb. </p><p>When a Web Component is embedded in another EBX&reg;, it modifies its breadcrumb once loaded.</p></li><li><p id="bug_CP-17631"><strong>CP-17631</strong> An error occurs when the authorization header contains special characters. </p><p>An error that prevents the user from logging in occurs when the authorization header contains special characters.</p></li><li><p id="bug_CP-17655"><strong>CP-17655</strong> HTTP parameters are lost while accessing a permalink through a custom login page. </p></li><li><p id="bug_CP-17656"><strong>CP-17656</strong> Permalinks generated through the GUI can be broken. </p><p>When a custom login page is declared, the permalink to access a record is broken.</p><p>[|http://localhost:8080/ebx/?instance=toto&amp;xpath=%2Froot%2Ftable&amp;branch=toto]</p></li><li><p id="bug_CP-17671"><strong>CP-17671</strong> Erroneous date in a form due to the application server and the browser being on different time zones. </p></li><li><p id="bug_CP-17765"><strong>CP-17765</strong> An error occurs in a user service whose form contains a submit button named &#39;submit&#39;. </p><p>An error is displayed when executing a user service which contains a form with a submit button called &#39;submit&#39;.</p></li><li><p id="bug_CP-17788"><strong>CP-17788</strong> Table header icons should have light color on a dark background. </p><p>The background color and font color of the table header can be customized in the administration.</p><p>However, when the font color is &quot;light&quot;, the icons of the table header do not change accordingly.</p><p>They remain grey, whereas they should be white.</p></li><li><p id="bug_CP-17813"><strong>CP-17813</strong> In a programmatic record label, &#39;UILabelRendererContext.isHTMLForbidden()&#39; never returns true. </p><p>In a programmatic record label, <code>UILabelRendererContext.isHTMLForbidden()</code>never returns true.</p></li><li><p id="bug_CP-17853"><strong>CP-17853</strong> The task name is erroneous after running service &quot;Hide in the workflow progress view&quot;. </p><p>When users run the service &quot;Hide in the workflow progress view&quot;, on the &quot;Workflow model steps&quot; screen, the task name is erroneous.</p></li><li><p id="bug_CP-17976"><strong>CP-17976</strong> Within a user service, cannot select or close the foreign key selector in combo box. </p><p>The foreign key selector of a combo box, when used in a user service, seems to be broken.</p></li><li><p id="bug_CP-18032"><strong>CP-18032</strong> When the page becomes obsolete, clean the list of widgets kept in the session&#39;s page history </p></li><li><p id="bug_CP-18166"><strong>CP-18166</strong> A technical error occurs if a relative &quot;login URL&quot; parameter is defined </p><p>A technical error occurs when accessing the default URL if the &quot;Login URL&quot; parameter is set to a relative path.</p></li><li><p id="bug_CP-18282"><strong>CP-18282</strong> It is not possible to enter a carriage return on a multi-line text field in grid-edit mode. </p></li><li><p id="bug_CP-18289"><strong>CP-18289</strong> In grid edit, it is impossible to select edited cell text with keyboard. </p><p>In a standard form, user can select a text of a focused textarea by using SHIFT+LEFT/UP/RIGHT/BOTTOM. This cannot be achieved in grid edit.</p></li><li><p id="bug_CP-18336"><strong>CP-18336</strong> Unwanted consecutive slash characters in EBX&reg; URLs. </p><p>Unwanted consecutives slash characters appear in EBX&reg; URLs, leading to URLs being blocked by security tools.</p></li><li><p id="bug_CP-18397"><strong>CP-18397</strong> Display subtabs on several lines in a custom form pane. </p><p>Display subtabs on several lines in a custom form pane when there are too many tabs to fit on a single line. It was the behaviour prior to EBX&reg; versions 5.9.</p></li><li><p id="bug_CP-18416"><strong>CP-18416</strong> UILabelRendererForHierarchyContext.setDefaultLinkEnabled does not work. </p><p>The method <code>UILabelRendererForHierarchyContext.setDefaultLinkEnabled(false)</code> does not disable the default preview link for hierarchy node.</p></li><li><p id="bug_CP-18446"><strong>CP-18446</strong> Fix the focus style of the message box button in DMA, WMA, administration. </p><p>The legacy message box button is not round like in new UI.</p><p>The cause seems to be an optional counter which is not used in new ui, and should be deleted.</p></li><li><p id="bug_CP-18448"><strong>CP-18448</strong> Fix collapse/expand button localization. </p><p>Collapse button is &quot;collapse&quot;.</p><p>Messages should start with a capital.</p></li><li><p id="bug_CP-18449"><strong>CP-18449</strong> Error when creating/duplicating a dataset with a very long name. </p><p>Creating or duplicating a dataset with a name longer than 64 characters causes the display of an undetailed error.</p><p>See screenshot enclosed.</p></li><li><p id="bug_CP-18465"><strong>CP-18465</strong> The space around error page is not in accordance with the selected density. </p></li><li><p id="bug_CP-18519"><strong>CP-18519</strong> An error occurs when changing the locale in a workitem opened from a UserServiceExtended. </p><p>An error occurs when changing the locale in a workitem opened from a UserServiceExtended using <code>UserServiceNext.nextWorkItem</code>.</p><p>The error only occurs if the service was launched in the context of a custom perspective.</p></li><li><p id="bug_CP-18521"><strong>CP-18521</strong> Application locking does not work when connecting to EBX&reg; with credentials as HTTP parameters. </p></li><li><p id="bug_CP-18643"><strong>CP-18643</strong> Password field always causes a message prompt when leaving creation form </p><p>This is the case even when the form is empty.</p></li><li><p id="bug_CP-18659"><strong>CP-18659</strong> Widgets on boolean not seen as updated when updated via a TableTrigger. </p><p>The radio button group widget is not seen as updated in the GUI, when updated via a TableTrigger.</p></li><li><p id="bug_CP-18766"><strong>CP-18766</strong> When creating a record from a foreign key, the predicate filter is ignored </p><p>When creating a record from a foreign key, the predicate filter is ignored.</p><p>The value of the nodes referenced by the predicate should be initialized</p></li><li><p id="bug_CP-18794"><strong>CP-18794</strong> Performance issue with combo boxes, due to Ajax prevalidation. </p><p>When Ajax prevalidation updates are executing on a form, it prevents every combo box of the form from displaying; this leads to performance issues.</p></li><li><p id="bug_CP-18826"><strong>CP-18826</strong> Fatal error on perspective navigation. </p><p>When moving a service from a dataset to another in the same dataspace via perspective actions, a fatal errors occurs.</p><p>[^StackTrace.txt]</p></li><li><p id="bug_CP-18913"><strong>CP-18913</strong> On completion of a workitem displayed in a root session web component, the user is redirected to the exit policy URL instead of the component redirection URL. </p><p>On completion of a workitem displayed in a root session web component, the user is redirected to the exit policy URL instead of the component redirection URL.</p><p>When no exit policy URL is defined, the user is correctly redirected to the component redirection URL.</p></li><li><p id="bug_CP-18935"><strong>CP-18935</strong> Improve the CSRF token mechanism for better protection against CSRF attacks </p></li><li><p id="bug_CP-19006"><strong>CP-19006</strong> A technical error occurs for a relative &#39;login URL&#39; parameter, if &#39;useLocalUrl&#39; is true </p><p>A technical error occurs when accessing the default URL if the &#39;Login URL&#39; parameter is set to a relative path, along with <code>ebx.servlet.useLocalUrl=true</code> in ebx.properties.</p></li><li><p id="bug_CP-19089"><strong>CP-19089</strong> [IE11] &#39;Access denied&#39; returned to a JavaScript function in a portal integration </p><p>&#39;Access denied&#39; returned to a JavaScript function when using IE 11 in a portal integration.</p></li><li><p id="bug_CP-19287"><strong>CP-19287</strong> [Firefox] An alert box can be erroneously displayed when leaving the page. </p><p>An alert box can be displayed when leaving the page, whereas no modification was made to the current form.</p><p>It occurs on Firefox and from a record opened from a foreign key preview button.</p></li><li><p id="bug_CP-19310"><strong>CP-19310</strong> A white screen is displayed when accessing a foreign key selector view. </p><p>A white screen is displayed, and a NullPointerException is thrown, when accessing a foreign key selector view.</p></li><li><p id="bug_CP-19332"><strong>CP-19332</strong> Error when using relative path in <code>addJS_*</code> methods in <code>WidgetWriter</code>. </p><p>Using relative path in the class <code>WidgetWriter</code> is not possible in this following methods:</p><p>* <code>addJS_getNodeValue</code></p><p>* <code>addJS_setNodeValue</code></p><p>* <code>addJS_setNodeMandatoryIndicator</code></p><p>These methods should be able to detect if the input path has already been normalized. If not, the path must be normalized.</p></li><li><p id="bug_CP-19354"><strong>CP-19354</strong> An error page is shown when application locking is enabled, and using SSO non-admin login. </p><p>An error occurs when application locking is enabled and a custom directory is used for SSO authentication by using <code>RemoteUser</code> or <code>UserPrincipal</code> in the method: <code>com.orchestranetworks.service.directory.Directory#authenticateUserFromHttpRequest</code>.</p></li><li><p id="bug_CP-19376"><strong>CP-19376</strong> Cannot set the &#39;mandatory&#39; indicator for field, when using a custom widget on a record form. </p><p>On a simple record form (without custom <code>UIForm</code>), if a custom widget is set to be displayed on a given field: in the widget, the method to set the &#39;mandatory&#39; indicator does not work.</p></li><li><p id="bug_CP-19460"><strong>CP-19460</strong> Browser does not spellcheck the content of HTML inputs </p><p>HTML inputs are used for long texts, and the user might want to let the browser spellcheck such input.</p><p>An option should be added in administration, to enable spellcheck on HTML inputs.</p></li><li><p id="bug_CP-19562"><strong>CP-19562</strong> In the dataspace administration tree, the font color of the selected item does not depend on the background. </p><p>In Administration &gt; Dataspaces &gt; Dataspaces, it is possible to open a dataspace to see its information.</p><p>The selected dataspace is then displayed in the navigation menu as selected, on a dark background with the default theme.</p><p>In this situation, the font color should be white, but is black there.</p></li><li><p id="bug_CP-19764"><strong>CP-19764</strong> [All browsers] A Javascript occurs when dragging the scroll bar on the &#39;Dataspace key&#39; field under the &#39;Data services&#39; area. </p><p>When users open the drop-down list of the &#39;Dataspace key&#39; field under the &#39;Data services&#39; area, then drag its scroll bar, a Javascript error occurs.</p></li><li><p id="bug_CP-19914"><strong>CP-19914</strong> Work items in state &quot;Started&quot; and &quot;Allocated&quot; are displayed when users only choose the &quot;Allocated&quot; service on the Work items table. </p></li><li><p id="bug_CP-19995"><strong>CP-19995</strong> NPE when creating a record through a table reference declared by a BeanDefinition </p></li><li><p id="bug_CP-20020"><strong>CP-20020</strong> Documentation pane defined in User Service bean element is not displayed in form rows list. </p><p>When form rows are not enclosed in  startTableFormRow/endTableFormRow methods, there are displayed in div.</p><p>Compared to table form rows, a regression on documentation pane appears on field defined by a bean element where it displays &quot;Object not found&quot;.</p></li><li><p id="bug_CP-20120"><strong>CP-20120</strong> The owner of a branch should see descendant hidden dataspaces. </p><p>In order to be able to close a dataspace, a branch owner should be able to access any of its children, even if permission has been set to</p><p>&#39;hidden&#39; in one of them.</p></li><li><p id="bug_CP-20168"><strong>CP-20168</strong> Textarea fields should not be limited to 1 million characters. </p></li><li><p id="bug_CP-20271"><strong>CP-20271</strong> Buttons on tabular view header do not show light icons when highlighted. </p><p>On the tabular view, the selection/sort button and &quot;?&quot; button show dark icons when they are highlighted (clicked). They should show light icons.</p></li><li><p id="bug_CP-20460"><strong>CP-20460</strong> When a custom login page is implemented, the application locking page redirects to the login page. </p><p>When custom login page is implemented, application locking page is redirecting to standard login page.</p><p>The expected behavior is that the application locking page should redirect to the custom login page.</p></li><li><p id="bug_CP-20559"><strong>CP-20559</strong> Dataspace Selector pane border color should be the same as the input. </p></li></ul>
<h3 id="bug600-UsersPermissions">
Users &amp; Permissions</h3>
<ul>
<li><p id="bug_CP-16472"><strong>CP-16472</strong> Job title updated for capitalization in the default directory. </p><p>There is no need to update the job title for capitalization in the directory. It leads to unwanted behaviors, ex: VP, Vp.</p></li><li><p id="bug_CP-16719"><strong>CP-16719</strong> Performance issue while computing the list of services accessible in a toolbar when the add-ons are activated. </p></li><li><p id="bug_CP-16818"><strong>CP-16818</strong> Performance issue while computing the list of services accessible in a toolbar when the add-ons are activated. </p></li><li><p id="bug_CP-16850"><strong>CP-16850</strong> Tracking information is not valued in the <code>Access Rule</code> execution. </p><p>The tracking information declared in a workflow user task definition is null while building the navigation pane.</p></li><li><p id="bug_CP-17339"><strong>CP-17339</strong> The <code>ActivationContext.setDisplayForLocations()</code> behavior needs to be clarified. </p><p>When calling the <code>ActivationContext.setDisplayForLocations()</code> with the <code>ActionDisplaySpec.HIDDEN_IN_DEFAULT_MENU</code> parameter without specifying any toolbar location, the user service is still displayed in the default menu.</p><p>As it could be expected that such a call could hide the service in that default menu, the current behavior must be clarified in order to avoid any misunderstanding.</p></li><li><p id="bug_CP-18400"><strong>CP-18400</strong> The services menu is displayed incorrectly for a user with hidden permission in a dataset. </p><p>When admin users set hidden permission for a non-admin user in a dataset, this non-admin user cannot view the dataset&#39;s information: the root node is not shown and the &#39;Delete&#39; and &#39;Duplicate&#39; services are missing.</p></li><li><p id="bug_CP-19240"><strong>CP-19240</strong> The documentation of <code>UserServicePermission.getDisabled()</code> could lead to confusion. </p><p>The documentation of <code>UserServicePermission.getDisabled()</code> states that the &quot;user service is neither displayed to the user nor can be executed by the user in the current session context&quot;.</p><p>This may lead to confusion as <code>ServicePermissionRule.getpermission()</code> offers the ability to decide if the user service is disabled for display or for execution.</p></li><li><p id="bug_CP-19329"><strong>CP-19329</strong> Permissions for table view user services are not evaluated when displaying history. </p><p>Programmatic permissions for table view user services are not evaluated when displaying history.</p></li></ul>
<div id="ebx_breadcrumbBottom">
<span class="ebx_breadcrumbLabel"><a href="./index.html">Release Notes</a></span></div>
</div>
<p id="ebx_footer"><b>TIBCO EBX® Version 6.0.1. </b>Copyright &copy; <a href="https://www.tibco.com" target="_blank" style="text-decoration: none;">TIBCO&nbsp;Software&nbsp;Inc.</a> 2001-2021. All rights reserved.<br></br>All third party product and company names and third party marks mentioned in this document are the property of their respective owners and are mentioned for identification.</p></div>
<script type="text/javaScript" src="../resources/yui/yahoo/yahoo-min.js">
</script>
<script type="text/javaScript" src="../resources/yui/event/event-min.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_doc_utils.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_simplePage.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shCore.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushBash.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushCss.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushDiff.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushJava.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushJScript.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushPlain.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushProperties.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushSql.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushXml.js">
</script>
<script type="text/javaScript">
SyntaxHighlighter.all();</script>
</body>
</html>
