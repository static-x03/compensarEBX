<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>
TIBCO EBX® Documentation - 5.9.3</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type"></meta><meta content="Copyright TIBCO Software Inc. 2001-2021. All rights reserved." name="copyright"></meta><meta content="index_releasenotes" name="doc_id"></meta><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_common.css"></link><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_docPage.css"></link><link rel="stylesheet" type="text/css" href="../resources/syntaxHighlighter/styles/shCoreEclipse.css"></link><link rel="icon" type="image/x-icon" href="../resources/icons/brand.ico"></link></head>
<body class="ebx_simplePage">
<div id="ebx_centerer">
<div id="ebx_main">
<div id="printHeader">
<div class="productName">
TIBCO EBX®</div>
<div class="chapterName">
TIBCO EBX® Documentation</div>
</div>
<div id="ebx_breadcrumbTop">
<a id="ebx_navigationModeButton" class="ebx_clickableIconLink" href="../index.html?page=releasenotes/5.9.html" title="Display this page with header and navigation panes" target="_top">Navigation mode</a><span class="ebx_breadcrumbLabel"><a href="./index.html">Release Notes</a></span></div>
<h1>
5.9.3</h1>
<div id="toc">
<ul class="toc1">
<li class="toc1"><a href="#id1">5.9 service packs</a></li><li class="toc1"><a href="#Overview">Overview of 5.9.0</a></li><li class="toc1"><a href="#UserExperience">User experience</a><ul class="toc2">
<li class="toc2"><a href="#NewSkin">New Skin</a></li><li class="toc2"><a href="#id3s2">Find in hierarchy</a></li><li class="toc2"><a href="#associations">Using filters defined in associations</a></li></ul>
</li><li class="toc1"><a href="#userInterfaceConfiguration">User interface advanced customization</a><ul class="toc2">
<li class="toc2"><a href="#id4s1">User services and record forms</a></li><li class="toc2"><a href="#id4s2">Enriched context for record creation</a></li><li class="toc2"><a href="#toolbars_actions">New properties for toolbar actions</a></li><li class="toc2"><a href="#layout">Layout capabilities</a></li><li class="toc2"><a href="#perspectives">Perspectives configuration</a></li><li class="toc2"><a href="#perspectiveSelection">Selecting a perspective and a perspective action</a></li><li class="toc2"><a href="#security_redirection">Security on exit redirection</a></li><li class="toc2"><a href="#servletURLParameters">New parameters for servlet URL</a></li></ul>
</li><li class="toc1"><a href="#permission">Permissions</a><ul class="toc2">
<li class="toc2"><a href="#accessRuleForCreate">New access rules applied during record creation</a></li><li class="toc2"><a href="#id5s2">Permission evaluation in the perspective menu</a></li></ul>
</li><li class="toc1"><a href="#workflow">Workflow</a><ul class="toc2">
<li class="toc2"><a href="#workflowDiagram">Workflow diagrams</a></li><li class="toc2"><a href="#inboxCounter">Workflow inbox counter</a></li><li class="toc2"><a href="#workflowComments">Comment history on a process instance</a></li><li class="toc2"><a href="#workflowMisc">Workflow miscellaneous</a></li></ul>
</li><li class="toc1"><a href="#dataValidation">Data validation</a><ul class="toc2">
<li class="toc2"><a href="#id7s1">Validation rules on null values</a></li><li class="toc2"><a href="#id7s2">Non-blocking validation rules</a></li><li class="toc2"><a href="#id7s3">Validation settings</a></li><li class="toc2"><a href="#id7s4">Disabling validation for mass update</a></li><li class="toc2"><a href="#id7s5">Resetting validation reports</a></li><li class="toc2"><a href="#id7s6">Dynamic validation messages on foreign key filters</a></li><li class="toc2"><a href="#id7s7">Validation messages threshold</a></li></ul>
</li><li class="toc1"><a href="#dataServices">Data services</a><ul class="toc2">
<li class="toc2"><a href="#id8s1">REST Toolkit</a></li><li class="toc2"><a href="#id8s2">Built-in RESTful services</a></li></ul>
</li><li class="toc1"><a href="#performance">Performance</a><ul class="toc2">
<li class="toc2"><a href="#id9s1">Data services</a></li><li class="toc2"><a href="#id9s2">Permissions</a></li></ul>
</li><li class="toc1"><a href="#dataModeling">Data modeling</a><ul class="toc2">
<li class="toc2"><a href="#datamodeling">Primary key evolutions</a></li><li class="toc2"><a href="#dataModelJavaSourcesLocations">Location of Java sources</a></li><li class="toc2"><a href="#dataModelIntrospectionAPI">Introspection API</a></li></ul>
</li><li class="toc1"><a href="#persistence">Persistence and databases</a><ul class="toc2">
<li class="toc2"><a href="#hana_support">New supported database</a></li><li class="toc2"><a href="#database_to_database_migration">Inter-database migration</a></li><li class="toc2"><a href="#historyAnonymization">History anonymization</a></li><li class="toc2"><a href="#_31043">Renaming a column in the database</a></li></ul>
</li><li class="toc1"><a href="#misc">Miscellaneous</a><ul class="toc2">
<li class="toc2"><a href="#javaAPI">Other useful Java API</a></li><li class="toc2"><a href="#embeddedLibraries">Embedded third-party libraries</a></li></ul>
</li><li class="toc1"><a href="#versionUpgrade">Version upgrade</a><ul class="toc2">
<li class="toc2"><a href="#supportedEnvironmentsChanges">Changes on supported environments</a></li><li class="toc2"><a href="#backwardCompatibility">Backward compatibility</a></li><li class="toc2"><a href="#howTo">How to upgrade an installed environment</a></li></ul>
</li><li class="toc1"><a href="#bugfix593">Bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug593-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug593-Datamodeling">Data modeling</a></li><li class="toc2"><a href="#bug593-Dataservices">Data services</a></li><li class="toc2"><a href="#bug593-Dataviews">Data views</a></li><li class="toc2"><a href="#bug593-Dataworkflows">Data workflows</a></li><li class="toc2"><a href="#bug593-ImportExport">Import / Export</a></li><li class="toc2"><a href="#bug593-Userinterface">User interface</a></li><li class="toc2"><a href="#bug593-UsersPermissions">Users &amp; Permissions</a></li></ul>
</li><li class="toc1"><a href="#bugfix590FixB">5.9.0 fix B bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug590FixB-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug590FixB-Datamodeling">Data modeling</a></li><li class="toc2"><a href="#bug590FixB-Datavalidation">Data validation</a></li><li class="toc2"><a href="#bug590FixB-Dataviews">Data views</a></li><li class="toc2"><a href="#bug590FixB-Dataworkflows">Data workflows</a></li><li class="toc2"><a href="#bug590FixB-DataspacesHistory">Dataspaces &amp; History</a></li><li class="toc2"><a href="#bug590FixB-DistributedDataDelivery">Distributed Data Delivery (D3)</a></li><li class="toc2"><a href="#bug590FixB-JavaEEintegration">Java EE integration</a></li><li class="toc2"><a href="#bug590FixB-Userinterface">User interface</a></li><li class="toc2"><a href="#bug590FixB-UsersPermissions">Users &amp; Permissions</a></li></ul>
</li><li class="toc1"><a href="#bugfix590FixA">5.9.0 fix A bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug590FixA-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug590FixA-Datamodeling">Data modeling</a></li><li class="toc2"><a href="#bug590FixA-Datavalidation">Data validation</a></li><li class="toc2"><a href="#bug590FixA-Dataviews">Data views</a></li><li class="toc2"><a href="#bug590FixA-Dataworkflows">Data workflows</a></li><li class="toc2"><a href="#bug590FixA-DataspacesHistory">Dataspaces &amp; History</a></li><li class="toc2"><a href="#bug590FixA-Userinterface">User interface</a></li></ul>
</li><li class="toc1"><a href="#bugfix">Bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug-Datamodeling">Data modeling</a></li><li class="toc2"><a href="#bug-Dataservices">Data services</a></li><li class="toc2"><a href="#bug-Datavalidation">Data validation</a></li><li class="toc2"><a href="#bug-Dataviews">Data views</a></li><li class="toc2"><a href="#bug-Dataworkflows">Data workflows</a></li><li class="toc2"><a href="#bug-DataspacesHistory">Dataspaces &amp; History</a></li><li class="toc2"><a href="#bug-Documentation">Documentation</a></li><li class="toc2"><a href="#bug-ImportExport">Import / Export</a></li><li class="toc2"><a href="#bug-Miscellaneous">Miscellaneous</a></li><li class="toc2"><a href="#bug-Userinterface">User interface</a></li><li class="toc2"><a href="#bug-UsersPermissions">Users &amp; Permissions</a></li></ul>
</li></ul>
</div>
<h2 id="id1">
5.9 service packs</h2>
<p><em><strong>5.9.3</strong> released on March 25, 2019 for: </em></p><ul>
<li><p><strong>New branding: </strong>The EBX&reg; logo has been updated so as to reflect the new product name: TIBCO EBX&reg;. This renaming also impacts the product documentation and the Javadoc, in which you will now find the following names: TIBCO EBX&reg; and EBX&reg;. The logos have also been updated in all the documentation. As far as the user interface is concerned, a new shade of blue has been implemented and replaces the former, lighter, EBX&reg; blue.</p></li><li><p><strong>New versioning:</strong> The TIBCO Software Inc. Release Version Schema Policy is now enforced and fully applied. This Policy is composed as follows: &lt;major&gt;.&lt;minor&gt;.&lt;servicePack&gt;. What used to be called Fix A, B, C etc. will now be an increment of the latest Service Pack number. The concept of &quot;Fix&quot; will no longer exist. </p></li><li><p><strong>Backward compatibility:</strong> the &#39;Welcome message&#39; and &#39;Window name&#39; fields no longer support HTML. A text containing HTML tags is now escaped. In order to display an HTML entity, an alternative is to use the unicode number corresponding to the entity. </p></li><li><p><a href="#bugfix593"> Bug fixes</a>. </p></li></ul>
<p><em><strong>5.9.0 fix B</strong> released on January 21, 2019 for: </em></p><ul>
<li><p>Copy-paste in Grid edit: the former limitation (detected in version 5.9.0) has been removed, it is now possible to paste in foreign keys referring to a primary key which is not a simple string field. </p></li><li><p><a href="#perspectiveSelection">Selecting a perspective and a perspective action</a>. </p></li><li><p><a href="#servletURLParameters">New parameters for servlet URL</a>: New parameters for UI servlet URL in ebx.properties. </p></li><li><p>The issue on Oracle WebLogic server version <code>12.2.1.3</code>, detected since version 5.9.0, for the TIBCO EBX&reg; redeployment, is fixed. See <a href="../deployment_examples/weblogic14c.html">Installation note for WebLogic 14c</a> for more information. </p></li><li><p>The issue regarding the HTTP Authorization header override on Microsoft Internet Explorer or Edge Web browsers, detected since version 5.9.0, is fixed. See <a href="#bug_CP-16355">CP-16355</a> and <a href="../installation/properties.html#authorizationHeaderPolicy">HTTP Authorization header policy</a> for more information. </p></li><li><p><a href="#bugfix590FixB">Bug fixes</a>. </p></li></ul>
<p><em><strong>5.9.0 fix A</strong> released on December 10, 2018 for: </em></p><ul>
<li><p><a href="#bugfix590FixA">Bug fixes</a>. </p></li><li><p>This fix includes minor layout improvements that will ensure a smoother display of the user interface. </p></li><li><p>Similarly to the <a target="_blank" href="../Java_API/com/orchestranetworks/ui/JavaScriptCatalog.html#ebx_setWorkspaceTitle-java.lang.String-"><code>JavaScriptCatalog.ebx_setWorkspaceTitle</code></a> that was recently added in version 5.9.0, this fix includes the method <a target="_blank" href="../Java_API/com/orchestranetworks/ui/JavaScriptCatalog.html#ebx_getWorkspaceTitle--"><code>JavaScriptCatalog.ebx_getWorkspaceTitle</code></a> that allows retrieving the title of the current workspace. For more information, please refer to the corresponding Javadoc.</p></li></ul>
<p><em><strong>5.9.0</strong> released on October 26, 2018. </em></p><h2 id="Overview">
Overview of 5.9.0</h2>
<p>Some of the most notable features offered by this release are:</p><ul>
<li><p><strong>New Skin</strong> renovates the graphical aspect of the user interface.</p></li><li><p>The <strong>REST Toolkit</strong> is a Java API facilitating the development of custom RESTful services.</p></li><li><p>The <strong><a href="#workflowDiagram">workflow diagram</a></strong> now provides a BPMN-like representation of workflow models.</p></li><li><p>A new database is supported, <strong>SAP HANA</strong>, and an <strong>inter-database migration</strong> service is available.</p></li></ul>
<p>Concerning supported environments, this release brings some notable changes that are documented in the section <a href="#supportedEnvironmentsChanges">Changes on supported environments</a>.</p><div class="ebx_attention">
<h5>
Attention</h5>
<p><p><strong>Before proceeding with the upgrade of an existing environment, ensure that you have carefully read the <a href="#versionUpgrade">Version upgrade</a> section.</strong></p></p></div>
<h2 id="UserExperience">
User experience</h2>
<h3 id="NewSkin">
New Skin</h3>
<p><img alt="/5.9.0-NewSkin.png" src="../resources/images/releasenotes/5.9.0-NewSkin.png"></img></p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Modal pop-up window (1)</p></td><td class="ebx_definitionListDefinition"><p>Modal pop-up windows have been removed from most EBX&reg; screens. Instead, the requested content overlaps the workspace and a breadcrumb allows the user to return to the previous content.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Translucent bottom bar (2)</p></td><td class="ebx_definitionListDefinition"><p>The new bottom bar displayed for forms is now translucent. This allows the end-user to become more aware that the page can be scrolled.</p><p>More technical details <a href="#layout">below</a>.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Hierarchical views</p></td><td class="ebx_definitionListDefinition"><p>Action buttons of hierarchy nodes are now displayed to the left of each node (no longer to the right).</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Tabs with home icon</p></td><td class="ebx_definitionListDefinition"><p> On a record form, when tabs are enabled in the <a href="../user_datamodel/userdatamodel_elementproperties.html#defaultView">data model definition</a> of the table, the main tab used to be displayed with a home icon. This icon is no longer displayed (the &#39;Main tab label&#39; is still displayed; by default, this label is &#39;Main&#39;). </p><p> As a consequence, the existing Java methods <code>setHomeIconDisplayed</code> have been marked as deprecated, see <a href="#backwardCompatibility_setHomeIconDisplayed">Backward compatibility</a> for more information. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Dataset tree structure</p></td><td class="ebx_definitionListDefinition"><p> The displayed record is still displayed below the current table but is no longer displayed with a selected style. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm" id="filterPane"><p>Filter icon and filter pane</p></td><td class="ebx_definitionListDefinition"><p> The magnifying glass icon for filtering has been replaced with a funnel icon <img alt="/5.9.0-Funnel.png" src="../resources/images/releasenotes/5.9.0-Funnel.png"></img>. Actions that remove all filters or quickly apply a given filter have been moved to the filter pane. </p></td></tr>
</table>
<h3 id="id3s2">
Find in hierarchy</h3>
<p>A new search pane &#39;Find in hierarchy&#39; is now available for hierarchical views. </p><p>As opposed to filtering, it allows the user to position the members whose label matches the search criteria while keeping the hierarchy displayed. The matched member is highlighted and opened, i.e. its first-level children are displayed. Two buttons (next and previous) are provided to find the following or the previous member matching the search criteria.</p><p>This implementation is explicitly announced as a beta version since it contains some limitations, particularly:</p><ul>
<li><p>it is only available for pure recursive hierarchical views,</p></li><li><p>the search is only applied to the labels of the members of the recursive dimensions.</p></li></ul>
<h3 id="associations">
Using filters defined in associations</h3>
<p>When creating an associated record directly from an association, the filters defined in the data model are now evaluated. Applied filters include the one defined by the association and those defined by the foreign key(s) involved in the association. As a consequence, it is now forbidden to create an associated record that does not comply with these filters.</p><p>The feature includes the possibility to customize the message displayed to the end-user when attempting to create an associated record that does not comply with the defined filters. If the filter is defined by the association, a new message property is available, see <a href="../models/tables.html#association_filter_checkOnAssociatedRecordCreation">association filter</a> for more information; for a filter defined on a foreign key, the existing validation message is reused.</p><p>These filters are also evaluated when displaying the list of records that can be associated directly from an association (however, in the case of an association over a link table, the filter defined by the foreign key to the source table is ignored). </p><h2 id="userInterfaceConfiguration">
User interface advanced customization</h2>
<p>This release offers new capabilities to customize the user interface through additional configuration or Java programming.</p><h3 id="id4s1">
User services and record forms</h3>
<p>It is now possible to use custom user services to replace default model-driven record forms. Regarding <a target="_blank" href="../Java_API/com/orchestranetworks/ui/form/UIForm.html"><code>UIForm</code></a>, it allows implementing more advanced user interfaces.</p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/userservice/schema/UserServiceRecordFormFactory.html"><code>UserServiceRecordFormFactory</code></a> for more information. </p><h3 id="id4s2">
Enriched context for record creation</h3>
<p>When a record is being created from a foreign key field or from an association, the Java API now provides information about the source record. This new information is available in table triggers and in the new <a href="#accessRuleForCreate">access rule for create</a>. </p><p>For more information, see <a target="_blank" href="../Java_API/com/orchestranetworks/instance/NewRecordContext.html"><code>NewRecordContext</code></a> and the two interfaces extending it.</p><h3 id="toolbars_actions">
New properties for toolbar actions</h3>
<p>It is now possible to define if the service is to be launched in the current context or in a web component. In the latter case, it is possible to specify values for the declared parameters of the service as well as the characteristics of the modal containing the service.</p><p>These options are available both in the Data Modeling Assistant and via the Java API.</p><div class="ebx_seealso">
<h5>
See also</h5>
<ul>
<li><a target="_blank" href="../Java_API/com/orchestranetworks/ui/action/WebComponentAction.html#setDisplayMode-com.orchestranetworks.ui.action.DisplayMode-"><code>WebComponentAction.setDisplayMode</code></a></li><li><a target="_blank" href="../Java_API/com/orchestranetworks/ui/UIHttpManagerComponent.html#setAdditionalParameter-java.lang.String-java.lang.String-"><code>UIHttpManagerComponent.setAdditionalParameter</code></a></li></ul>
</div>
<div class="ebx_note">
<h5>
Note</h5>
<p>In order to be available as a Web Component in a toolbar action, a service must be declared as such. See <a target="_blank" href="../Java_API/com/orchestranetworks/userservice/declaration/WebComponentDeclarationContext.html#setAvailableAsToolbarAction-boolean-"><code>WebComponentDeclarationContext.setAvailableAsToolbarAction</code></a>.</p></div>
<h3 id="layout">
Layout capabilities</h3>
<p>With New Skin, an inner white border is always displayed on all workspaces. For developers who exceptionally want to have full width and height components (as the grid edit), a new method <code>isPaddingEnabled()</code> has been added to <a target="_blank" href="../Java_API/com/orchestranetworks/ui/form/UIFormPane.html"><code>UIFormPane</code></a>, <a target="_blank" href="../Java_API/com/orchestranetworks/userservice/UserServicePane.html"><code>UserServicePane</code></a> and <a target="_blank" href="../Java_API/com/orchestranetworks/userservice/UserServiceRawPane.html"><code>UserServiceRawPane</code></a>. </p><p>Along with full height, the bottom bar is now translucent; the JavaScript function obtained through <a target="_blank" href="../Java_API/com/orchestranetworks/ui/UIJavaScriptWriter.html#addJS_addResizeWorkspaceListener-java.lang.String-"><code>UIJavaScriptWriter.addJS_addResizeWorkspaceListener</code></a> gives a second parameter to the JavaScript listener in order to not take into account the bottom bar height. Developers can now size their components to display to the back of the bottom bar.</p><h3 id="perspectives">
Perspectives configuration</h3>
<p>Perspective activation and menu items include a new &quot;allowed device&quot; property.</p><p>This property allows to specify devices that can display the perspective or menu item. Currently only two devices are supported: &quot;EBX&reg; Web Application&quot; and &quot;EBX&reg; GO&quot;.</p><p>For more information, see <a href="../engine/admin_frontend.html#perspectiveCreation">Perspective creation</a> and <a href="../engine/admin_frontend.html#menuItemTypes">Child perspective menu</a>.</p><div class="ebx_note">
<h5>
Note</h5>
<p>This feature will be supported in the next version of EBX&reg; GO that is expected in a few months.</p></div>
<h3 id="perspectiveSelection">
Selecting a perspective and a perspective action</h3>
<p>A new attribute has been added to perspective actions: the action unique name. This new optional attribute is used by new Java API to select a perspective action. Also, methods to select a perspective have been added. </p><p>Web component API: <a target="_blank" href="../Java_API/com/orchestranetworks/ui/UIHttpManagerComponent.html#selectPerspective-java.lang.String-"><code>UIHttpManagerComponent.selectPerspective</code></a> and <a target="_blank" href="../Java_API/com/orchestranetworks/ui/UIHttpManagerComponent.html#selectPerspectiveAction-java.lang.String-java.lang.String-"><code>UIHttpManagerComponent.selectPerspectiveAction</code></a>. </p><p>UIResourceLocator: <a target="_blank" href="../Java_API/com/orchestranetworks/ui/UIResourceLocator.html#getURLForPerspectiveSelection-java.lang.String-"><code>UIResourceLocator.getURLForPerspectiveSelection</code></a> and <a target="_blank" href="../Java_API/com/orchestranetworks/ui/UIResourceLocator.html#getURLForPerspectiveSelection-java.lang.String-java.lang.String-"><code>UIResourceLocator.getURLForPerspectiveSelection</code></a>. </p><p>UIJavaScriptWriter: <a target="_blank" href="../Java_API/com/orchestranetworks/ui/UIJavaScriptWriter.html#addJS_switchToPerspectiveAction-java.lang.String-java.lang.String-"><code>UIJavaScriptWriter.addJS_switchToPerspectiveAction</code></a>. </p><h3 id="security_redirection">
Security on exit redirection</h3>
<p>It is now possible to restrict the URL used to redirect the end-user at the end of a Web Component session (as a reminder, this redirection can be specified either by means of the <a href="../references/manager_component_ref.html">Web Component</a> redirect parameter, or through the &#39;<a href="../engine/admin_frontend.html#exitPolicy">Exit policy</a>&#39; in the user interface configuration). In the &#39;Administration&#39; section, by selecting &#39;User interface configuration &gt; Advanced perspective&#39;, then the &#39;Exit policy&#39; form, it is possible to specify the list of authorized domains and whether HTTPS is mandatory for each domain.</p><p>For more information, see <a href="../engine/admin_frontend.html#exitPolicy">Exit policy</a>.</p><h3 id="servletURLParameters">
New parameters for servlet URL</h3>
<p>Two new parameters (<code>ebx.servlet.http.ui.path</code> and <code>ebx.servlet.https.ui.path</code>) are added to ebx.properties in order to allow the customization of the UI servlet path in the URL. </p><p>If they are not specified, they default to &quot;ebx-ui/&quot;. See <a href="../installation/properties.html#urls">URLs computing</a> for more information. </p><h2 id="permission">
Permissions</h2>
<h3 id="accessRuleForCreate">
New access rules applied during record creation</h3>
<p>In order to bypass the existing <a target="_blank" href="../Java_API/com/orchestranetworks/service/AccessRule.html"><code>AccessRule</code></a> limitation which prevents dissociating a record creation from a column display, a new kind of access rule has been added. Once set on a record node, such a rule will be evaluated each time a record is created, in addition to any other <code>AccessRule</code> that might also be set on this node. </p><p>For more information, see <a target="_blank" href="../Java_API/com/orchestranetworks/service/AccessRuleForCreate.html"><code>AccessRuleForCreate</code></a>.</p><h3 id="id5s2">
Permission evaluation in the perspective menu</h3>
<p>When displaying the perspective menu, permissions are now evaluated before adding any action of the &quot;service&quot; type. As a consequence, services that are not allowed for the user will no longer be displayed.</p><p> Also, to identify this new context in the service permission rules, the new toolbar location <a target="_blank" href="../Java_API/com/orchestranetworks/ui/toolbar/ToolbarLocation.html#PERSPECTIVE_MENU"><code>ToolbarLocation.PERSPECTIVE_MENU</code></a> has been added. </p><h2 id="workflow">
Workflow</h2>
<h3 id="workflowDiagram">
Workflow diagrams</h3>
<p><img alt="/5.9.0-WorkflowExample.png" src="../resources/images/releasenotes/5.9.0-WorkflowExample.png"></img></p><p>In order to help modelers have a clear view of the workflow model they are designing, a BPMN-like workflow diagram is now available.</p><p>From the hierarchical view toolbar, it can be accessed by clicking on the button with the following icon: <img alt="/5.9.0-WorkflowDiagram.png" src="../resources/images/releasenotes/5.9.0-WorkflowDiagram.png"></img>.</p><p>Some features of this view:</p><ul>
<li><p>nodes and links are movable, the layout can be customized and saved;</p></li><li><p>a grid can be displayed, which is helpful to align nodes and links;</p></li><li><p>it is also possible to zoom in/out, revert to a previously saved state, and export to PNG/SVG format.</p></li></ul>
<p>This view is a service with limited edition abilities: it is only possible to modify existing steps, and links still need to be modified through the hierarchical view.</p><p>See <a href="../user_workflowmodel/userworkflowmodel_createimplement.html#workflowdiagram">Editing the workflow diagram</a> for more information. </p><h3 id="inboxCounter">
Workflow inbox counter</h3>
<p>The workflow inbox counter is now refreshed asynchronously, even when no action has been launched. Two parameters have been added to the configuration of workflows under the section &#39;Temporal tasks&#39; to configure this behavior.</p><p> See <a href="../engine/admin_workflow.html#configurationInboxCounter">Workflow inbox counter configuration</a> for more information. </p><h3 id="workflowComments">
Comment history on a process instance</h3>
<p>Since it is more intuitive to have the possibility to read previous comments before leaving one, it is now possible to see all the comments of a workflow directly from the user task.</p><p><img alt="/5.9.0-WorkflowComments.png" src="../resources/images/releasenotes/5.9.0-WorkflowComments.png"></img></p><h3 id="workflowMisc">
Workflow miscellaneous</h3>
<table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Clear history of selected workflows</p></td><td class="ebx_definitionListDefinition"><p> In the workflow history table view, one can now remove the history of workflows that have been manually selected. To complete the cleaning, a dataspace purge will have to be executed.</p><p>See <a href="#backwardCompatibility_workflowHistoryPurge">Backward compatibility</a> for more information regarding the new procedure for deleting history data. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Add a new scheduled task</p></td><td class="ebx_definitionListDefinition"><p> The new <code>SchedulerMarkDataspaceHistoryForPurge</code> task marks the history of a given dataspace for purge, if it is older than the specified number of days. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Duplicate a step</p></td><td class="ebx_definitionListDefinition"><p>In the workflow modeling, one can now duplicate a step that was previously defined. To facilitate reuse, the new step is created without parents. It can then be relinked to another existing step. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>New built-in script to remove a record or a list of records</p></td><td class="ebx_definitionListDefinition"><p>It is now possible to use a built-in script task to delete records, provided that the following properties are specified: the dataspace, dataset and XPath which identify the record(s).</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>New Java API to retrieve process instances from a publication name</p></td><td class="ebx_definitionListDefinition"><p>When a workflow model is updated and republished with the same publication name, it was not possible to retrieve the workflows that were launched beforehand (the publication name is reset to be reused). To retrieve workflows from their launching publication name (the publication name with which they are launched), including the ones whose publication is no longer active, two new methods have been added to the Java API: <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/WorkflowEngine.html#getProcessInstanceKeys-java.lang.String-"><code>WorkflowEngine.getProcessInstanceKeys</code></a> and <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/WorkflowEngine.html#getProcessInstanceKeysFromHistory-java.lang.String-"><code>WorkflowEngine.getProcessInstanceKeysFromHistory</code></a>.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>New java API to retrieve the original publication name from a published process</p></td><td class="ebx_definitionListDefinition"><p>A new method has been added in order to retrieve the original publication name: <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/PublishedProcess.html#getOriginalPublicationName--"><code>PublishedProcess.getOriginalPublicationName</code></a></p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>New columns added to facilitate sorting and filtering on publication names</p></td><td class="ebx_definitionListDefinition"><p> The publication structure has changed and the original publication name is now stored in the &#39;Publication table&#39;. Two new columns have been added for both <code>WorkItems</code> and <code>Process</code> administration tables and also all the tables in <code>Data workflows</code> section:</p><ul>
<li><p>Launching publication name</p></li><li><p>Publication date</p></li></ul>
<p>By default, they are hidden on the different views of the Workflow section (Inbox/Active workflows/Work items/Completed workflows) but these columns are available for custom views.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Improved publication labels</p></td><td class="ebx_definitionListDefinition"><p> The initial publication name is now stored and can be displayed even if the publication has been disabled or unpublished. </p><ul>
<li><p>if the <strong>publication is available</strong> :&nbsp;<code>PUBLICATION_LABEL + &quot;[&quot; + PUBLICATION_NAME + &quot;]&quot;</code> or <code>PUBLICATION_NAME</code> if label is not defined</p></li><li><p>if the <strong>publication is unavailable</strong> :&nbsp;<code>PUBLICATION_LABEL + &quot;[&quot; + PUBLICATION_NAME + &quot;:&quot; + PUBLICATION_DATE + &quot;]&quot; </code> or <code>PUBLICATION_NAME + &quot;:&quot; + PUBLICATION_DATE</code> if label is not defined</p></li></ul>
</td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Improved process labels</p></td><td class="ebx_definitionListDefinition"><p> Legacy display of process labels also contains the publication name: the publication name is saved and thus displayed all the time. The template is as follows: </p><ul>
<li><p>if the <strong>publication is available</strong> :&nbsp;<code>PUBLICATION_NAME + &quot;#&quot; + PROCESS_ID </code></p></li><li><p>if the <strong>publication is unavailable</strong> :&nbsp;<code>PUBLICATION_NAME + &quot;#&quot; + PROCESS_ID + &quot;:&quot; + PUBLICATION_DATE </code></p></li></ul>
</td></tr>
</table>
<h2 id="dataValidation">
Data validation</h2>
<h3 id="id7s1">
Validation rules on null values</h3>
<p>It is now possible to define constraints on null values using the validation rule editor in the Data Model Assistant. See <a href="../user_datamodel/userdatamodel_elementproperties.html#validationRules">validation rules</a> for more information. </p><h3 id="id7s2">
Non-blocking validation rules</h3>
<p>It is now possible to specify the behavior of a validation rule defined on fields, when a user submits a form with validation errors. That is, it is now possible to indicate whether an input that would violate a validation rule will be rejected or not when submitting a form. See <a href="../user_datamodel/userdatamodel_elementproperties.html#validationRules">validation rules</a> for more information. </p><h3 id="id7s3">
Validation settings</h3>
<p>A new class has been added to specify the settings when validating a dataset, a table or a record. This new class includes new properties that allow to specify: </p><ul>
<li><p>if the validation of a dataset, a table or a record must wait until the end of a concurrent validation that is being performed by another process. </p></li><li><p>that the result of the validation of a dataset or a table must not be added to the logs generated by EBX&reg;. </p></li></ul>
<p>See <a target="_blank" href="../Java_API/com/orchestranetworks/service/ValidationSpec.html"><code>ValidationSpec</code></a> for more information.</p><h3 id="id7s4">
Disabling validation for mass update</h3>
<p>It is now possible to disable the incremental validation of a dataset during the execution of a procedure. The use of this new feature may be useful when performing mass modifications during a procedure. That is, disabling incremental validation prevents the validation of each update performed during a procedure and it can then lead to important performance improvements during mass updates. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/service/ProcedureContext.html#disableDatasetValidation-com.onwbp.adaptation.Adaptation-"><code>ProcedureContext.disableDatasetValidation</code></a> for more information.</p><h3 id="id7s5">
Resetting validation reports</h3>
<p>New methods have been added to the Java API to reset the validation report of a dataset, a table or of the datasets contained in a dataspace. </p><p>See <a target="_blank" href="../Java_API/com/onwbp/adaptation/Adaptation.html#resetValidationReport-boolean-"><code>Adaptation.resetValidationReport</code></a>, <a target="_blank" href="../Java_API/com/onwbp/adaptation/AdaptationTable.html#resetValidationReport--"><code>AdaptationTable.resetValidationReport</code></a> and <a target="_blank" href="../Java_API/com/onwbp/adaptation/AdaptationHome.html#resetValidationReports--"><code>AdaptationHome.resetValidationReports</code></a> for more information.</p><h3 id="id7s6">
Dynamic validation messages on foreign key filters</h3>
<p> It is now possible to specify dynamic validation messages on programmatic filters defined over foreign key constraints. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/schema/TableRefFilter.html#getValidationMessage-com.onwbp.adaptation.Adaptation-com.orchestranetworks.instance.ValueContext-"><code>TableRefFilter.getValidationMessage</code></a> for more information.</p><h3 id="id7s7">
Validation messages threshold</h3>
<p>A new method has been added to indicate if a validation report item is related to a constraint that has reached the threshold defined by the property <code>ebx.validation.constraints.messages.threshold</code> in the EBX&reg; main configuration file (<code>ebx.properties</code>). </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/service/ValidationReportItem.html#isValidationMessageThresholdItem--"><code>ValidationReportItem.isValidationMessageThresholdItem</code></a> for more information.</p><h2 id="dataServices">
Data services</h2>
<h3 id="id8s1">
REST Toolkit</h3>
<p>It is now possible to develop custom REST API using JAX-RS 2.1 annotations. A REST service operation is implemented by a Java method. The JSON media type is supported for the body content by using the Java API for JSON Binding (JSON-B) that can automatically map JSON to a Java type; for example a Data Transfer Object (DTO). Other media types are available, please refer to the documentation for more details. Extended components have been added to use the EBX&reg; API:</p><ul>
<li><p>annotations to describe resources or to grant REST anonymous access to a given EBX&reg; resource;</p></li><li><p>injectable built-in objects that provide various useful APIs, for example to execute EBX&reg; procedures on behalf of the current user or to build URLs without worrying about configuration (for example proxies or encoding);</p></li><li><p>logging and debugging utilities.</p><div class="ebx_attention">
<h5>
Attention</h5>
<p> After upgrading an existing EBX&reg; configuration, a new main logging category should be configured. See <a href="#howTo">How to upgrade an installed environment</a> for more information. </p></div>
</li></ul>
<p> See <a href="../rest_toolkit/rest_toolkit_implement.html">REST Toolkit</a> for more information. </p><h3 id="id8s2">
Built-in RESTful services</h3>
<p>The built-in RESTful services have been improved on the following topics:</p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Data operations</p></td><td class="ebx_definitionListDefinition"><p id="jsonSimpleTypes">Improves the JSON meta data value type for <code>osd:email</code>, <code>osd:html</code>, <code>xs:Name</code>, <code>osd:password</code> and <code>osd:text</code> by using a dedicated value type. The data value representation does not change for all operations.</p><p>See <a href="../data_services/json_extended.html#simpleTypes">Content of simple type</a> for more information.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p id="dataServicesPagination">Paginated access</p></td><td class="ebx_definitionListDefinition"><p>The pagination context has been updated to improve API performance. The URL for the <code>nextPage</code> has been modified, and the backward compatibility has been ensured.</p><p>The <code>pageSize</code> parameter value upper bound limit has been removed (equivalent to the SOAP operations).</p><p>See <a href="../data_services/dataservices_rest_v1.html#selectTableParameters">Table parameters</a> for more information.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Authentication</p></td><td class="ebx_definitionListDefinition"><p>When <code>Basic</code> authentication is activated and an authentication fails, it is now possible to deactivate the interaction by adding a header to the request.</p><p>See <a href="../data_services/dataservices_rest_v1.html#X_Requested_With">Request header <code>X-Requested-With</code></a> for more information.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Token authentication</p></td><td class="ebx_definitionListDefinition"><p>When using the EBX&reg; default directory, the token creation prompts the user to change their password. The password change can be done through the new <a href="../data_services/dataservices_rest_v1.html#authChangePassword">Change password operation</a>.</p><p>The token authentication method is now always supported and the EBX&reg; property <code>ebx.dataservices.rest.auth.token.activate</code> is no longer supported. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/service/directory/DirectoryDefault.html"><code>DirectoryDefault</code></a></p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Check</p></td><td class="ebx_definitionListDefinition"><p>The request header &#39;Content-Type&#39; is checked.</p><p>See <a href="../data_services/dataservices_rest_v1.html#Content_Type"><code>Content-Type</code> header request</a> for more information.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Logging</p></td><td class="ebx_definitionListDefinition"><p> Some REST operation logs have been migrated to a more appropriate new main logging category, identified by the <code>ebx.log4j.category.log.restServices</code> property key. See <a href="../installation/properties.html#ebxLog">Configuring the EBX&reg; logs</a> for more information. </p></td></tr>
</table>
<h2 id="performance">
Performance</h2>
<h3 id="id9s1">
Data services</h3>
<p> The REST select table operations have been improved for the <a href="#dataServicesPagination">pagination</a>.</p><h3 id="id9s2">
Permissions</h3>
<p>Permissions on user services have been added to the session cache scope. They provide enhanced responsiveness, especially on use cases where a lot of services are to be displayed.</p><p>This cache operates as before: it only takes user-defined permission rules into account, not programmatic rules (which are not cached since they are contextual and dynamic); and its life cycle depends on the context as described hereafter:</p><ul>
<li><p>In the UI, the cache is cleared for every non-ajax event (i.e on page display, pop-up opening, etc.).</p></li><li><p>In programmatic procedures, the cache lasts until the end of the procedure, unless explicitly cleared (see below).</p></li></ul>
<div class="ebx_attention">
<h5>
Attention</h5>
<p><p>When modifying permissions in a procedure context (by importing an EBX&reg; archive or merging a dataspace programmatically), the session cache <strong>must</strong> be cleared using <a target="_blank" href="../Java_API/com/orchestranetworks/service/Session.html#clearCache--"><code>Session.clearCache</code></a>. Otherwise, these modifications will not be reflected until the end of the procedure.</p></p></div>
<h2 id="dataModeling">
Data modeling</h2>
<h3 id="datamodeling">
Primary key evolutions</h3>
<p>The data model publication process has been enhanced to detect modifications performed on primary key definitions in semantic tables. That is, a warning about the modifications performed on primary key definitions is now displayed when publishing a data model in the Data Model Assistant. Details of these modifications are displayed as well.</p><p>For more information about data model evolutions, see <a href="../references/datamodel_evolutions.html">Data model evolutions</a>.</p><h3 id="dataModelJavaSourcesLocations">
Location of Java sources</h3>
<p>In the Data Model Assistant, it is now possible to define several locations for the Java sources to be used in a data model.</p><p>See <a href="../user_datamodel/userdatamodel_configuring.html#configuration"> Data model properties</a> for more information. </p><h3 id="dataModelIntrospectionAPI">
Introspection API</h3>
<ul>
<li><p> A new Java method has been added to retrieve the value of the <code>osd:checkNullInput</code> property defined on a field. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/schema/SchemaNode.html#isCheckNullInput--"><code>SchemaNode.isCheckNullInput</code></a> for more information.</p></li></ul>
<h2 id="persistence">
Persistence and databases</h2>
<h3 id="hana_support">
New supported database</h3>
<p> SAP HANA&reg; has been added as one of the <a href="../installation/supported_env.html#databases">supported database engines</a>. Standard, enterprise, and express editions are supported for versions 2.0 and above. </p><h3 id="database_to_database_migration">
Inter-database migration</h3>
<p>It is now possible to fully migrate a repository from one database to another. The migration is automatic (it does not require technical intervention on the target database, aside from its global setup).</p><p>For more information, see <a href="../engine/repository_administration.html#dbMigration">Inter-database migration</a>.</p><h3 id="historyAnonymization">
History anonymization</h3>
<p> A new Java interface is available to anonymize a set of records in the history, according to a specified functional key. </p><p> For more information, see <a target="_blank" href="../Java_API/com/orchestranetworks/instance/RepositoryAnonymizer.html"><code>RepositoryAnonymizer</code></a>. </p><h3 id="_31043">
Renaming a column in the database</h3>
<p>For mapped tables, it is now possible to programmatically rename a database column. The typical use case is when a schema type change creates a new column with an automatically suffixed name, such as &#39;name00&#39;. While renaming was already possible through the UI, this new API allows automating the name change over several environments or many tables. </p><p>For more information, see <a target="_blank" href="../Java_API/com/orchestranetworks/instance/DatabaseMapping.html"><code>DatabaseMapping</code></a>.</p><h2 id="misc">
Miscellaneous</h2>
<h3 id="javaAPI">
Other useful Java API</h3>
<table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Getting the dataset reference</p></td><td class="ebx_definitionListDefinition"><p>The new method <a target="_blank" href="../Java_API/com/onwbp/adaptation/Adaptation.html#getDatasetReference--"><code>Adaptation.getDatasetReference</code></a> allows getting the <code>AdaptationReference</code> of a dataset.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>System session on module registration</p></td><td class="ebx_definitionListDefinition"><p>The new method <a target="_blank" href="../Java_API/com/orchestranetworks/module/ModuleContextOnRepositoryStartup.html#createSystemUserSession-java.lang.String-"><code>ModuleContextOnRepositoryStartup.createSystemUserSession</code></a> allows obtaining a new EBX&reg; system session during the module startup. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Setting additional parameters to a Web Component</p></td><td class="ebx_definitionListDefinition"><p>The new method <a target="_blank" href="../Java_API/com/orchestranetworks/ui/UIHttpManagerComponent.html#setAdditionalParameter-java.lang.String-java.lang.String-"><code>UIHttpManagerComponent.setAdditionalParameter</code></a> sets an additional specific parameter to the Web Component. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p><code>WebListener</code> annotation</p></td><td class="ebx_definitionListDefinition"><p> An EBX&reg; module can now also be registered using the <code>@WebListener</code> annotation from Servlet 3.0. The requirements are the following: the annotated class must be placed in the EBX&reg; module, it must extend <code>ModuleRegistrationListener</code> and the servlet 3.0 annotation scanning must be activated on the application server. </p><p> See <a href="../models/modules_packaging.html#registration">Module registration</a> for more information. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>D3 advanced setup</p></td><td class="ebx_definitionListDefinition"><p>To perform the advanced setup of a D3 replica node, a new Java interface <a target="_blank" href="../Java_API/com/orchestranetworks/module/ModuleRegistrationAdvancedD3.html"><code>ModuleRegistrationAdvancedD3</code></a>, is available.</p><p> For example, when several inter-dependent broadcast dataspaces are used, implementing this interface allows to create the required D3 delivery dataspaces on the replica nodes.</p></td></tr>
</table>
<h3 id="embeddedLibraries">
Embedded third-party libraries</h3>
<p> EBX&reg; is packaged with its own third-party libraries with some new additions in this release. This simplifies the Java Runtime Environment 9 and above, and improves the application server installation.</p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Activation</p></td><td class="ebx_definitionListDefinition"><p> The activation (<a href="https://jcp.org/en/jsr/detail?id=925"><code>JSR-925</code></a>) library is embedded. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Annotations</p></td><td class="ebx_definitionListDefinition"><p> The common annotations API (<a href="https://jcp.org/en/jsr/detail?id=250"><code>JSR-250</code></a>) library is embedded. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>JAX-RS</p></td><td class="ebx_definitionListDefinition"><p> The CXF and JAX-RS API (<a href="https://jcp.org/en/jsr/detail?id=370"><code>JSR-370</code></a>) libraries are embedded. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>JSON</p></td><td class="ebx_definitionListDefinition"><p> The Johnzon, JSON Processing API (<a href="https://jcp.org/en/jsr/detail?id=374"><code>JSR-374</code></a>) and JSON Binding API (<a href="https://jcp.org/en/jsr/detail?id=367"><code>JSR-367</code></a>) libraries are embedded. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>XML</p></td><td class="ebx_definitionListDefinition"><p> The Bcel, JAXB (<a href="https://jcp.org/en/jsr/detail?id=222"><code>JSR-222</code></a>), SAAJ (<a href="https://jcp.org/en/jsr/detail?id=67"><code>JSR-67</code></a>), Xalan, Xerces and Stax2 (<a href="https://jcp.org/en/jsr/detail?id=173"><code>JSR-173</code></a>) libraries are embedded.</p><p>The JVM option should be removed: <code>--add-modules java.xml.ws</code>.</p></td></tr>
</table>
<div class="ebx_attention">
<h5>
Attention</h5>
<p> Some of those third-party libraries may cause conflicts when deployed aside from <code>ebx.jar</code> or included into custom web applications. See <a href="../installation/deploy_on_jee.html#embeddedThirdParty">Embedded third-party libraries</a> for more information. </p></div>
<h2 id="versionUpgrade">
Version upgrade</h2>
<p><em>In addition to the information provided in this release note, the document <a href="../releasenotes/5.9-newJavaAPI.html">5.9 Java API changes</a> provides an exhaustive list of the Java API changes provided with this release.</em></p><h3 id="supportedEnvironmentsChanges">
Changes on supported environments</h3>
<p>The chapter <a href="../installation/supported_env.html">Supported environments</a> has been updated to reflect the necessary upgrades detailed below.</p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Browser support</p></td><td class="ebx_definitionListDefinition"><p>Microsoft Internet Explorer 8 and 9 are no longer supported.</p><p>For Mozilla Firefox, the support of ESR 52 has shifted to ESR 60.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>JVM support</p></td><td class="ebx_definitionListDefinition"><p>Java Runtime Environment requirement is now JRE 8 or higher.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Oracle support</p></td><td class="ebx_definitionListDefinition"><p>Oracle 10g is no longer supported. Minimum supported version of Oracle is now 11g.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>PostgreSQL support</p></td><td class="ebx_definitionListDefinition"><p>Minimum supported version of PostgreSQL is now 9.4.</p></td></tr>
</table>
<h3 id="backwardCompatibility">
Backward compatibility</h3>
<table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm" id="backwardCompatibility_undeployedModules"><p>New behavior on server startup</p></td><td class="ebx_definitionListDefinition"><p> To ensure that the EBX&reg; repository is always consistent with the deployed EBX&reg; modules on which it depends, the repository initialization process now waits endlessly for the registration of the expected modules. </p><p> If an expected module is not deployed for any reason, it <strong>now must be declared</strong> as such in the new property <code>ebx.module.undeployedModules</code>. Please note that the <code>kernel</code> logging category indicates which modules are awaited.</p><p> See <a href="../installation/properties.html#undeployedModules">Declaring modules as undeployed</a> for more information. </p><p> A final consequence is that the previous property <code>ebx.module.timeInSecondsForModuleRegistration</code> is now ignored.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>EBX&reg; as a Web Component and iframes</p></td><td class="ebx_definitionListDefinition"><p>In some circumstances, EBX&reg; may add an internal <code>iframe</code> or <code>object</code>. This means that when using EBX&reg; as a Web Component in iframes, custom JavaScript code relying on child/parent relationships may break after EBX&reg; is upgraded.</p><p>To avoid this, it is recommended to:</p><p> use <code>ebx_getContainerWindow().parent</code> instead of <code>window.parent</code>,</p><p> use <code>webComponentIFrame​.contentWindow​.ebx_ContentWindow()</code> instead of <code>webComponentIFrame.contentWindow</code>. </p><p> For more information, see the documentation for methods <a target="_blank" href="../Java_API/com/orchestranetworks/ui/JavaScriptCatalog.html#ebx_getContainerWindow-java.lang.Object-">ebx_getContainerWindow()</a> and <a target="_blank" href="../Java_API/com/orchestranetworks/ui/JavaScriptCatalog.html#ebx_getContentWindow-java.lang.Object-">ebx_ContentWindow()</a>.</p><p>For the same reason, a UIService called as a Web Component in javascript (XHR) will no longer work. Such hack may have been used to implement the upload service. Instead, it is highly recommended to use <a target="_blank" href="../Java_API/com/orchestranetworks/userservice/UserService.html"><code>UserService</code></a> or <a target="_blank" href="../Java_API/com/orchestranetworks/dataservices/rest/package-frame.html">REST</a> service API.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Color settings</p></td><td class="ebx_definitionListDefinition"><p>The <a href="#NewSkin">New Skin</a> design also involves a redesign of the colors used to customize the user interface. Some color parameters have been deleted since they were no longer used. The colors used on tables have been reset to their default value so that users can enjoy the new design before customizing it. </p><p>See <a href="../engine/admin_frontend.html#cssStyles">Colors and themes</a> for more information.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>No raw HTML in a workspace title</p></td><td class="ebx_definitionListDefinition"><p>The workspace title no longer allows raw HTML: a text containing HTML tags is now escaped. This includes text generated by classes implementing the interface <code>UILabelRenderer</code>.</p><p>In some cases, such as hierarchy views and the display of hierarchy nodes by implementing <code>UILabelRendererForHierarchy</code>, HTML is still tolerated. To distinguish between these cases accepting HTML and the others, a new method <a target="_blank" href="../Java_API/com/orchestranetworks/ui/UILabelRendererContext.html#isHTMLForbidden--"><code>UILabelRendererContext.isHTMLForbidden</code></a> has been added.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm" id="backwardCompatibility_setHomeIconDisplayed"><p>Java methods to set a home icon</p></td><td class="ebx_definitionListDefinition"><p>With the <a href="#NewSkin">New Skin</a> graphical chart, if a record form has tabs, the main tab is no longer displayed with a home icon. As a consequence, the existing Java methods <code>setHomeIconDisplayed</code> no longer have an effect and have been marked as deprecated. </p><p>For more information, see <a target="_blank" href="../Java_API/com/orchestranetworks/userservice/UserServiceRootTabbedPane.html#setHomeIconDisplayed-boolean-"><code>UserServiceRootTabbedPane.setHomeIconDisplayed</code></a> and <a target="_blank" href="../Java_API/com/orchestranetworks/ui/form/UIFormPaneWithTabs.html#setHomeIconDisplayed-boolean-"><code>UIFormPaneWithTabs.setHomeIconDisplayed</code></a>.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Removal of locale declaration at the module level</p></td><td class="ebx_definitionListDefinition"><p>Locales can no longer be declared at the module level. Instead, locales should be declared globally in the <a href="../installation/properties.html#locales">main configuration file</a>.</p><p>As a consequence, the elements <code>&lt;locales&gt;</code> should be removed from the <code>module.xml</code> documents and the missing locales should be added to the <code>ebx.locales.available</code> property of the main configuration file. If locales are still defined in a module, they will be ignored and EBX&reg; will log a warning message.</p><p>For more information, see <a href="../references/i18n_extended.html#addLocale">Adding a new locale</a>.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Built-in RESTful API</p></td><td class="ebx_definitionListDefinition"><p>The JSON meta data value type for <code>osd:email</code>, <code>osd:html</code>, <code>osd:password</code> and <code>osd:text</code> is no longer returned as a <code>string</code> value.</p><p>See <a href="#jsonSimpleTypes">Data operation</a> for more information.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm" id="backwardCompatibility_workflowHistoryPurge"><p>Workflow - Clear history of selected workflows</p></td><td class="ebx_definitionListDefinition"><p> The purge process of history data has been improved in order to deal with larger volumes. It now consists of two distinct steps: the deletion of workflows and the deletion of remnant data. The first step works exactly like the previous &#39;clear from date&#39; service, the only difference being that it only clears the &#39;Workflows&#39; table in the history. The second step consists in executing the standard EBX&reg; purge, so as to delete all remnants in the background. </p><p>See <a href="../engine/repository_administration.html#cleanWorkflowHistory">How to clean workflow history</a> for more information.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Workflow - role controls when offering a work item</p></td><td class="ebx_definitionListDefinition"><p> The behavior of the control of profiles when offering a work item has been modified: in the previous behavior, a single empty role (a role that does not contain any user) would lock the work item in an &quot;error&quot; state even though the list of profiles contains valid users.</p><p>Now, when the list contains:</p><ul>
<li><p>only users: no error</p></li><li><p>users and roles (empty or not): no error</p></li><li><p>only roles, with at least one containing users: no error</p></li><li><p>only empty roles: the work item is set to the error state</p></li></ul>
<p>Whenever a role is empty, a warning is saved in workflow logs for debugging purposes.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Using EBX&reg; as a Web Component</p></td><td class="ebx_definitionListDefinition"><p>When some entity parameters are missing, the web component may display an error. Previously, the web component would attempt to fill missing entity parameters based on the user&#39;s last visited dataspace.</p><p>Specifying the &quot;breadcrumb&quot; feature using the layout parameters <code>viewFeatures</code> and <code>recordFeatures</code> is now deprecated and ignored.</p><p>For more information, see <a href="../references/manager_component_ref.html">Using TIBCO EBX&reg; as a Web Component</a>.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Data modeling</p></td><td class="ebx_definitionListDefinition"><p>As a consequence of the bug fix <a href="#bug_17372">#17372</a>, the data model compilation is now stricter regarding dynamic facets. That is, to prevent unexpected errors when working on data, a compilation error is now raised when a dynamic facet targets a field under a list that is not an ancestor of the field holding the dynamic facet. </p><p>For more information, see <a href="../models/constraints.html#dynamicConstraints">Dynamic constraints</a>.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Exit policy</p></td><td class="ebx_definitionListDefinition"><p>Error redirection is now deprecated and may be ignored by EBX&reg;.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Strong encoding is no longer supported</p></td><td class="ebx_definitionListDefinition"><p>Property <code>ebx.urlParameters.strongEncoding</code> is now ignored if specified in the EBX&reg; main configuration file.</p><p>Web access management tools must be configured to allow the following characters in URLs: <code>A-Za-z0-9 / - _.&nbsp;! ~ * &#39; ( ) %</code>. These tools must also allow all percent encoded characters including %00-%1f, %7f-%ff, and %25.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>XPath functions for validation search</p></td><td class="ebx_definitionListDefinition"><p>It is no longer possible to use <a href="../references/xpath_ref.html#validationSearchPredicates"> XPath functions for validation search</a> (<code>osd:has-validation-item()</code> or <code>osd:contains-validation-message(&#39;xxx&#39;)</code>) in XPath filters defined on associations and foreign keys. That is, a compilation error is now raised when XPath functions for validation search are used in the context of an association or a foreign key.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Data model - button configuration in custom toolbar</p></td><td class="ebx_definitionListDefinition"><p>In the configuration form of the Toolbar, the field &#39;Relief&#39; has been removed. The relief configuration is now ignored and the buttons are flat. </p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Buttons default relief is now &#39;FLAT&#39;</p></td><td class="ebx_definitionListDefinition"><p>To set a border on a button, the method <a target="_blank" href="../Java_API/com/orchestranetworks/ui/UIButtonSpec.html#setRelief-com.orchestranetworks.ui.UIButtonRelief-"><code>UIButtonSpec.setRelief</code></a> must be used with the argument <a target="_blank" href="../Java_API/com/orchestranetworks/ui/UIButtonRelief.html#EMBOSSED"><code>UIButtonRelief.EMBOSSED</code></a>. </p></td></tr>
</table>
<h3 id="howTo">
How to upgrade an installed environment</h3>
<p>In order to upgrade your version of EBX&reg;, perform the following steps:</p><ol>
<li><p>Back up your repository, including the RDBMS and the directory <code>ebx.repository.directory</code>.</p></li><li><p>Replace the <code>*.war</code> and <code>ebx.jar</code> files on your application server.</p></li><li><p>Add the new required <code>ebx-ui.war</code> file in your EAR or on your application server. See <a href="../installation/deploy_on_jee.html">Java EE deployment</a> for more information. </p></li><li><p>Add the new main logging category, in the <code>ebx.properties</code> file ,with the <code>ebx.log4j.category.log.restServices</code> property key. See <a href="../installation/properties.html#ebxLog">Configuring the EBX&reg; logs</a> for more information. </p></li></ol>
<div class="ebx_attention">
<h5>
Attention</h5>
<p><p>If using the EBX&reg; add-ons, make sure that the version of the add-ons is compatible with EBX&reg; version 5.9 before upgrading. For the backward compatibility of the add-ons themselves, refer to the release note of each add-on.</p><p>Once an EBX&reg; repository has been used with this version, using it with a previous version is not supported. Consequently, a backup must be created before upgrading, as described above, in order to maintain the possibility of downgrading later.</p></p></div>
<h2 id="bugfix593">
Bug fixes</h2>
<h3 id="bug593-Coreengine">
Core engine</h3>
<ul>
<li><p id="bug_CP-16534"><strong>CP-16534</strong> The API for <code>RepositoryAnonymizer.RecordContext</code> is incorrect. </p><p>The method<code>RepositoryAnonymizer.RecordContext.setValue(SchemaNode aNode, Path aPath)</code> has the wrong parameter types, and should be changed to: <code>setValue(Object aValue, SchemaNode aNode)</code>. </p></li></ul>
<h3 id="bug593-Datamodeling">
Data modeling</h3>
<ul>
<li><p id="bug_CP-610"><strong>CP-610 [36975]</strong> Impossible to compare 2 records if the table contains a data complex type with the &quot;Access properties&quot; as &quot;Not a dataset node&quot;. </p><p>When comparing 2 records, if the table contains a data complex type which sets the &quot;Access properties&quot; to &quot;Not a dataset node&quot;, then it does not work.</p><p>Thecompare service should work normally. The data complex type that does not have the permission should be hidden from the compare screen.</p></li></ul>
<h3 id="bug593-Dataservices">
Data services</h3>
<ul>
<li><p id="bug_CP-16482"><strong>CP-16482</strong> Comparing with filter <code>isResolvedMode</code> returns a different result than from the Web. </p><p>In unresolved mode, the comparison result of two records by a workflow using a built-in service is different from the one using the public API <code>DifferenceHelper.compareOccurrences(Adaptation, Adaptation, boolean)</code>.</p></li><li><p id="bug_CP-16560"><strong>CP-16560</strong> In the compare service, the session is sometimes null when trying to retrieve it from a <code>UILabelRenderer</code>. </p><p>In the compare service, the session is sometimes null when trying to retrieve itfrom a <code>UILabelRenderer</code>.</p><p>Ithappens when the service is displaying the label of a record that has a foreign key referencing a table that usesthe <code>UILabelRenderer</code>. The record contains that foreign key&#39;s label as part of its default label.</p></li><li><p id="bug_CP-16638"><strong>CP-16638</strong> When setting a toolbar with <code>isForTable=false</code> in a <code>UserServiceDisplayConfigurator</code>, table-level services are offered instead of record-level services. </p></li></ul>
<h3 id="bug593-Dataviews">
Data views</h3>
<ul>
<li><p id="bug_CP-1710"><strong>CP-1710 [32335]</strong> When a user who has no rights to share views duplicates a view, it is shared with the same profiles as the original view. </p><p>When a user who has no rights to share views duplicates a view, the view is shared with the same profiles as the original view.These users should not be able to share any view, even by duplicating a shared view.</p></li><li><p id="bug_CP-16514"><strong>CP-16514</strong> A <code>java.lang.StackOverflowError</code> occurs when creating a pruned hierarchy over a link table. </p><p>A <code>java.lang.StackOverflowError</code> occurs when creating a pruned hierarchy with a filter onthe dependency link table.</p></li><li><p id="bug_CP-16670"><strong>CP-16670</strong> A <code>ClassCastException</code> occurs on a text search. </p><p>The error occurs if the search is performed on a table reference list which is itself contained in a list. Also, the error occurs only if a validation filter has been set and a validation has been performed.</p></li></ul>
<h3 id="bug593-Dataworkflows">
Data workflows</h3>
<ul>
<li><p id="bug_CP-1000"><strong>CP-1000 [35068]</strong> A user is able to launch a workflow from a URL without the required permission. </p><p>A user is able to launch a workflow from a manually built URL without the required permission.</p></li></ul>
<h3 id="bug593-ImportExport">
Import / Export</h3>
<ul>
<li><p id="bug_CP-571"><strong>CP-571 [37210]</strong> The CSV export service must be optimized when enabling the user-friendly option. </p><p>The CSV export service performance must be optimized when enabling the user friendly option.</p></li><li><p id="bug_CP-1249"><strong>CP-1249 [36820]</strong> An error that occurs when deleting the temporary file for exporting may be silently dropped. </p><p>When there is an error when exporting data, if the temporary file deletion raises an error, the latter may be silently dropped.</p></li></ul>
<h3 id="bug593-Userinterface">
User interface</h3>
<ul>
<li><p id="bug_CP-558"><strong>CP-558 [35636]</strong> The preview link for an association table displayed in a user service fails with a blank screen. </p><p>The preview link for an association table displayed in a user service fails with a blank screen and a logged <code>java.lang.NullPointerException</code> error. The latter occurs when this association is configured to be displayed in a modal in the data model.</p></li><li><p id="bug_CP-837"><strong>CP-837 [36899]</strong> [LAYOUT][IE10] The &#39;Set as favorite perspective&#39; icons are not aligned with the &#39;Select perspective&#39; menu. </p><p>When users open the &#39;Select perspective&#39; menu on IE10, the &#39;Set as favorite perspective&#39; icons are not left-aligned as they are on other browsers.</p></li><li><p id="bug_CP-996"><strong>CP-996 [36378]</strong> Clicking the search button on an association throws an exception when used within a user service. </p></li><li><p id="bug_CP-1055"><strong>CP-1055 [36391]</strong> An error occurs when performing actions on an association by an XPath predicate opened within a user service. </p><p>An error occurs with a <code>NullPointerException</code> when performing actions on an association by an XPath predicate opened within a user service.</p><p>The error occurs:</p><p>- when using the &quot;Delete&quot; built-in service</p><p>- when using the &quot;Create a record&quot; built-in service and clicking on &quot;Close&quot; or &quot;Save and Close&quot; buttons</p><p>- when opening a record from the table and clicking on &quot;Close&quot; or &quot;Save and Close&quot; buttons</p></li><li><p id="bug_CP-1065"><strong>CP-1065 [35638]</strong> The associate or detach actions end with an error for an association displayed in a user service. </p><p>The associate or detach actions end with an error for an association over a link table displayed in a user service.</p></li><li><p id="bug_CP-1265"><strong>CP-1265 [36313]</strong> Accessing a dataset via a permalink in the node scope results in an erroneous empty page. </p><p>If there is a field at the root of the dataset, accessing it via a permalink in the node scope leads to an erroneous empty page.</p></li><li><p id="bug_CP-5429"><strong>CP-5429 [17579]</strong> If a hierarchy view is applied in a filtered foreign key selector, records that do not match the filter can be selected. </p><p>If a foreign key has a filter, when the user opens its selector and applies a recursive hierarchy view, then it is possible to select all the nodes of the hierarchy, including those that do not match the filter.</p></li><li><p id="bug_CP-16316"><strong>CP-16316</strong> Null session in <code>UILabelRenderer</code> when triggered from the comparison screen. </p></li><li><p id="bug_CP-16339"><strong>CP-16339</strong> EBX&reg; does not work if we specify the following parameter in ebx.properties in order to deploy the static resources on another server:port than the server:port of servlet. </p><p>\EBX&reg;does not work if we specify the following parameter in ebx.propertiesin order to deploy the static resources on another server:port than the server:port of the servlet:</p><p><code>ebx.externalResources.http.host=otherhost</code>.</p></li><li><p id="bug_CP-16342"><strong>CP-16342</strong> EBX&reg; does not work with the HTTP Servlet path parameter set in admin. </p><p>When the HTTP Servlet path parameter is set in admin configuration, EBX&reg; doesn&#39;t work.</p></li><li><p id="bug_CP-16349"><strong>CP-16349 [35636]</strong> An error occurs when performing actions on the grid edit for an association by an XPath predicate in a user service. </p><p>An error occurs with a <code>NullPointerException</code> when performing actions on grid edit for an association by an XPath predicate opened in a user service.</p><p>The error occurs when the user clicks on the &quot;Close&quot; or &quot;Save and Close&quot; buttons in the modal opened for grid edit.</p></li><li><p id="bug_CP-16379"><strong>CP-16379</strong> Backed-up user page does not display when implemented in a custom directory. </p><p>When a custom directory is implemented and a user has one or more backed-up users, the backed-up user selector page does notdisplay after a successful login.</p></li><li><p id="bug_CP-16390"><strong>CP-16390</strong> Record navigation arrows are only displayed for the records on the first page. </p><p>Record navigation arrows are only displayed for the records on the first page. They should also be displayed for records on the other pages.</p></li><li><p id="bug_CP-16401"><strong>CP-16401</strong> The dataset selector does not open automatically. </p><p>When a dataspace is selected and more than one dataset can be selected, the dataset selector should open automatically.</p></li><li><p id="bug_CP-16447"><strong>CP-16447</strong> The <code>trackingInfo</code> value, when defined on a perspective action, is not available in the session. </p><p>The <code>trackingInfo</code> value, when defined on a perspective action, is not available in the session. The <code>getTrackingInfo()</code> method returns null.</p></li><li><p id="bug_CP-16471"><strong>CP-16471</strong> State of selected records on custom perspectives is kept when switching to the advanced perspective. </p><p>Access built-in services to select more than one record on a custom perspective, then switch to the advanced perspective, the state of selected records is kept.</p></li><li><p id="bug_CP-16529"><strong>CP-16529</strong> A user service &#39;Close action&#39; does not work in a workflow user task. </p><p>The &#39;Close action&#39; ofa user service does not work in a workflow user task: theresult screen contains only the workflow &#39;Comment&#39; link and the &#39;Reject&#39; and &#39;Accept&#39; buttons.</p></li><li><p id="bug_CP-16580"><strong>CP-16580</strong> A concurrency conflict happens when a record is updated through a trigger in the parent session. </p><p>A concurrency conflict happens when a record is updated through a trigger in the parent session.</p><p>Such an issue happens if the update is done in a child dataspace and if the record in the parent session is sharing its revision with its parent dataspace.</p></li></ul>
<h3 id="bug593-UsersPermissions">
Users &amp; Permissions</h3>
<ul>
<li><p id="bug_CP-16472"><strong>CP-16472</strong> Job title updated for capitalization in the default directory. </p><p>There is no need to update the job titlefor capitalization in the directory. It leads to unwanted behaviors, ex: VP, Vp.</p></li></ul>
<h2 id="bugfix590FixB">
5.9.0 fix B bug fixes</h2>
<h3 id="bug590FixB-Coreengine">
Core engine</h3>
<ul>
<li><p id="bug_CP-879"><strong>CP-879 [34239]</strong><code>osd:label</code> requests on non-labelled fields need to be optimized. </p><p>Requests such as <code>osd:contains-case-insensitive(osd:label(./label),&#39;ddd&#39;)</code> on a field (label) which is not a labelled field should be optimized.</p></li><li><p id="bug_CP-16281"><strong>CP-16281</strong><code>AdaptationTreeOptimizerSpec_RemoveDuplicates</code> fails to remove some records. </p><p>The deletions made by <code>AdaptationTreeOptimizerSpec_RemoveDuplicates</code> may not be effective (and the optimization incomplete) when the modified record causes the persistence block to become unshared.</p></li></ul>
<h3 id="bug590FixB-Datamodeling">
Data modeling</h3>
<ul>
<li><p id="bug_CP-796"><strong>CP-796 [37026]</strong> The method <code>SchemaNodeRelationships.getReverseRelationships()</code> returns duplicated relationships. </p><p>The method <code>SchemaNodeRelationships.getReverseRelationships()</code> returns duplicated relationships involving inter-dataset relationships.</p><p>This issue occurs only if data models are published using the DMA.</p></li><li><p id="bug_CP-928"><strong>CP-928 [36487]</strong> An error occurs on the &#39;Define criteria&#39; page when attempting to add a criterion on an empty table. </p><p>When users add a criterion on the &#39;Define criteria&#39; page of an empty table, a blank pop-up displays.</p></li><li><p id="bug_CP-1104"><strong>CP-1104 [36807]</strong> An error occurs when deleting a snapshot of a data model in the DMA. </p><p>When a user deletes a version on &#39;Manage version&#39; of a data model, a white page is displayed. This issue occurs if the version to delete is a snapshot that is selected in the DMA.</p></li></ul>
<h3 id="bug590FixB-Datavalidation">
Data validation</h3>
<ul>
<li><p id="bug_CP-1175"><strong>CP-1175 [36996]</strong> Method <code>ValueContext.getNode()</code> in a foreign key filter returns the wrong node when creating a record. </p><p>In the context of a foreign key filter, the method <code>ValueContext.getNode()</code> returns the table node instead of the foreign key field when creating a record directly from an association.</p></li><li><p id="bug_CP-1426"><strong>CP-1426 [36389]</strong> The error message that indicates why the validation has stopped is inaccurate. </p><p>The error message that indicates why the validation has stopped reads &quot;validation stopped because of too many errors&quot; even if the severity of the concerned messages is not &#39;error&#39;.</p></li></ul>
<h3 id="bug590FixB-Dataviews">
Data views</h3>
<ul>
<li><p id="bug_CP-612"><strong>CP-612 [36910]</strong> It is not possible to occult a record in child datasets if this record does not comply with blocking constraints. </p><p>On a child dataset, it is not possible to occult a record that does not comply with blocking constraints. This issue occurs if the error management policy of an existing constraint is modified and set to blocking mode and if existing records have values that do not comply with this constraint.</p></li><li><p id="bug_CP-629"><strong>CP-629 [35616]</strong> Without sufficient permissions on the advanced perspective, users cannot open a web component with the scope as a selected node. </p><p>A user without sufficient permissions on the advanced perspective (but who has permissions on other perspectives) cannot display a web component with the scope as a selected node.</p><p>Loading the advanced perspective causes a 404 HTTP error.</p></li><li><p id="bug_CP-16309"><strong>CP-16309</strong> A blank workspace is displayed when accessing a table if its toolbar contains an invalid XPath. </p><p>When accessing a table in a dataset, a blank workspace is displayed and an exception occurs in the log file if the toolbar contains an invalid XPath value.</p></li></ul>
<h3 id="bug590FixB-Dataworkflows">
Data workflows</h3>
<ul>
<li><p id="bug_CP-860"><strong>CP-860 [36558]</strong> Primary key violation error persisting data in the workflow history. </p><p>Primary key violation error persisting data in the workflow history when a work item is offered several times to the same profile.</p></li></ul>
<h3 id="bug590FixB-DataspacesHistory">
Dataspaces &amp; History</h3>
<ul>
<li><p id="bug_CP-689"><strong>CP-689 [36906]</strong> A fatal error occurs when importing an archive file into the dataspace. </p><p>On a dataspace which had some dataset deleted and then re-created, when users export an archive file with the &#39;The updates with their whole content&#39; or &#39;The updates only&#39; mode activated and import this file again, a fatal error occurs.</p></li></ul>
<h3 id="bug590FixB-DistributedDataDelivery">
Distributed Data Delivery (D3)</h3>
<ul>
<li><p id="bug_CP-981"><strong>CP-981 [37125]</strong> Cluster broadcast aborts on the D3 replica node when the delivery dataspace exists but is not registered. </p><p>The broadcast aborts when it is realized from the D3 primary node, and if the delivery dataspace exists but is not registered from the D3 replica configuration.</p></li></ul>
<h3 id="bug590FixB-JavaEEintegration">
Java EE integration</h3>
<ul>
<li><p id="bug_CP-16419"><strong>CP-16419</strong> EBX&reg; does not start on Websphere Application Server 8.5. </p><p>EBX&reg; does not start on Websphere Application Server 8.5 when using the Enterprise Application Archive shipped in the product package. Multiple <code>ClassNotFoundException</code> errors are written in the application server log file.</p></li></ul>
<h3 id="bug590FixB-Userinterface">
User interface</h3>
<ul>
<li><p id="bug_CP-584"><strong>CP-584 [36935]</strong> [All browsers] The warning message should not be shown when modifying a workflow diagram and double-clicking on &#39;Final step&#39;. </p><p>Users open a diagram of a workflow and modify it then double click on &#39;Final step&#39;. An unnecessary warning message is shown.</p></li><li><p id="bug_CP-606"><strong>CP-606 [36956]</strong> Decrease spacing between the <code>DateTime</code> field buttons. </p><p>The <code>DateTime</code> field buttons take too much space in version 5.9.0 due to the new CSS style for buttons.</p></li><li><p id="bug_CP-622"><strong>CP-622 [36647]</strong> Validation report disappears when the user clicks on &quot;Revalidate&quot;. </p><p>When the validation report is opened and the user clicks on &quot;Revalidate&quot;, the root node of the dataset is displayed instead of the validation report.</p><p>This only occurs when a dataset contains one or more fields at the &quot;/root&quot; node.</p></li><li><p id="bug_CP-651"><strong>CP-651 [37212]</strong> An error is displayed in a perspective when trying to perform an &#39;access data&#39; action on dataset-level fields. </p></li><li><p id="bug_CP-655"><strong>CP-655 [36280]</strong> The &#39;Page not found&#39; warning displays when using the &#39;Merge&#39; service in the web component link generator. </p><p>On the &#39;Web component link generator&#39; screen, when users select the &#39;Merge&#39; service and a dataspace, the &#39;Page not found&#39; warning displays when clicking the &#39;Preview&#39; button for the first time.</p></li><li><p id="bug_CP-682"><strong>CP-682 [35954]</strong> [All browsers] Some fields on the &#39;Web component link generator&#39; should be reordered. </p><p>&#39;Dataset node / Filter (XPath)&#39;, &#39;Scope&#39;, &#39;View publication&#39; should be put under &#39;Dataspace&#39; and &#39;Dataset&#39; fields on &#39;Web component link generator&#39;.</p></li><li><p id="bug_CP-720"><strong>CP-720 [36784]</strong> In an association table, if the toolbar has no button on the left, then the right part is aligned to the left. </p></li><li><p id="bug_CP-725"><strong>CP-725 [36970]</strong> The custom login page that is defined in &#39;Entry configuration&#39; is not handled. </p><p>Defining a Custom login page through &#39;Entry configuration&#39; is not supported.</p><p>In order to test this bug, first create a custom login page, then set the url of this page in &quot;Administration/Advanced Perspective/Session Configuration/Entry Configuration&quot; and save.</p><p>When an EBX&reg; is launched in a new tab, the custom login page should be displayed.</p></li><li><p id="bug_CP-759"><strong>CP-759 [35455]</strong> Defining a <code>tabularView</code> element without any <code>column</code>child leads to a broken page. </p><p>Defining for an association node a <code>tabularView</code> element without any <code>column</code>child leads to a broken page when opening a record in a table view. A <code>java.lang.NullPointerException</code> error is additionally logged.</p></li><li><p id="bug_CP-768"><strong>CP-768 [37006]</strong> JavaScript error (undefined table). </p><p>If a web component, with a full scope, is displayed in the workspace, an error occurs when the Exit policy equals &quot;_parent&quot;, &quot;_top&quot; or &quot;_blank&quot;.</p></li><li><p id="bug_CP-776"><strong>CP-776 [36288]</strong> A wait icon appears when users &#39;Access data&#39; using the &#39;Root session&#39; option in the &#39;Web component link generator&#39;. </p><p>A wait icon appears when users &#39;Access data&#39; using the &#39;Root session&#39; option without service parameters in the &#39;Web component link generator&#39;.</p></li><li><p id="bug_CP-826"><strong>CP-826 [37142]</strong> [All browsers] The &quot;Add a criterion&quot; field is displayed partially when opening the table filter pane. </p><p>The &quot;Add a criterion&quot; field is displayed partially when opening the table filter pane.</p></li><li><p id="bug_CP-828"><strong>CP-828 [36370]</strong> [LAYOUT][IE10] The star icon is not aligned with others in perspective selection. </p><p>The star icon is not aligned with others in perspective selection on the IE 10 browser.</p></li><li><p id="bug_CP-845"><strong>CP-845 [36472]</strong> The confirmation message does not pop up after generating Java. </p></li><li><p id="bug_CP-869"><strong>CP-869 [37124]</strong> [IE10] The expand button of a sub-menu does not display. </p><p>The expand button of a sub-menu does not display.</p></li><li><p id="bug_CP-897"><strong>CP-897 [34600]</strong> The &#39;Grid edit [@SncGridEdit]&#39; service in a toolbar does not work. </p><p>When configuring the &#39;Grid edit [@SncGridEdit]&#39; service in a toolbar (current context or specific context), there is no toolbar on the associated table.</p></li><li><p id="bug_CP-941"><strong>CP-941 [34112]</strong> [LAYOUT] [IE] Some UI problems occur on the &#39;Create dataset&#39; screen. </p><p>When users create a dataset using the Package data model, some UI problems occur.</p></li><li><p id="bug_CP-1112"><strong>CP-1112 [36920]</strong> An error message should be displayed when users access an EBX&reg; instance by using a non-existent snapshot. </p><p>When users access an EBX&reg; instance by using a non-existent snapshot via a permalink web component, an error message should be displayed.</p></li><li><p id="bug_CP-1158"><strong>CP-1158 [37057]</strong> A technical error occurs when using HTTPS with an erroneous web access configuration. </p><p>A technical error occurs when using HTTPS when this protocol support is disabled in the main configuration file.</p></li><li><p id="bug_CP-1266"><strong>CP-1266 [37058]</strong> The external resources configuration is erroneously used to redirect to the user interface module. </p><p>The external resources configuration (<code>ebx.externalResources.http.path</code> or <code>ebx.externalResources.https.path</code>, depending on the protocol used) is erroneously used to redirect to the user interface module.</p></li><li><p id="bug_CP-1405"><strong>CP-1405 [36854]</strong> Users should be redirected back to the Web component link generator page after the Merge process ends. </p><p>Users should be redirected back to the Web component link generator page after merging.</p></li><li><p id="bug_CP-16298"><strong>CP-16298</strong> [All Browsers] The border of the &#39;Define your formula&#39; pop-up is not in the correct color. </p><p>The border of the &#39;Formula&#39; text box is both blue and red when users enter an invalid value into the text box.</p></li><li><p id="bug_CP-16310"><strong>CP-16310</strong> Unexpected fields display when selecting the &#39;Workflow&#39; service on the &#39;Web component link generator&#39;. </p><p>On the &#39;Web component link generator&#39;, when users select the &#39;[built-in] Workflow&#39; service, &#39;Dataspace&#39;, &#39;Dataset&#39; and &#39;Snapshot&#39; are still displayed.</p></li><li><p id="bug_CP-16355"><strong>CP-16355</strong> An unexpected error occurs on IE or Edge browsers when enabling single sign-on with a specific directory. </p><p>An unexpected error occurs with IE or Edge browsers when enabling a single sign-on with a specific directory.The &quot;An unexpected error occurred during hybrid mode initialization&quot; message is displayed in a dialog box.</p></li></ul>
<h3 id="bug590FixB-UsersPermissions">
Users &amp; Permissions</h3>
<ul>
<li><p id="bug_CP-1447"><strong>CP-1447 [37237]</strong> Regression in the Directory API. </p><p>It is impossible to connect to\EBX&reg;with a <code>UserReference</code> that would not be mapped to the login used on the login page.</p></li><li><p id="bug_CP-1998"><strong>CP-1998 [32114]</strong> While creating a record through an association, pre-filled fields should always be read-only. </p><p>While creating a record through an association based on a foreign key, the foreign key field is supposed to be pre-filled and read-only, if the foreign key is part of the record primary key, it is pre-filled but read-write.</p></li></ul>
<h2 id="bugfix590FixA">
5.9.0 fix A bug fixes</h2>
<h3 id="bug590FixA-Coreengine">
Core engine</h3>
<ul>
<li><p id="bug_30784"><strong>[30784]</strong> Publishing a data model after enabling replication could result in a blank screen and prevent users from logging in. </p><p>Publishing a data model after enabling replication could result in a blank screen when the data model publication fails because an existing value for a string field in the replicated dataset is larger that the maximum length set for the field in the model.</p><p>A <code>java.lang.NullPointerException</code> is logged and this error could prevent users from logging in.</p></li><li><p id="bug_CP-632"><strong>[35837]</strong> Very long duration for the &#39;select all records&#39; action from a hierarchy view. </p><p>When a user selects all records from a hierarchy view, and nodes are already collapsed, the process is very lengthy when the schema contains an <code>AccessRule</code> on records and fields. If not, the duration is normal.</p><p>Note: when a user expands the hierarchy nodes and selects all records, the duration is normal.</p></li><li><p id="bug_CP-846"><strong>[36912]</strong> Improve the API to offer a way to reload an add-on index under the protection of EBX&reg; write-locks. </p><p>Add method <code>AdaptationTableBridge.getAddonTableIndex(AdaptationTable, AddonTableIndexDefinition, boolean)</code>.</p></li><li><p id="bug_CP-1486"><strong>[36169]</strong> Validation reports remain in memory when closing the dataspace until the dataspace is deleted. </p><p>If the validation report is loaded in the Java cache using strong references, it remains in the Java cache until the dataspace deletion. As soon as the dataspace is closed, the strong references should be removed.</p></li><li><p id="bug_CP-1243"><strong>[36299]</strong> Calling the <code>SchemaLocation.getFileOrNull()</code> method may lead to an error. </p><p>Calling the <code>schemaLocation.getFileOrNull()</code> method may lead to a <code>java.lang.NullPointerException</code> error.</p></li></ul>
<h3 id="bug590FixA-Datamodeling">
Data modeling</h3>
<ul>
<li><p id="bug_34544"><strong>[34544]</strong> [LAYOUT] The border shape of the Help icon on the &#39;Dataspace&#39; field is wrong. </p><p>On the &#39;New dataset&#39; page of the model publishing process, the border shape of the Help icon is square instead of a circle as the guideline specifies.</p></li><li><p id="bug_34545"><strong>[34545]</strong> [LAYOUT] The background color of a parent button is not changed when creating a permission. </p><p>When creating a permission, the background color of a parent button is not changed if users focus on a field.</p></li><li><p id="bug_34551"><strong>[34551]</strong> The &#39;Module name&#39; and &#39;Path in module&#39; fields are not red when an error occurs on them. </p><p>On the &#39;Include a data model&#39; page, users save the record without defining any value on the &#39;Module name&#39; and &#39;Path in module&#39; fields, then the labels of the &#39;Module name&#39; and &#39;Path in module&#39; fields are not red.</p></li><li><p id="bug_34559"><strong>[34559]</strong> [LAYOUT] The title is displayed on the modal when running the &#39;Export xsd&#39; service. </p><p>The title is displayed on the modal when users run the &#39;Export xsd&#39; service on a data model.</p></li><li><p id="bug_36442"><strong>[36442]</strong> Incorrect data types are listed when creating a new field on the DMA. </p><p>On a data model with included data models, when creating a new field, under &#39;Data Type&#39;, when we switch from &#39;Included data models&#39; to &#39;Current data model&#39;, the combo box still lists the types from &#39;Included data models&#39;.</p></li></ul>
<h3 id="bug590FixA-Datavalidation">
Data validation</h3>
<ul>
<li><p id="bug_CP-1228"><strong>[36916]</strong> A validation message with a &quot;fatal&quot; severity is added when accessing a record with too many messages. </p><p>A validation message with a &quot;fatal&quot; severity is displayed in the validation report of a dataset when a user edits a record which contains too many validation messages.</p><p>This issue only occurs if the container table defines a constraint on a table with a record level check, and if the maximum number of validation messages is reached when this constraint checks the record.</p></li><li><p id="bug_CP-1518"><strong>[36511]</strong> Duplicated mandatory error message on a foreign key field. </p><p>Duplicated mandatory error message on a foreign key field when a specific constraint is declared on this field.</p></li></ul>
<h3 id="bug590FixA-Dataviews">
Data views</h3>
<ul>
<li><p id="bug_34218"><strong>[34218]</strong> [All browser] The icon level node on a hierarchy view displays inconsistently. </p><p>When users create a hierarchy view, the icon level node shows an inconsistency between the titles and the record view.</p></li><li><p id="bug_34988"><strong>[34988]</strong> A published view can be deleted from an HTTP request by any user. </p><p>A published view can be deleted from an HTTP request by any user, even if he is not the view owner.</p></li><li><p id="bug_35345"><strong>[35345]</strong> A new record is not displayed after the &#39;Create a record toolbar&#39; action if the target is a Web component. </p><p>When users create a record by using &#39;Create a record toolbar&#39;, on which the &#39;Target&#39; is defined as a &#39;Web component&#39;, the created record is not automatically displayed in the table view.</p></li><li><p id="bug_35364"><strong>[35364]</strong> [WRONG CONFIGURATION] The &#39;Merge view&#39; toolbar still displays when its defined dataspace has been closed. </p><p>The &#39;Merge view&#39; toolbar that uses &#39;Web component&#39; as a target is still displayed although its defined dataspace has been closed.</p></li><li><p id="bug_35550"><strong>[35550]</strong> A record on the table view is not updated when using the &#39;Access data [@default]&#39; service of the toolbar. </p><p>From the table view, access a record by using the &#39;Access data [@default]&#39; service of the toolbar, on which the &#39;Target&#39; is set to &#39;Web component&#39;, then modify that record, it is not updated on the table view.</p></li><li><p id="bug_36363"><strong>[36363]</strong> A blank page displays when pressing the &#39;Esc&#39; button on a record view. </p><p>Users open a hierarchy node. On the record form, when pressing the &#39;Esc&#39; button from the keyboard, an empty workspace is shown.</p></li><li><p id="bug_36399"><strong>[36399]</strong> Hierarchy view dimension filter is not applied when the &quot;Display non-matching children&quot; option is activated. </p></li></ul>
<h3 id="bug590FixA-Dataworkflows">
Data workflows</h3>
<ul>
<li><p id="bug_29782"><strong>[29782]</strong> When launching a dynamic sub-workflow invocation with no sub-workflow, the workflow is stuck waiting for a sub-workflow state. </p><p>When no sub-workflow is launched in a dynamic sub-workflow invocation, it goes to the next step without throwing an exception.</p></li><li><p id="bug_34231"><strong>[34231]</strong> When running the &#39;Export as PNG/SVG&#39; service on the workflow diagram, the exported file should be downloaded. </p><p>When users access the Workflow diagram service, then run &#39;Export as PNG/Export as SVG&#39;, the exported file should be downloaded.</p></li><li><p id="bug_34770"><strong>[34770]</strong> The breadcrumb disappears after closing the comment pop-up in a workflow. </p><p>In a data workflow, when users accept a task which displays the breadcrumb, click on the comment button then close the comment pop-up, the breadcrumb disappears.</p></li><li><p id="bug_34937"><strong>[34937]</strong> [LAYOUT] [All browsers] &#39;Specific icon url&#39; overlaps the text box in the &#39;Create a new priority&#39; screen. </p><p>In the &#39;Create a new priority&#39; screen in Workflows under &#39;Administration&#39;, the &#39;Specific icon url&#39; text overlaps the text box.</p></li><li><p id="bug_36266"><strong>[36266]</strong> When a work item is opened, the associated breadcrumb item can be clicked, but nothing happens on click. </p><p>When a work item is opened, the associated breadcrumb item seems to be clickable, but nothing happens on click.</p></li><li><p id="bug_36341"><strong>[36341]</strong> [Workflow model] A white page is displayed after exporting a PNG from the workflow diagram. </p><p>After the user clicks to export a PNG from the workflow diagram, a white page is displayed.</p></li><li><p id="bug_36357"><strong>[36357]</strong> A white page is displayed after exporting an SVG from the workflow diagram. </p><p>After the user clicks to export an SVG from the workflow diagram, a white page is displayed.</p></li></ul>
<h3 id="bug590FixA-DataspacesHistory">
Dataspaces &amp; History</h3>
<ul>
<li><p id="bug_36037"><strong>[36037]</strong> The &quot;restore from history&quot; service fails with a blank screen when the data model contains a non-terminal group. </p><p>The &quot;restore from history&quot; function fails with a blank screen when the data model contains a group whose access properties parameter specifies it is a non-terminal node. A <code>java.lang.NullPointerException</code> error is simultaneously logged.</p></li></ul>
<h3 id="bug590FixA-Userinterface">
User interface</h3>
<ul>
<li><p id="bug_17573"><strong>[17573]</strong> Field value is reset in the aggregated list when using a <code>UiBeanEditor</code>. </p><p>When disabling the edition with a <code>UIBeanEditor</code> for a field that belongs to an aggregated list, the field value is set to null for the items of the list that follow the first modified one.</p></li><li><p id="bug_32993"><strong>[32993]</strong> [All browsers] The border and error message of Dataspace key in the Data section disappear when focusing out. </p><p>When users leave blank Dataspace key in the Data section of Data service, then click on Next; a red border and an error message of the mandatory field Dataspace key in the Data section of Data service disappear when focusing out of this field.</p></li><li><p id="bug_33051"><strong>[33051]</strong> [IE/Egde] Alignment issue occurs when opening a drop-down list. </p><p>Open any drop-down list of the test EBX&reg; instance on IE and Edge browsers, an alignment issue occurs.</p></li><li><p id="bug_33053"><strong>[33053]</strong> [LAYOUT] The field value and the Preview button are not horizontally aligned in a read-only foreign key field. </p><p>When opening a record, the Preview button and the foreign key value are not horizontally aligned in a foreign key field in read-only mode.</p></li><li><p id="bug_34227"><strong>[34227]</strong><code>UILabelRenderer.displayLabel</code> is executed without session when executing a request. </p><p><code>UILabelRenderer.displayLabel</code> is executed without session when executing a request with an XPath filter such as <code>osd:contains-case-insensitive(osd:label(./fk),&#39;tryh&#39;)</code> where &#39;fk&#39; is a foreign key referring to a labelled table, even in the case when <code>setSession(..)</code> is called on the request.</p></li><li><p id="bug_34302"><strong>[34302]</strong> The navigation pane is not properly synchronized after re-initializing the validation report of a dataset. </p><p>After users reinitialize the validation report of a dataset and click on a table in the navigation pane, then open the menu under the &#39;Actions&#39; button, the &#39;view validation report&#39; service is displayed instead of validation.</p></li><li><p id="bug_34326"><strong>[34326]</strong> [LAYOUT][All browsers] A blank page displays when clicking on the Cancel button of an Export workflow task. </p><p>The message &#39;User logged out&#39; is not displayed when clicking on the Cancel button of an Export workflow task.</p></li><li><p id="bug_34432"><strong>[34432]</strong> [LAYOUT] The label of the group with an erroneous child is not properly colored. </p><p>When an error exists in a group, the label of the group is not colored with the proper color, as mentioned in the guidelines.</p></li><li><p id="bug_34491"><strong>[34491]</strong> [IE] The Copy/Paste service under the Edit menu of the grid view displays incorrectly. </p><p>On browser IE, the Copy/Paste service under the Edit menu of the grid view displays incorrectly.</p></li><li><p id="bug_34499"><strong>[34499]</strong> [All browsers] Avatar is not synchronized after being customized in the &#39;Ergonomics and layout&#39; section under &#39;Administration&#39;. </p><p>After customizing the field &#39;Avatar displayed in the header&#39; in the &#39;Ergonomics and layout&#39; section, the avatar is not synchronized.</p></li><li><p id="bug_34621"><strong>[34621]</strong> [LAYOUT] The design of the &#39;Export&#39;/&#39;Import&#39; archive page is erroneous. </p><p>When users run the &#39;Import&#39;/&#39;Export&#39; archive on a dataspace or workflow model, the design of these pages are not compliant with the guidelines.</p></li><li><p id="bug_34857"><strong>[34857]</strong> [All browser] The button allowing to switch from normal mode to reduced mode in a Perspective is not displayed. </p><p>The button allowing to switch from normal mode to reduced mode in a Perspective is not displayed.</p></li><li><p id="bug_35201"><strong>[35201]</strong> [All browsers] The &#39;Logout&#39; button displays when accessing an instance by using a permalink. </p><p>When users access an EBX&reg; instance by using a permalink, the &#39;Logout&#39; button displays in the top right corner of the EBX&reg; instance.</p></li><li><p id="bug_CP-739"><strong>[36555]</strong> An exception is logged as an error when the user&#39;s browser ends a connection. </p><p>An exception is logged as an error when the user&#39;s browser aborts a resource loading. An informative message in debug mode should be displayed instead.</p></li><li><p id="bug_35209"><strong>[35209]</strong> When displaying a record, the label of the table should be clickable in the breadcrumb. </p><p>When displaying a record, its label in the breadcrumb is &#39;Table: Record&#39;.</p><p>It should be possible to click on the &#39;Table&#39; part to go back to the table if the context allows navigating to the table.</p></li><li><p id="bug_35231"><strong>[35231]</strong> Group labels should be clickable. </p><p>Group labels should be clickable, not just the small arrow on the right.</p><p>Also, the entire line could be made clickable, rather than just the text.</p></li><li><p id="bug_35291"><strong>[35291]</strong> [All browsers] [LAYOUT] The confirmation pop-up is not centered in the workspace when running &#39;Reinitialize validation report&#39;. </p><p>The confirmation pop-up is too close to the right margin.</p><p>The confirmation pop-up should be at the center of the workspace after clicking on the &#39;Reinitialize validation report&#39; button on the &#39;Validation report&#39; screen on: Dataset/Data model/Workflow model/Administration.</p></li><li><p id="bug_CP-985"><strong>[36810]</strong> An error occurs when calling add-on services if a website icon is defined on the perspective. </p><p>An error occurs when calling add-on services if a website icon is defined for the perspective. It is caused by a <code>ClassCastException</code>.</p></li><li><p id="bug_35719"><strong>[35719]</strong> The &#39;See comment&#39; button does not work when changing a comment in the workflow task. </p><p>When entering or deleting a comment in an open task, the &#39;See comment&#39; button does not automatically display or update the content.</p></li><li><p id="bug_35831"><strong>[35831]</strong> The navigation pane displays incorrectly when creating a new record in the &#39;Access rights by profile&#39; table of a dataset. </p><p>When users create a new record in the &#39;Access rights by profile&#39; table of a dataset, &#39;Access rights by profile&#39; is not shown under the navigation pane.</p></li><li><p id="bug_35897"><strong>[35897]</strong> [IE][LAYOUT] An alignment problem occurs in the drop-down list of the &#39;Dataspace or snapshot&#39; field when comparing dataspaces. </p><p>When users run the &#39;Compare&#39; service under the &#39;Action&#39; menu in the Dataspace area, the arrow icons are not aligned with the dataspace name in the drop-down list of the &#39;Dataspace or snapshot&#39; field.</p></li><li><p id="bug_36084"><strong>[36084]</strong> The menu in the navigation pane is not highlighted when accessing a perspective using a permalink. </p><p>When users access the perspective using a permalink, the selected item to be displayed is not highlighted in the perspective navigation pane.</p></li><li><p id="bug_36166"><strong>[36166]</strong> [LAYOUT][All browsers] The text box displays incorrectly after setting the &#39;Character&#39; unit in the widget of a field. </p><p>On a string field, users configure a widget text box and set the width to &#39;Character&#39;. After users enter 100 zero numbers in this text box, the text box has a redundant whitespace.</p></li><li><p id="bug_36202"><strong>[36202]</strong> [LAYOUT][All browsers] Large gap between the tag label and the tag input of the &#39;Edit publication&#39; screen in a data model. </p><p>When users access the &#39;Edit publication&#39; screen of a data model, the gap between the tag label and the tag input is too large.</p></li><li><p id="bug_36218"><strong>[36218]</strong> [LAYOUT][All browsers] A modal with a form displays incorrectly after saving it. </p><p>On a modal with a form, after saving the form, the modal header and body are separated.</p></li><li><p id="bug_36220"><strong>[36220]</strong> [All browsers] The work item&#39;s header displays incorrectly after saving a comment. </p><p>On a work item, users add a comment. After saving that comment, the work item&#39;s header is changed.</p></li><li><p id="bug_36225"><strong>[36225]</strong> An empty pop-up displays when &#39;Create a dataset&#39; is forbidden. </p><p>The button &#39;Select DataSet&#39; should be replaced by a non-clickable button &quot;see picture_5.8.1&quot;.</p></li><li><p id="bug_36232"><strong>[36232]</strong> Custom scrollbars cannot be released over the workspace card when dragged. </p><p>Custom scrollbars cannot be released over the workspace card.</p></li><li><p id="bug_36326"><strong>[36326]</strong> [LAYOUT][All browsers] The &#39;Close&#39; button is missing when editing a workflow step under the diagram. </p><p>When users access a workflow step under the diagram, the &#39;Close&#39; button is not displayed.</p></li><li><p id="bug_36327"><strong>[36327]</strong> The tooltip is not displayed when hovering over the condition node of a workflow diagram. </p><p>When hovering over the condition node of a diagram, a tooltip is not displayed.</p></li><li><p id="bug_36331"><strong>[36331]</strong> [LAYOUT][All browsers] The &#39;New record&#39; window displays incorrectly on the navigation pane after closing a dataset sub-page. </p><p>The &#39;New record&#39; window displays in the wrong area on the navigation pane when users create a new record after closing the &#39;Web component link generator&#39; page.</p></li><li><p id="bug_CP-766"><strong>[36369]</strong> When EBX&reg; is configured to use no cookie, the display of a Web Component for the sub-session will fail. </p><p>When EBX&reg; is configured to use no cookie, a URL will not display correctly.</p></li><li><p id="bug_36340"><strong>[36340]</strong> [LAYOUT][IEs] Some UI problems occur on the &#39;Create dataset&#39; screen. </p><p>When users create a dataset using the Package data model, some UI problems occur.</p></li><li><p id="bug_36345"><strong>[36345]</strong> [LAYOUT] The confirmation dialog box does not comply with the guidelines. </p><p>The confirmation dialog box does not comply with the guidelines.</p></li><li><p id="bug_36365"><strong>[36365]</strong> [All browsers] A JavaScript error occurs when pressing the &#39;Esc&#39; button. </p><p>Users access a page of EBX&reg; and press the &#39;Esc&#39; button except for the preview of &#39;Web component link generator&#39;, a JavaScript error occurs.</p></li><li><p id="bug_36377"><strong>[36377]</strong> [LAYOUT][All browsers] The horizontal scroll bar is missing when applying a simple tabular view which uses fixed columns. </p><p>Users first apply &#39;Fix the (maximum) columns&#39; on a simple tabular view, then move all columns to the &#39;Displayed&#39; pane and click on Apply. On the created view, if the table has no records, the horizontal scroll bar is missing and not a single column is shown.</p></li><li><p id="bug_36387"><strong>[36387]</strong> [LAYOUT][All browsers] The &#39;Owner&#39; field displays incorrectly on the &#39;Duplicate/ Create a dataset&#39; page. </p><p>Users create/duplicate a dataset. On the &#39;Duplicate/ Create a dataset&#39; page, if the system has a user with a long name, the &#39;Owner&#39; field is enlarged on the right side.</p></li><li><p id="bug_36402"><strong>[36402]</strong> [IE 10] The checkbox and radio button should comply with the guidelines. </p><p>On IE 10, the checkbox and radio button should comply with the guidelines.</p></li><li><p id="bug_36560"><strong>[36560]</strong> [IE10][LAYOUT] An unexpected element displays on the &#39;Access denied&#39; page. </p><p>When users have no perspective, an unexpected element displays on their &#39;Access denied&#39; page.</p></li><li><p id="bug_36562"><strong>[36562]</strong> [LAYOUT][IE] A UI problem occurs on the &#39;Input help&#39; drop-down list on the create/update screen of the workflow item. </p><p>There are several UI problems when testing the &#39;Input help&#39; drop-down list on the workflow item&#39;s create/update screen on IE10 and IE11.</p></li><li><p id="bug_36617"><strong>[36617]</strong> Initials do not display if the directory is not the <code>defaultDirectory</code>. </p></li><li><p id="bug_36640"><strong>[36640]</strong> The width of the data navigation pane changes according to the length of the title of the dataspace. </p></li><li><p id="bug_36679"><strong>[36679]</strong> A specific URL to replace the default login page is not considered. </p><p>When a specific directory is implemented, if the login page is replaced by a dedicated URL, it does not work.</p></li><li><p id="bug_36729"><strong>[36729]</strong> The toolbar on the right side of a table is not displayed when the dataset has a long label. </p><p>When users access a table in a dataset that has a long label, the toolbar on the right side of a table such as View, Filter, Pagination is not displayed.</p></li></ul>
<h2 id="bugfix">
Bug fixes</h2>
<h3 id="bug-Coreengine">
Core engine</h3>
<ul>
<li><p id="bug_4720"><strong>[4720]</strong> Default values on fields are ignored when a Java Bean is defined on ancestor fields. </p><p>When a user defines default values on simple fields, these are ignored at record creation if a parent node specifies a Java Bean.</p></li><li><p id="bug_22306"><strong>[22306]</strong> Error when reducing the length of a primary key (or indexed) column on SQL Server. </p><p>On SQL Server, when reducing the length of a primary key column, IF the table contains no record exceeding this length, then EBX&reg; will allow issuing the corresponding DDL. But SQL Server then produces the error: &quot;The object &#39;EBX_HG_myTable_PK&#39; is dependent on column &#39;pk&#39;.&quot;</p><p>Note: Increasing the length of such a column does not cause an error.</p></li><li><p id="bug_26111"><strong>[26111]</strong> Replication fails if a column name is identical to a reserved word with H2 Database 1.4. </p></li><li><p id="bug_26651"><strong>[26651]</strong> The displayed association content is incomplete after creating a record (re-fix). </p><p>The displayed association content is incomplete after creating a record when a view is defined for the association and this view is first sorted by a boolean field in descending order.</p></li><li><p id="bug_28605"><strong>[28605]</strong> The performance of &#39;View history&#39; for a table should be improved. </p><p>Performance is degraded when viewing the history of tables with a few million records.</p></li><li><p id="bug_28934"><strong>[28934]</strong><code>SqlChecker</code> false positive on primary key deletion. </p><p><code>SqlChecker</code> prevents the execution of a script that both creates a table defining its primary key and then tries to drop the primary key constraint.</p><p>This is because the primary key existence check in the previous operation only takes the primary key creation into account. It should also check that the generated script includes the operations in an appropriate order.</p></li><li><p id="bug_29037"><strong>[29037]</strong> Improve the error message for the infinite cycle in inherited fields with no set field. </p><p>If the inheritance relationship defines a cycle in which no field is set, then an internal <code>StackOverflowError</code> is thrown and the end-user does not receive a useful explanation.</p></li><li><p id="bug_29161"><strong>[29161]</strong> Performance issues when accessing the record selector of a foreign key. </p><p>When accessing the record selector through a foreign key combo box, EBX&reg; always computes the full size of the view whereas it is supposed to skip the computation if the request computation is too heavy. This is due to a bug in the computation statistics of the request.</p></li><li><p id="bug_29188"><strong>[29188]</strong> The thread responsible for recording user preferences is stopped after startup. </p></li><li><p id="bug_29316"><strong>[29316]</strong> Deleting a dataspace or snapshot is slow in SQL Server. </p><p>Deleting a dataspace or snapshot takes a long time on a large repository if the underlying database is SQL Server.</p></li><li><p id="bug_29548"><strong>[29548]</strong> A deadlock can occur when starting EBX&reg;. </p></li><li><p id="bug_30222"><strong>[30222]</strong> EBX&reg; does not start when using Java SE 9. </p><p>When using Java 9, EBX&reg; fails to start with a <code>PreconditionFailure</code> error.</p></li><li><p id="bug_30359"><strong>[30359]</strong> Performance issue due to cache cleaning during dataspace deletion. </p><p>Deleting a dataspace can take several minutes due to slow cache cleaning.</p></li><li><p id="bug_30441"><strong>[30441]</strong> When using <code>SchemaFacetTableRef.getLinkedRecords(Adaptation)</code>, concurrent threads can interlock. </p><p>When using <code>SchemaFacetTableRef.getLinkedRecords(Adaptation)</code> on two tables with recursive foreign keys in <code>AddonTableIndex.loadIndex()</code> and inside a thread, this API hangs.</p></li><li><p id="bug_30997"><strong>[30997]</strong> Releasing the connection used by the repository ownership check could fail if an error occurs during this operation. </p></li><li><p id="bug_31347"><strong>[31347]</strong> The performance of <code>RequestResult.isEmpty()</code> should be improved. </p><p>The <code>isEmpty</code> method is called quite often, in particular for use cases that include the evaluation of permission rules, leading to poor performance. In many cases, the method triggers a query that needs to compute the full result, which can be costly especially if the tables are in relational mode.</p></li><li><p id="bug_32012"><strong>[32012]</strong> If another JVM is running on the same database repository at server start-up, the repository should be shut down. </p><p>If another JVM is running on the database repository at server start-up, the repository should be shut down.</p></li><li><p id="bug_32387"><strong>[32387]</strong> An exception upon schema compilation can lead to stale replicas in the database. </p><p>An exception upon schema compilation can lead to a desynchronization of the replicas if some tables of the data model are replicated.</p></li><li><p id="bug_32492"><strong>[32492]</strong> A module generating <code>ModuleDefinitionException</code> prevents access to the Manager. </p><p>When a module cannot register due to a <code>ModuleDefinitionException</code> (e.g a service without a name), the UI cannot be accessed and a white page is displayed.</p></li><li><p id="bug_32547"><strong>[32547]</strong> The SQL Checker should verify the naming of the constraints. </p></li><li><p id="bug_32548"><strong>[32548]</strong> When renaming a table, all related objects should also be renamed (constraint, indexes, etc.). </p></li><li><p id="bug_32590"><strong>[32590]</strong> The <code>ThreadLocal</code> format cache for <code>DateFormat</code> may be reset excessively. </p><p>The <code>ThreadLocal</code> format cache for <code>DateFormat</code> may be reset excessively, leading to poor performance.</p></li><li><p id="bug_32921"><strong>[32921]</strong> An error occurs due to unprotected access to the <code>HashMap</code> object. </p><p>A <code>ConcurrentModificationException</code> occurs while copying a validation context due to unprotected access to the <code>HashMap</code> object.</p></li><li><p id="bug_32930"><strong>[32930]</strong> Avoid updating on-commit replication tables in some cases. </p><p>Replica tables should not be updated in the case where the updated fields are all disabled for replication.</p></li><li><p id="bug_32931"><strong>[32931]</strong> Avoid updating all fields in the replica tables for on-commit replication. </p><p>Only fields which have actually been modified by a unit of work should be updated selectively.</p></li><li><p id="bug_33375"><strong>[33375]</strong> Inappropriate error when updating a table while replication is activated. </p><p>EBX&reg; detects that another thread is executing a procedure on the dataspace.</p></li><li><p id="bug_33901"><strong>[33901]</strong> Optimizations regarding SQL requests on <code>EBX_HV_TX_STAT</code>. </p><p>The overall performances of the application can be impacted by long SQL requests on <code>EBX_HV_TX_STAT</code>, new indexes may be required.</p></li><li><p id="bug_33912"><strong>[33912]</strong> &quot;CASE&quot; should be a reserved word for the H2 database policy. </p><p>H2 database accepts table creation with a column named &quot;CASE&quot; but this column cannot be queried by giving its name explicitly in a SELECT or WHERE clause. The statement fails with error:</p><p><code>org.h2.jdbc.JdbcSQLException</code>: Syntax error in SQL statement &quot;SELECT CASE,[*] OP FROM JFBHG_TABLE201 &quot;; expected &quot;., WHEN, NOT, EXISTS, SELECT, FROM&quot;;</p><p>As a consequence, the test <code>ReservedWordsForFieldNamesHistoryTest</code> should be more aggressive by inserting and retrieving records from the created history tables.</p></li><li><p id="bug_33984"><strong>[33984]</strong> The exception thrown while closing the database connection is silently dropped. </p><p>The exception thrown while closing database connection is silently dropped.</p></li><li><p id="bug_34388"><strong>[34388]</strong> &quot;Table block does not exist in database&quot; errors. </p><p>Due to a memory leak, the semantic cache can contain corrupted data that makes the cache unreadable.</p></li><li><p id="bug_34534"><strong>[34534]</strong><code>SimpleDateFormat</code> unsafe for multi-threaded use. </p><p><code>DateFormats</code> are inherently unsafe for multi-threaded use.</p></li><li><p id="bug_35069"><strong>[35069]</strong> The purge clean-up process does not clean up data from semantic tables. </p></li><li><p id="bug_35796"><strong>[35796]</strong> Using fail-over, registered modules remain in &quot;init&quot; state after waking up the standby instance when using the Java API. </p><p>Using fail-over, registered modules remain in the &quot;init&quot; state after waking up the standby instance when using the Java API. This does not occur when waking via the HTTP request.</p></li><li><p id="bug_35958"><strong>[35958]</strong> Custom indexes are not used when performing requests with ORs on an indexed field. </p></li><li><p id="bug_36106"><strong>[36106]</strong> Unresponsive UI when setting sort criteria on a large table. </p><p>When setting sort criteria on a large table, the delay is very long, and no information is displayed in the UI: it might look like it is frozen.</p></li></ul>
<h3 id="bug-Datamodeling">
Data modeling</h3>
<ul>
<li><p id="bug_31191"><strong>[31191]</strong> The data model assistant displays the custom message input box for pattern constraint when only one locale is enabled. </p><p>The data model assistant displays the custom message input box for the pattern constraint when only one locale is enabled.</p></li><li><p id="bug_32597"><strong>[32597]</strong> In the DMA, it is not possible to define custom programmatic constraints at the table-level in a relational data model. </p><p>In the DMA, it is not possible to define a programmatic constraint implementing <code>ConstraintOnTable</code> in a relational data model.</p></li><li><p id="bug_33962"><strong>[33962]</strong> The &quot;day-from-date&quot; function returns an incorrect value. </p></li><li><p id="bug_33988"><strong>[33988]</strong> The &quot;year-from-date&quot; function has an incorrect type. </p><p>The type in the signature of the &quot;year-from-date&quot; function should be &quot;Integer&quot; instead of &quot;String&quot;.</p></li><li><p id="bug_34288"><strong>[34288]</strong> Labels display inconsistently between an association and a field in the data model. </p><p>After setting a label for an association and a field, the label is displayed correctly in the workspace for the field, but incorrectly for an association.</p></li><li><p id="bug_34577"><strong>[34577]</strong> [LAYOUT][All browsers] An alignment problem occurs when users create/open a record on the &#39;User services&#39; screen. </p><p>When users open/create a record on the &#39;User services&#39; screen, the Boolean on the &#39;Confirm before launch&#39; field is not aligned with other fields.</p></li><li><p id="bug_35273"><strong>[35273]</strong> An error occurs when re-importing a packaged data model that includes another data model. </p><p>An error occurs when exporting and re-importing a packaged data model that includes another data model packaged in the same module. The error indicates that the included one cannot be found.</p></li></ul>
<h3 id="bug-Dataservices">
Data services</h3>
<ul>
<li><p id="bug_27369"><strong>[27369]</strong> Updated records should not be considered if fields are declared as hidden in the default view. </p><p>When the &quot;get changes&quot; operation is applied to a table, if all updated fields are declared hidden in the data service, the record should not be written in the response.</p></li><li><p id="bug_29008"><strong>[29008]</strong> Access forbidden for non-admins with &#39;systemInformation&#39; SOAP or REST operations, even if declared in global permissions. </p><p>In the &#39;Global permissions&#39;, when a non-admin user has been given rights to access &#39;System information&#39;: using that non-admin user account to execute &#39;systemInformation&#39; from SOAP or REST operations, the response always returns an &#39;access forbidden&#39;.</p></li><li><p id="bug_29801"><strong>[29801]</strong> Several authentication methods should be not authorized. </p><p>When several authentication methods are used from a SOAP or a REST request, it should not be authorized and an exception should be returned.</p></li><li><p id="bug_30284"><strong>[30284]</strong> Calling <code>Repository.createSessionFromSOAPHeader</code> can end in a <code>java.lang.ClassCastException</code>. </p><p>Calling <code>Repository.createSessionFromSOAPHeader</code> can raise a <code>java.lang.ClassCastException</code>.</p></li><li><p id="bug_31093"><strong>[31093]</strong> An error can occur if the predicate of the SOAP select operation is a number. </p><p>When a SOAP select operation is used with a predicate parameter that conforms to an expression but does not conform to a predicate expression, then a <code>ClassCastException</code> is thrown.</p></li><li><p id="bug_31333"><strong>[31333]</strong> Documentation is needed for the deletion of records that do no exist in SOAP. </p><p>An error can occur when executing a &#39;delete&#39; operation on a record that does not exist and needs to be included in the documentation.</p></li><li><p id="bug_32369"><strong>[32369]</strong> REST sort and filter parameters should not return a status code 500 even if an illegal syntax is used. </p><p>When invoking a REST select operation (data or history category) by using a <code>sort</code> or <code>filter</code> parameter value, especially when using an illegal syntax, the operation should not return an HTTP status code &#39;500 Internal Error&#39;, but a &#39;400 Bad Request&#39;.</p></li><li><p id="bug_33126"><strong>[33126]</strong> When a group contains only an association, the group level element is not present in the SOAP response. </p><p>When a group contains only an association, the group level element is not present in the SOAP response. The association values are directly under the table element.</p></li><li><p id="bug_33272"><strong>[33272]</strong> REST forward throws a <code>ServletException</code> for recent Tomcat versions. </p><p>When a user interface component uses REST forward to access the REST API, it aborts on recent Tomcat versions (Tomcat 7.0.55+, 8.0.10+, 8.5.x and 9.0.x).</p></li><li><p id="bug_33871"><strong>[33871]</strong> The SOAP insert operation aborts if the record field name is equal to the table name. </p><p>A <code>NullPointerException</code> error may occur when executing a data service SOAP operation when two nodes have the same name at different levels in the data model. This issue is also present in the XML table import.</p></li><li><p id="bug_34168"><strong>[34168]</strong> An error occurs while executing a REST call from a manager component. </p><p>An error occurs while executing a REST call using the URL retrieved using <code>UIResourceLocator.getURLForRest</code> in a sub-session context.</p></li><li><p id="bug_35578"><strong>[35578]</strong> Missing documentation for REST &quot;Metadata&quot; service property <code>valueFunction</code>. </p><p>Missing documentation for REST &quot;Metadata&quot; service property <code>valueFunction</code>, <code>pathInDataset</code> and <code>history</code>.</p></li><li><p id="bug_35740"><strong>[35740]</strong> REST authentication method &#39;Standard&#39; failed if password is not defined in the request. </p><p>When a REST request is invoked with a &#39;Standard&#39; authentication method on built-in or toolkit, and if the &#39;password&#39; parameter is not defined, the response status is 500.</p></li></ul>
<h3 id="bug-Datavalidation">
Data validation</h3>
<ul>
<li><p id="bug_3432"><strong>[3432]</strong> When validation threshold is reached for a constraint on a field, other constraints on the same field are not executed. </p><p>When the validation threshold is reached for a constraint on a given field, an error message is added to this field for every record of the table and other constraints on the same field are no longer executed.</p><p>The validation threshold should not have an impact on other constraints.</p></li><li><p id="bug_12800"><strong>[12800]</strong> An association create or attach should consider the association filter. </p><p>It should not be possible to create or to associate a record through an association if the created record does not match the association filter (<code>osd:association/xpathFilter</code>) or constraint (<code>osd:association/constraint</code>).</p></li><li><p id="bug_24218"><strong>[24218]</strong> Validation error messages raised by <code>TableRefFilter</code> are disappearing when returning to the table view. </p><p>Validation error messages raised by <code>TableRefFilter</code> while accessing a record are disappearing when returning to the table view.</p></li><li><p id="bug_26378"><strong>[26378]</strong> There are redundant error messages when having more than 100 validation errors. </p><p>In the response of REST service for the case the dataset contains more than 100 messages, when getting the messages for each record by using API getValidationReport(), the error message &quot;Validation stopped because of too many errors (above 100).&quot; is always attached to each record and field.</p></li><li><p id="bug_27632"><strong>[27632]</strong> When the validation message threshold is exceeded, all records of the table have an error icon. </p><p>When the number of error messages for a constraint is greater than the configured threshold (<code>ebx.validation.constraints.messages.threshold</code>), all records of the table have an error icon.</p></li><li><p id="bug_29837"><strong>[29837]</strong> A validation error remains in the validation report even after the correction and cannot be removed by validating again. </p></li><li><p id="bug_30036"><strong>[30036]</strong> Performance issue when applying a validation filter to a table with record errors coming from a constraint on table. </p><p>Performance issue when applying a validation filter to a table with errors at the record level coming from a constraint on table.</p></li><li><p id="bug_30428"><strong>[30428]</strong> A validation error remains in the validation report even after the correction when the threshold is reached. </p></li><li><p id="bug_30653"><strong>[30653]</strong> Validating a table after correcting errors could lead to a fatal error. </p><p>Validating a table could lead to a fatal error. This could occur after errors, information and warning messages from previous validation reports have been removed.</p></li><li><p id="bug_30853"><strong>[30853]</strong> Performance issues during validation due to the retrieval of the dataset activation state for each validated record. </p></li><li><p id="bug_30900"><strong>[30900]</strong> Performance issues when validating an inherited dataset foreign keys. </p><p>When adding or deleting a new record in an inherited dataset, the incremental validation will search for records having a foreign key targeting the newly created or deleted record. Since the indexes are not present on foreign key fields with inheritance, the request response time is not optimized.</p></li><li><p id="bug_31044"><strong>[31044]</strong> Uniqueness constraint violation message could still be erroneously displayed after the error correction. </p></li><li><p id="bug_32162"><strong>[32162]</strong> Validation message threshold should be ignored when validating a record. </p><p>The validation message threshold is applied when validating a record. This property should be ignored and an up-to-date validation report should be computed when validating a record.</p><p>However, if the threshold has previously been reached by a constraint in a table, the validation of a record must not impact the validation report of the dataset.</p></li><li><p id="bug_33146"><strong>[33146]</strong> A &#39;null&#39; string in an enumeration is handled as an empty string. </p></li><li><p id="bug_35422"><strong>[35422]</strong> Erroneous validation report when the validation threshold is reached. </p></li></ul>
<h3 id="bug-Dataviews">
Data views</h3>
<ul>
<li><p id="bug_13283"><strong>[13283]</strong> Inconsistency of the collapse/expand state when filtering the search pane in a hierarchy view. </p><p>On the search pane, when filtering the &#39;Search and Validation&#39; block, the result is collapsed when nodes are collapsing. However, the result is expanded when filtering using the Text search block.</p><p>After filtering the &#39;Search and Validation&#39; block, the hierarchy keeps its collapse/expand state whereas, when filtering using the Text search, the hierarchy does not keep its collapse/expand state.</p></li><li><p id="bug_17372"><strong>[17372]</strong> Unexpected error is displayed when checking the constraint of a field under a complex list. </p><p>This issue occurs on a field under a complex list which defines a constraint. After the user creates a record with the specified value for this field, an unexpected error displays.</p></li><li><p id="bug_18249"><strong>[18249]</strong> While creating a record from a hierarchical view, it is not possible to get the foreign key value in a trigger method. </p><p>While creating a new record through the hierarchy &#39;create&#39; action, the value of the foreign key is prefilled in the form.</p><p>However, it is not possible to retrieve that value in the method <code>handleNewContext</code> of a <code>TableTrigger</code>.</p></li><li><p id="bug_28133"><strong>[28133]</strong> Applying the &#39;Search&#39; filter to a dataset returns incorrect results. </p><p>After the user applies the &#39;Search&#39; filter to a dataset with the &#39;contains&#39; operator, the search result is erroneous.</p></li><li><p id="bug_29236"><strong>[29236]</strong> In a web component specifying a predicate, the hierarchical view is not expanded to the records that match the predicate. </p><p>In a web component, if the selection specifies a predicate, the hierarchical view is not expanded to the records that match the predicate, although</p><p>the method <code>UIHttpManagerComponent.setFirstCallDisplayHierarchyExpanded()</code> is called.</p></li><li><p id="bug_30507"><strong>[30507]</strong> An error can occur when opening a hierarchy joint record in a manager component. </p><p>A <code>NullPointerException</code> error can occur when opening a hierarchy joint record in a manager component.</p></li><li><p id="bug_30966"><strong>[30966]</strong> Performance issues due to hierarchy views when the repository contains numerous dataspaces. </p><p>Performance issues can be experienced due to hierarchy views when the repository contains numerous dataspaces.</p></li><li><p id="bug_31339"><strong>[31339]</strong> Sorting a filtered table on a foreign key field results in an error. </p><p>Sorting a table on a foreign key field in a filtered view results in an &quot;error occurred while building the response&quot; message. A related &quot;unexpected error in request computation&quot; can then be found in the log file.</p></li><li><p id="bug_33856"><strong>[33856]</strong> Erroneous returned value when a custom filter is set on the view in an association context. </p><p>According to the Javadoc, the <code>AssociationEntitySelection.getAllRecords()</code> method is supposed to return &quot;all records for the association from the selected table&quot;. However, when a custom filter is applied to the association view (not the one declared in the association definition), it returns the filtered result.</p></li><li><p id="bug_33863"><strong>[33863]</strong> Moving a record in an association context can throw an exception when a filter is defined on this association. </p><p>When a filter is set on an association, using the &quot;@associationMove&quot; user service on an associated record in the user interface can lead to an exception.</p></li></ul>
<h3 id="bug-Dataworkflows">
Data workflows</h3>
<ul>
<li><p id="bug_28446"><strong>[28446]</strong> An error occurs when executing the action &quot;Show in graphical view&quot; on the initial transition. </p><p>On the workflow model steps page, an error occurs when executing the action &quot;Show in graphical view&quot; on the initial transition.</p></li><li><p id="bug_28496"><strong>[28496]</strong> An error occurs when launching a parent workflow whose sub-workflow is missing a first step. </p><p>The model publication is too permissive: a parent model can be published even if it has sub-workflows that do not have a first step.</p><p>After launching, the parent workflow throws an error because it failed to handle the sub-workflow.</p><p>The publication of models containing sub-workflows that do not have a first step needs to be forbidden.</p></li><li><p id="bug_28768"><strong>[28768]</strong> Incorrect button name in the workflow launchers actions when enabling quick launch in the workflow model configuration. </p><p>When users activate the quick launch in the &#39;Workflow model configuration&#39;, the &#39;Quick launch&#39; button is not available in the &#39;Workflow launchers&#39; actions.</p></li><li><p id="bug_28968"><strong>[28968]</strong> The History purge parameters need to be logged. </p><p>In order to help with the diagnosis in case of problems, we need to log the purge parameters.</p></li><li><p id="bug_29007"><strong>[29007]</strong> Inconsistent user task labels when creating it from the service menu and when creating a step from a condition. </p><p>In the workflow model, the label of a user task when selecting it from the service menu is &#39;User task with multiple work items&#39;, but when creating a step from a condition, the label is &#39;User task [Legacy mode]&#39;.</p></li><li><p id="bug_29354"><strong>[29354]</strong> Intermediate transaction commits are required during the workflow history purge. </p></li><li><p id="bug_30417"><strong>[30417]</strong> Aggressive error when the role of a user task has no user. </p><p>If one of the role of a user task has no user, an <code>OperationException</code> is created, which is too aggressive.</p><p>Indeed, even though we have one role which contains users, the workflow will launch an OperationException if at least one of the listed roles is empty.</p><p>The correct behavior is to offer the work item to the users available and ignore the empty roles.</p><p>If no users are found in all the &quot;offered to&quot; roles, then we throw an OperationException.</p></li><li><p id="bug_31184"><strong>[31184]</strong> HTML tags should not be applied in the workflow inbox cells. </p></li><li><p id="bug_32168"><strong>[32168]</strong> An error occurs while retrieving a <code>SessionInteraction</code>. </p><p>A <code>NullPointerException</code> can occur while retrieving a <code>SessionInteraction</code> from the method <code>WorkflowEngine.createOrOpenInteraction</code>.</p><p>It happens when the &quot;service&quot; input is missing from the interaction.</p></li><li><p id="bug_33386"><strong>[33386]</strong> A workflow remains in an inconsistent state when a work item is accepted twice in a user task extension. </p></li></ul>
<h3 id="bug-DataspacesHistory">
Dataspaces &amp; History</h3>
<ul>
<li><p id="bug_30446"><strong>[30446]</strong> The &#39;All history&#39; value is not selected by default on the &#39;Delete history of dataspaces recursively&#39; screen. </p><p>Users first select a dataspace to delete history, then select &#39;History before&#39; and click on the &#39;Cancel&#39; button: this value is still displayed when users select another dataspace to delete history.</p></li><li><p id="bug_31761"><strong>[31761]</strong> An error occurs on history tables after increasing the primary key fields maximum length. </p><p>An error occurs on history tables after increasing the primary key fields maximum length. This issue occurs when the table contains multi-valued fields.</p></li><li><p id="bug_32497"><strong>[32497]</strong> The &#39;Merge information&#39; field of a history record obtained through the Java API is empty. </p><p>The technical field <code>merge_info</code> of a history record obtained by executing a <code>Request</code> on a history table is always <code>null</code>.</p></li></ul>
<h3 id="bug-Documentation">
Documentation</h3>
<ul>
<li><p id="bug_29386"><strong>[29386]</strong> Search results and page index links are incorrect in reverse proxy mode. </p><p>The documentation search engine creates erroneous document links if the properties <code>ebx.servlet.*</code> or <code>ebx.externalResources.*</code> are not set to default.</p></li><li><p id="bug_30980"><strong>[30980]</strong> Improve the <code>WorkflowEngine.forceTerminationWithoutCleaning()</code> method in the Javadoc specifying restrictions. </p><p>The <code>WorkflowEngine.forceTerminationWithoutCleaning()</code> works only to force termination of sub-workflows in order to wake up the the parent and to terminate the workflow in error. These restrictions must be specified more clearly in the Javadoc.</p></li><li><p id="bug_32804"><strong>[32804]</strong> The documentation of the property <code>inheritedFieldMode</code> in RESTful operations is incorrect. </p><p>In the inheritance paragraph of the RESTful operations, the description of the <code>inheritedFieldMode</code> property is incorrect. It is the same as the description of the <code>inheritanceMode</code> property.</p></li><li><p id="bug_36319"><strong>[36319]</strong> The &quot;Installation note for Tomcat 8.x&quot; page displays an alert. </p><p>When accessing the documentation page &quot;Installation note for Tomcat 8.x&quot;,</p><p>a JavaScript alert pop-up displays &quot;SyntaxHighlighter Can&#39;t find brush for: bash&quot;.</p><p>This behavior is unexpected.</p><p><code>SyntaxHighlighter</code> should be updated to accept bash.</p></li></ul>
<h3 id="bug-ImportExport">
Import / Export</h3>
<ul>
<li><p id="bug_30515"><strong>[30515]</strong> A <code>java.lang.NullPointerException</code> can occur when importing an archive with dataset inheritance enabled. </p><p>A <code>java.lang.NullPointerException</code> can occur when importing an archive with a changeset if the dataset inheritance is enabled. This error occurs when the archive contains a record update from overwritten to inherited in a child dataset.</p></li></ul>
<h3 id="bug-Miscellaneous">
Miscellaneous</h3>
<ul>
<li><p id="bug_32197"><strong>[32197]</strong> Add-on subscription licensing is not supported. </p></li></ul>
<h3 id="bug-Userinterface">
User interface</h3>
<ul>
<li><p id="bug_21728"><strong>[21728]</strong> The URL obtained from <code>ServiceContext.getURLForViewSelection</code> does not give access to the published view. </p></li><li><p id="bug_23841"><strong>[23841]</strong> The URL for ending a service is erroneous while calling a service from a toolbar on a row. </p><p>Instead of redirecting the user to the table view, the user is redirected to the record form view.</p></li><li><p id="bug_27967"><strong>[27967]</strong> The &quot;Merge&quot; field is empty in the history record form. </p></li><li><p id="bug_28916"><strong>[28916]</strong> Functions return an incorrect result when they are used by an XPath filter. </p><p>Functions return an incorrect result when they are used by an XPath filter. For example: &#39;Predicates on record label&#39;.</p><p>In a foreign key with a filter defined, the values are filtered correctly but an error message is displayed when the user saves the form.</p></li><li><p id="bug_29106"><strong>[29106]</strong> The sort criteria is ignored when using a <code>TableRefDisplay</code>. </p><p>The sort criteria is ignored when using a <code>TableRefDisplay</code>. The foreign key values are sorted depending on their labels.</p></li><li><p id="bug_29226"><strong>[29226]</strong> The <code>initialize()</code> method is not called when displaying a user service on an association entity selection. </p><p>The <code>initialize()</code> method is not called when displaying a user service in the context of an association.</p></li><li><p id="bug_29285"><strong>[29285]</strong> An exception occurs when opening a dataset field under a multi-value group. </p><p>In a multi-value group containing a dataspace field and a dataset field, if the value of the dataset field is filled by the dataspace field, an exception is raised when opening the dataset field.</p></li><li><p id="bug_29312"><strong>[29312]</strong> The record label is erroneous when it contains a dataspace field. </p><p>When the record label contains a dataspace field, the record label displays incorrectly.</p></li><li><p id="bug_29349"><strong>[29349]</strong> Root sessions are created due to a malformed Ajax request when working with the expand/collapse block in a user service. </p></li><li><p id="bug_30040"><strong>[30040]</strong> The perspective default selection is not taken into account after logging in. </p><p>The perspective default action is not selected after accessing the perspective straight after the login page.</p></li><li><p id="bug_30133"><strong>[30133]</strong> Some values in an aggregated list can be lost when saving a form after correcting a blocking error in the list. </p></li><li><p id="bug_30620"><strong>[30620]</strong> When using the Grid Edit, warnings and information messages are treated as blocking errors. </p><p>When using the Grid Edit, warnings and information messages are treated as blocking errors and prevent updates from being applied.</p></li><li><p id="bug_30894"><strong>[30894]</strong> The first tab should always be selected when opening a record. </p><p>When opening a record, the tab that was last selected when viewing the previous record is displayed instead of the first one.</p></li><li><p id="bug_30944"><strong>[30944]</strong> Security issues due to the redirection URI. </p><p>Add the ability to configure a list of possible domains and protocols usable with the redirection URI feature.</p></li><li><p id="bug_31113"><strong>[31113]</strong> Implementing a dataspace user service without display leads to a &quot;service does not exist in the request&quot; error. </p></li><li><p id="bug_31353"><strong>[31353]</strong> The <code>initialize()</code> method is not called when the user service is launched from a JavaScript button. </p><p>The method <code>initialize()</code> is not called with an extended user service launched from a JavaScript button.</p></li><li><p id="bug_31363"><strong>[31363]</strong> An error occurs when executing a dataspace level module service using <code>UIHTTPManagerComponent</code> in a form. </p><p>An error occurs when executing a dataspace level module service using a <code>UIHTTPManagerComponent</code> inside a <code>UIForm</code>.</p><p>This issue only appears when there is only one dataset in the dataspace.</p></li><li><p id="bug_31599"><strong>[31599]</strong> Performance is degraded on tables that contain a large number of columns and foreign keys. </p></li><li><p id="bug_31851"><strong>[31851]</strong> The <code>initialize()</code> method is not called when running a user service from a perspective action. </p><p>The <code>initialize()</code> method is not called when running a user service from a perspective.</p></li><li><p id="bug_32280"><strong>[32280]</strong> Included JavaScript or CSS resources should be ordered by their module&#39;s nature and name. </p><p>When an HTML page is generated, the JavaScript and CSS resources should be in the following order: core modules first, then add-on modules, and finally specific modules.</p></li><li><p id="bug_32488"><strong>[32488]</strong> Dataspace and dataset labels are not escaped upon display in the dataspace and dataset selectors. </p></li><li><p id="bug_33613"><strong>[33613]</strong><code>UIHTTPManagerComponent.getURIToMyProfileWithParameters</code> erroneously appears in the Javadoc. </p><p><code>UIHTTPManagerComponent.getURIToMyProfileWithParameters</code> is not a public API method and should not be in the Javadoc.</p></li><li><p id="bug_33712"><strong>[33712]</strong> A message added by <code>ebx_form_setNodeMessage</code> may not remain displayed. </p><p>If the JavaScript method <code>ebx_form_setNodeMessage</code> is triggered after the user has changed the value of the component (<code>UIAtomicWidget.setActionOnAfterValueChanged</code>), the added message disappears when loosing the focus from the component if the click is slow.</p></li><li><p id="bug_33753"><strong>[33753]</strong> Parent record is not updated while updating a record through a trigger on an associated table. </p><p>In a UI form containing an association, if the end user modifies associated objects (create, update, delete), a trigger modifies a field value in the parent object.</p><p>Then the value in the parent form is supposed to be updated, it is not untill you click on &quot;revert&quot;.</p></li><li><p id="bug_34931"><strong>[34931]</strong> The <code>initialize()</code> method is not called when displaying a user service as a Web component. </p><p>The <code>initialize()</code> method is not called when displaying a user service in the context of a Web component.</p></li><li><p id="bug_36183"><strong>[36183]</strong> [All browsers] The &#39;...&#39; icon is not shown in the drop-down list of a foreign key field that has a specified &#39;Page size&#39;. </p><p>When users set a value for the &#39;Page size&#39; field in the &#39;Parameter&#39; tab of a foreign key widget, the &#39;...&#39; icon is not displayed when opening the drop-down list.</p></li><li><p id="bug_36204"><strong>[36204]</strong> The perspective menu tree is not opened up to the default perspective action. </p><p>When accessing a perspective with a default action set, the perspective menu tree is not opened up to the default perspective action when this action is a group child.</p></li></ul>
<h3 id="bug-UsersPermissions">
Users &amp; Permissions</h3>
<ul>
<li><p id="bug_31231"><strong>[31231]</strong> When executing the built-in &quot;duplicate&quot; service in a user task, the primary key of the record to create is read-only. </p><p>When executing the built-in &quot;duplicate&quot; service in a user task, the primary key of the record to create is read-only. It should be writable, otherwise, it is impossible to create a record.</p></li><li><p id="bug_31446"><strong>[31446]</strong> Login and password are trimmed while connecting through the EBX&reg; login page. </p><p>When connecting to EBX&reg;, users who have a space character at the start or end of their password can&#39;t log on. The string is trimmed prior to being sent to the directory implementation.</p></li><li><p id="bug_31500"><strong>[31500]</strong> Method <code>TableViewEntitySelection.getselectedRecords</code> should never return null, as mentioned in the Javadoc. </p><p>In a <code>UserServicePermissionRule</code>, when no record is selected, the returned request is null.</p></li><li><p id="bug_31528"><strong>[31528]</strong> A service rule on &quot;tableView&quot; set by <code>setServicePermissionRuleOnNode</code> should apply to single record contexts. </p><p>As mentioned in the Javadoc of the method <code>SchemaExtensions.setServicePermissionRuleOnNode</code>, setting a <code>ServicePermissionRule&lt;TableViewEntitySelection&gt;</code> on a table node should also make that rule apply to single record contexts such as the record form.</p></li><li><p id="bug_31670"><strong>[31670]</strong><code>Directory.isUserInRole()</code> is erroneously called with <code>Profile.OWNER</code> when viewing a dataspace. </p><p>The <code>Directory.isUserInRole()</code> method is erroneously called with the <code>Profile.OWNER</code> role as parameter when viewing a dataspace in contradiction with the Javadoc method statements.</p></li><li><p id="bug_31703"><strong>[31703]</strong><code>TableViewEntitySelection.getFilteredRecords</code> returns a wrong request for an association inline display. </p><p><code>TableViewEntitySelection.getFilteredRecords</code> returns a wrong request for an association inline display. This request does not filter the records according to the defined association.</p></li><li><p id="bug_31914"><strong>[31914]</strong> Disabling the &#39;create&#39; service still allows the creation of a record via the foreign key combo box. </p><p>Disabling the &#39;create&#39; service globally via a UI permission or with a <code>ServicePermissionRule</code> for a table still allows the creation of a record from a foreign key on that table.</p></li><li><p id="bug_32147"><strong>[32147]</strong> In a <code>ServicePermissionRule</code>, the context can be erroneous when the service is called from a table. </p><p>In a <code>ServicePermissionRule&lt;RecordEntitySelection&gt;</code>, the <code>getRecord()</code> method should always return <code>null</code> when the user service is called for display in a table view. However, when a record is selected in a table view, the selected record is actually returned.</p></li><li><p id="bug_32710"><strong>[32710]</strong> Service permission rules on DELETE services are ineffective when deleting from an association. </p></li><li><p id="bug_32851"><strong>[32851]</strong> Performance issues while launching a legacy user service on a record with a <code>ServicePermission</code>. </p><p>When many records are selected, performance is strongly degraded when launching a legacy user service with a <code>ServicePermission</code>.</p></li><li><p id="bug_33042"><strong>[33042]</strong> Unable to use the &quot;associate&quot; action due to an erroneous resolution of permissions. </p><p>The association is based on an inverse foreign key, the foreign key is writable, other fields of the associated table are read-only, the &quot;associate&quot; action is not proposed in the &quot;action&quot; combo-box.</p></li><li><p id="bug_33527"><strong>[33527]</strong> Performance issues while launching a user service when using a complex filter. </p><p>When using a complex filter in a table view and after selecting many records, launching a user service can be very slow.</p></li><li><p id="bug_33869"><strong>[33869]</strong> When a toolbar is declared on rows, the service permissions on datasets should not be evaluated for each record. </p><p>The static permissions declared at the dataset level are evaluated for each row of the view, this leads to performance issues when several custom services buttons are declared in the toolbar.</p></li></ul>
<div id="ebx_breadcrumbBottom">
<span class="ebx_breadcrumbLabel"><a href="./index.html">Release Notes</a></span></div>
</div>
<p id="ebx_footer"><b>TIBCO EBX® Version 6.0.1. </b>Copyright &copy; <a href="https://www.tibco.com" target="_blank" style="text-decoration: none;">TIBCO&nbsp;Software&nbsp;Inc.</a> 2001-2021. All rights reserved.<br></br>All third party product and company names and third party marks mentioned in this document are the property of their respective owners and are mentioned for identification.</p></div>
<script type="text/javaScript" src="../resources/yui/yahoo/yahoo-min.js">
</script>
<script type="text/javaScript" src="../resources/yui/event/event-min.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_doc_utils.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_simplePage.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shCore.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushBash.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushCss.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushDiff.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushJava.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushJScript.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushPlain.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushProperties.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushSql.js">
</script>
<script type="text/javaScript" src="../resources/syntaxHighlighter/scripts/shBrushXml.js">
</script>
<script type="text/javaScript">
SyntaxHighlighter.all();</script>
</body>
</html>
